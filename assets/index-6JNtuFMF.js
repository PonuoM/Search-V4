import{gapi as yn}from"gapi-script";import*as Ic from"xlsx";import qy from"jspdf";import Gy from"html2canvas";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Zm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $m={exports:{}},es={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By=Symbol.for("react.transitional.element"),zy=Symbol.for("react.fragment");function Xm(t,e,n){var i=null;if(n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),"key"in e){n={};for(var l in e)l!=="key"&&(n[l]=e[l])}else n=e;return e=n.ref,{$$typeof:By,type:t,key:i,ref:e!==void 0?e:null,props:n}}es.Fragment=zy;es.jsx=Xm;es.jsxs=Xm;$m.exports=es;var p=$m.exports,Km={exports:{}},Y={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au=Symbol.for("react.transitional.element"),Hy=Symbol.for("react.portal"),Oy=Symbol.for("react.fragment"),Fy=Symbol.for("react.strict_mode"),Yy=Symbol.for("react.profiler"),Jy=Symbol.for("react.consumer"),Zy=Symbol.for("react.context"),$y=Symbol.for("react.forward_ref"),Xy=Symbol.for("react.suspense"),Ky=Symbol.for("react.memo"),Qm=Symbol.for("react.lazy"),Lc=Symbol.iterator;function Qy(t){return t===null||typeof t!="object"?null:(t=Lc&&t[Lc]||t["@@iterator"],typeof t=="function"?t:null)}var Wm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},jm=Object.assign,eh={};function sl(t,e,n){this.props=t,this.context=e,this.refs=eh,this.updater=n||Wm}sl.prototype.isReactComponent={};sl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};sl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function th(){}th.prototype=sl.prototype;function Mu(t,e,n){this.props=t,this.context=e,this.refs=eh,this.updater=n||Wm}var Nu=Mu.prototype=new th;Nu.constructor=Mu;jm(Nu,sl.prototype);Nu.isPureReactComponent=!0;var Vc=Array.isArray,ve={H:null,A:null,T:null,S:null,V:null},nh=Object.prototype.hasOwnProperty;function Ru(t,e,n,i,l,o){return n=o.ref,{$$typeof:Au,type:t,key:e,ref:n!==void 0?n:null,props:o}}function Wy(t,e){return Ru(t.type,e,void 0,void 0,void 0,t.props)}function bu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Au}function jy(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Pc=/\/+/g;function xs(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jy(""+t.key):e.toString(36)}function qc(){}function e0(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(qc,qc):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function yi(t,e,n,i,l){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var r=!1;if(t===null)r=!0;else switch(o){case"bigint":case"string":case"number":r=!0;break;case"object":switch(t.$$typeof){case Au:case Hy:r=!0;break;case Qm:return r=t._init,yi(r(t._payload),e,n,i,l)}}if(r)return l=l(t),r=i===""?"."+xs(t,0):i,Vc(l)?(n="",r!=null&&(n=r.replace(Pc,"$&/")+"/"),yi(l,e,n,"",function(f){return f})):l!=null&&(bu(l)&&(l=Wy(l,n+(l.key==null||t&&t.key===l.key?"":(""+l.key).replace(Pc,"$&/")+"/")+r)),e.push(l)),1;r=0;var u=i===""?".":i+":";if(Vc(t))for(var c=0;c<t.length;c++)i=t[c],o=u+xs(i,c),r+=yi(i,e,n,o,l);else if(c=Qy(t),typeof c=="function")for(t=c.call(t),c=0;!(i=t.next()).done;)i=i.value,o=u+xs(i,c++),r+=yi(i,e,n,o,l);else if(o==="object"){if(typeof t.then=="function")return yi(e0(t),e,n,i,l);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return r}function Do(t,e,n){if(t==null)return t;var i=[],l=0;return yi(t,i,"","",function(o){return e.call(n,o,l++)}),i}function t0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function n0(){}Y.Children={map:Do,forEach:function(t,e,n){Do(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Do(t,function(){e++}),e},toArray:function(t){return Do(t,function(e){return e})||[]},only:function(t){if(!bu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Component=sl;Y.Fragment=Oy;Y.Profiler=Yy;Y.PureComponent=Mu;Y.StrictMode=Fy;Y.Suspense=Xy;Y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ve;Y.__COMPILER_RUNTIME={__proto__:null,c:function(t){return ve.H.useMemoCache(t)}};Y.cache=function(t){return function(){return t.apply(null,arguments)}};Y.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var i=jm({},t.props),l=t.key,o=void 0;if(e!=null)for(r in e.ref!==void 0&&(o=void 0),e.key!==void 0&&(l=""+e.key),e)!nh.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(i[r]=e[r]);var r=arguments.length-2;if(r===1)i.children=n;else if(1<r){for(var u=Array(r),c=0;c<r;c++)u[c]=arguments[c+2];i.children=u}return Ru(t.type,l,void 0,void 0,o,i)};Y.createContext=function(t){return t={$$typeof:Zy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:Jy,_context:t},t};Y.createElement=function(t,e,n){var i,l={},o=null;if(e!=null)for(i in e.key!==void 0&&(o=""+e.key),e)nh.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=e[i]);var r=arguments.length-2;if(r===1)l.children=n;else if(1<r){for(var u=Array(r),c=0;c<r;c++)u[c]=arguments[c+2];l.children=u}if(t&&t.defaultProps)for(i in r=t.defaultProps,r)l[i]===void 0&&(l[i]=r[i]);return Ru(t,o,void 0,void 0,null,l)};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:$y,render:t}};Y.isValidElement=bu;Y.lazy=function(t){return{$$typeof:Qm,_payload:{_status:-1,_result:t},_init:t0}};Y.memo=function(t,e){return{$$typeof:Ky,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=ve.T,n={};ve.T=n;try{var i=t(),l=ve.S;l!==null&&l(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(n0,Gc)}catch(o){Gc(o)}finally{ve.T=e}};Y.unstable_useCacheRefresh=function(){return ve.H.useCacheRefresh()};Y.use=function(t){return ve.H.use(t)};Y.useActionState=function(t,e,n){return ve.H.useActionState(t,e,n)};Y.useCallback=function(t,e){return ve.H.useCallback(t,e)};Y.useContext=function(t){return ve.H.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t,e){return ve.H.useDeferredValue(t,e)};Y.useEffect=function(t,e,n){var i=ve.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(t,e)};Y.useId=function(){return ve.H.useId()};Y.useImperativeHandle=function(t,e,n){return ve.H.useImperativeHandle(t,e,n)};Y.useInsertionEffect=function(t,e){return ve.H.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return ve.H.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return ve.H.useMemo(t,e)};Y.useOptimistic=function(t,e){return ve.H.useOptimistic(t,e)};Y.useReducer=function(t,e,n){return ve.H.useReducer(t,e,n)};Y.useRef=function(t){return ve.H.useRef(t)};Y.useState=function(t){return ve.H.useState(t)};Y.useSyncExternalStore=function(t,e,n){return ve.H.useSyncExternalStore(t,e,n)};Y.useTransition=function(){return ve.H.useTransition()};Y.version="19.1.0";Km.exports=Y;var B=Km.exports;const i0=Zm(B);var ih={exports:{}},ts={},lh={exports:{}},oh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(w,O){var q=w.length;w.push(O);e:for(;0<q;){var ie=q-1>>>1,me=w[ie];if(0<l(me,O))w[ie]=O,w[q]=me,q=ie;else break e}}function n(w){return w.length===0?null:w[0]}function i(w){if(w.length===0)return null;var O=w[0],q=w.pop();if(q!==O){w[0]=q;e:for(var ie=0,me=w.length,an=me>>>1;ie<an;){var _t=2*(ie+1)-1,sn=w[_t],xt=_t+1,rn=w[xt];if(0>l(sn,q))xt<me&&0>l(rn,sn)?(w[ie]=rn,w[xt]=q,ie=xt):(w[ie]=sn,w[_t]=q,ie=_t);else if(xt<me&&0>l(rn,q))w[ie]=rn,w[xt]=q,ie=xt;else break e}}return O}function l(w,O){var q=w.sortIndex-O.sortIndex;return q!==0?q:w.id-O.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var r=Date,u=r.now();t.unstable_now=function(){return r.now()-u}}var c=[],f=[],d=1,m=null,h=3,g=!1,S=!1,_=!1,M=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;function C(w){for(var O=n(f);O!==null;){if(O.callback===null)i(f);else if(O.startTime<=w)i(f),O.sortIndex=O.expirationTime,e(c,O);else break;O=n(f)}}function x(w){if(_=!1,C(w),!S)if(n(c)!==null)S=!0,D||(D=!0,se());else{var O=n(f);O!==null&&W(x,O.startTime-w)}}var D=!1,N=-1,E=5,b=-1;function k(){return M?!0:!(t.unstable_now()-b<E)}function P(){if(M=!1,D){var w=t.unstable_now();b=w;var O=!0;try{e:{S=!1,_&&(_=!1,y(N),N=-1),g=!0;var q=h;try{t:{for(C(w),m=n(c);m!==null&&!(m.expirationTime>w&&k());){var ie=m.callback;if(typeof ie=="function"){m.callback=null,h=m.priorityLevel;var me=ie(m.expirationTime<=w);if(w=t.unstable_now(),typeof me=="function"){m.callback=me,C(w),O=!0;break t}m===n(c)&&i(c),C(w)}else i(c);m=n(c)}if(m!==null)O=!0;else{var an=n(f);an!==null&&W(x,an.startTime-w),O=!1}}break e}finally{m=null,h=q,g=!1}O=void 0}}finally{O?se():D=!1}}}var se;if(typeof T=="function")se=function(){T(P)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,de=Fe.port2;Fe.port1.onmessage=P,se=function(){de.postMessage(null)}}else se=function(){v(P,0)};function W(w,O){N=v(function(){w(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(w){w.callback=null},t.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<w?Math.floor(1e3/w):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_next=function(w){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var q=h;h=O;try{return w()}finally{h=q}},t.unstable_requestPaint=function(){M=!0},t.unstable_runWithPriority=function(w,O){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var q=h;h=w;try{return O()}finally{h=q}},t.unstable_scheduleCallback=function(w,O,q){var ie=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ie+q:ie):q=ie,w){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=q+me,w={id:d++,callback:O,priorityLevel:w,startTime:q,expirationTime:me,sortIndex:-1},q>ie?(w.sortIndex=q,e(f,w),n(c)===null&&w===n(f)&&(_?(y(N),N=-1):_=!0,W(x,q-ie))):(w.sortIndex=me,e(c,w),S||g||(S=!0,D||(D=!0,se()))),w},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(w){var O=h;return function(){var q=h;h=O;try{return w.apply(this,arguments)}finally{h=q}}}})(oh);lh.exports=oh;var l0=lh.exports,ah={exports:{}},$e={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0=B;function sh(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function fn(){}var Je={d:{f:fn,r:function(){throw Error(sh(522))},D:fn,C:fn,L:fn,m:fn,X:fn,S:fn,M:fn},p:0,findDOMNode:null},a0=Symbol.for("react.portal");function s0(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a0,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}var Il=o0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function ns(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}$e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Je;$e.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(sh(299));return s0(t,e,null,n)};$e.flushSync=function(t){var e=Il.T,n=Je.p;try{if(Il.T=null,Je.p=2,t)return t()}finally{Il.T=e,Je.p=n,Je.d.f()}};$e.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Je.d.C(t,e))};$e.prefetchDNS=function(t){typeof t=="string"&&Je.d.D(t)};$e.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,i=ns(n,e.crossOrigin),l=typeof e.integrity=="string"?e.integrity:void 0,o=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Je.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:o}):n==="script"&&Je.d.X(t,{crossOrigin:i,integrity:l,fetchPriority:o,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};$e.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=ns(e.as,e.crossOrigin);Je.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Je.d.M(t)};$e.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,i=ns(n,e.crossOrigin);Je.d.L(t,n,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};$e.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=ns(e.as,e.crossOrigin);Je.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Je.d.m(t)};$e.requestFormReset=function(t){Je.d.r(t)};$e.unstable_batchedUpdates=function(t,e){return t(e)};$e.useFormState=function(t,e,n){return Il.H.useFormState(t,e,n)};$e.useFormStatus=function(){return Il.H.useHostTransitionStatus()};$e.version="19.1.0";function rh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rh)}catch(t){console.error(t)}}rh(),ah.exports=$e;var r0=ah.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var we=l0,uh=B,u0=r0;function A(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function ch(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fh(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Bc(t){if(mo(t)!==t)throw Error(A(188))}function c0(t){var e=t.alternate;if(!e){if(e=mo(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,i=e;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return Bc(l),t;if(o===i)return Bc(l),e;o=o.sibling}throw Error(A(188))}if(n.return!==i.return)n=l,i=o;else{for(var r=!1,u=l.child;u;){if(u===n){r=!0,n=l,i=o;break}if(u===i){r=!0,i=l,n=o;break}u=u.sibling}if(!r){for(u=o.child;u;){if(u===n){r=!0,n=o,i=l;break}if(u===i){r=!0,i=o,n=l;break}u=u.sibling}if(!r)throw Error(A(189))}}if(n.alternate!==i)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function dh(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=dh(t),e!==null)return e;t=t.sibling}return null}var ge=Object.assign,f0=Symbol.for("react.element"),wo=Symbol.for("react.transitional.element"),Rl=Symbol.for("react.portal"),_i=Symbol.for("react.fragment"),mh=Symbol.for("react.strict_mode"),cr=Symbol.for("react.profiler"),d0=Symbol.for("react.provider"),hh=Symbol.for("react.consumer"),Ft=Symbol.for("react.context"),Du=Symbol.for("react.forward_ref"),fr=Symbol.for("react.suspense"),dr=Symbol.for("react.suspense_list"),wu=Symbol.for("react.memo"),hn=Symbol.for("react.lazy"),mr=Symbol.for("react.activity"),m0=Symbol.for("react.memo_cache_sentinel"),zc=Symbol.iterator;function Tl(t){return t===null||typeof t!="object"?null:(t=zc&&t[zc]||t["@@iterator"],typeof t=="function"?t:null)}var h0=Symbol.for("react.client.reference");function hr(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===h0?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _i:return"Fragment";case cr:return"Profiler";case mh:return"StrictMode";case fr:return"Suspense";case dr:return"SuspenseList";case mr:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Rl:return"Portal";case Ft:return(t.displayName||"Context")+".Provider";case hh:return(t._context.displayName||"Context")+".Consumer";case Du:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wu:return e=t.displayName||null,e!==null?e:hr(t.type)||"Memo";case hn:e=t._payload,t=t._init;try{return hr(t(e))}catch{}}return null}var bl=Array.isArray,G=uh.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=u0.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Jn={pending:!1,data:null,method:null,action:null},pr=[],xi=-1;function Pt(t){return{current:t}}function Ve(t){0>xi||(t.current=pr[xi],pr[xi]=null,xi--)}function Te(t,e){xi++,pr[xi]=t.current,t.current=e}var kt=Pt(null),Kl=Pt(null),Mn=Pt(null),pa=Pt(null);function ga(t,e){switch(Te(Mn,e),Te(Kl,t),Te(kt,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Zf(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Zf(e),t=wg(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Ve(kt),Te(kt,t)}function Yi(){Ve(kt),Ve(Kl),Ve(Mn)}function gr(t){t.memoizedState!==null&&Te(pa,t);var e=kt.current,n=wg(e,t.type);e!==n&&(Te(Kl,t),Te(kt,n))}function ya(t){Kl.current===t&&(Ve(kt),Ve(Kl)),pa.current===t&&(Ve(pa),ao._currentValue=Jn)}var yr=Object.prototype.hasOwnProperty,ku=we.unstable_scheduleCallback,Es=we.unstable_cancelCallback,p0=we.unstable_shouldYield,g0=we.unstable_requestPaint,Ut=we.unstable_now,y0=we.unstable_getCurrentPriorityLevel,ph=we.unstable_ImmediatePriority,gh=we.unstable_UserBlockingPriority,va=we.unstable_NormalPriority,v0=we.unstable_LowPriority,yh=we.unstable_IdlePriority,T0=we.log,S0=we.unstable_setDisableYieldValue,ho=null,at=null;function _n(t){if(typeof T0=="function"&&S0(t),at&&typeof at.setStrictMode=="function")try{at.setStrictMode(ho,t)}catch{}}var st=Math.clz32?Math.clz32:x0,C0=Math.log,_0=Math.LN2;function x0(t){return t>>>=0,t===0?32:31-(C0(t)/_0|0)|0}var ko=256,Uo=4194304;function On(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function is(t,e,n){var i=t.pendingLanes;if(i===0)return 0;var l=0,o=t.suspendedLanes,r=t.pingedLanes;t=t.warmLanes;var u=i&134217727;return u!==0?(i=u&~o,i!==0?l=On(i):(r&=u,r!==0?l=On(r):n||(n=u&~t,n!==0&&(l=On(n))))):(u=i&~o,u!==0?l=On(u):r!==0?l=On(r):n||(n=i&~t,n!==0&&(l=On(n)))),l===0?0:e!==0&&e!==l&&!(e&o)&&(o=l&-l,n=e&-e,o>=n||o===32&&(n&4194048)!==0)?e:l}function po(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function E0(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vh(){var t=ko;return ko<<=1,!(ko&4194048)&&(ko=256),t}function Th(){var t=Uo;return Uo<<=1,!(Uo&62914560)&&(Uo=4194304),t}function As(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function go(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function A0(t,e,n,i,l,o){var r=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var u=t.entanglements,c=t.expirationTimes,f=t.hiddenUpdates;for(n=r&~n;0<n;){var d=31-st(n),m=1<<d;u[d]=0,c[d]=-1;var h=f[d];if(h!==null)for(f[d]=null,d=0;d<h.length;d++){var g=h[d];g!==null&&(g.lane&=-536870913)}n&=~m}i!==0&&Sh(t,i,0),o!==0&&l===0&&t.tag!==0&&(t.suspendedLanes|=o&~(r&~e))}function Sh(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var i=31-st(e);t.entangledLanes|=e,t.entanglements[i]=t.entanglements[i]|1073741824|n&4194090}function Ch(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-st(n),l=1<<i;l&e|t[i]&e&&(t[i]|=e),n&=~l}}function Uu(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Iu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function _h(){var t=ne.p;return t!==0?t:(t=window.event,t===void 0?32:zg(t.type))}function M0(t,e){var n=ne.p;try{return ne.p=t,e()}finally{ne.p=n}}var Gn=Math.random().toString(36).slice(2),ze="__reactFiber$"+Gn,je="__reactProps$"+Gn,rl="__reactContainer$"+Gn,vr="__reactEvents$"+Gn,N0="__reactListeners$"+Gn,R0="__reactHandles$"+Gn,Hc="__reactResources$"+Gn,yo="__reactMarker$"+Gn;function Lu(t){delete t[ze],delete t[je],delete t[vr],delete t[N0],delete t[R0]}function Ei(t){var e=t[ze];if(e)return e;for(var n=t.parentNode;n;){if(e=n[rl]||n[ze]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Kf(t);t!==null;){if(n=t[ze])return n;t=Kf(t)}return e}t=n,n=t.parentNode}return null}function ul(t){if(t=t[ze]||t[rl]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Dl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(A(33))}function Li(t){var e=t[Hc];return e||(e=t[Hc]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Ie(t){t[yo]=!0}var xh=new Set,Eh={};function si(t,e){Ji(t,e),Ji(t+"Capture",e)}function Ji(t,e){for(Eh[t]=e,t=0;t<e.length;t++)xh.add(e[t])}var b0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Oc={},Fc={};function D0(t){return yr.call(Fc,t)?!0:yr.call(Oc,t)?!1:b0.test(t)?Fc[t]=!0:(Oc[t]=!0,!1)}function Qo(t,e,n){if(D0(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Io(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function Bt(t,e,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+i)}}var Ms,Yc;function vi(t){if(Ms===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ms=e&&e[1]||"",Yc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ms+t+Yc}var Ns=!1;function Rs(t,e){if(!t||Ns)return"";Ns=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(g){var h=g}Reflect.construct(t,[],m)}else{try{m.call()}catch(g){h=g}t.call(m.prototype)}}else{try{throw Error()}catch(g){h=g}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(g){if(g&&h&&typeof g.stack=="string")return[g.stack,h.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),r=o[0],u=o[1];if(r&&u){var c=r.split(`
`),f=u.split(`
`);for(l=i=0;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;for(;l<f.length&&!f[l].includes("DetermineComponentFrameRoot");)l++;if(i===c.length||l===f.length)for(i=c.length-1,l=f.length-1;1<=i&&0<=l&&c[i]!==f[l];)l--;for(;1<=i&&0<=l;i--,l--)if(c[i]!==f[l]){if(i!==1||l!==1)do if(i--,l--,0>l||c[i]!==f[l]){var d=`
`+c[i].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=i&&0<=l);break}}}finally{Ns=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?vi(n):""}function w0(t){switch(t.tag){case 26:case 27:case 5:return vi(t.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 15:return Rs(t.type,!1);case 11:return Rs(t.type.render,!1);case 1:return Rs(t.type,!0);case 31:return vi("Activity");default:return""}}function Jc(t){try{var e="";do e+=w0(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function dt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ah(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function k0(t){var e=Ah(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(r){i=""+r,o.call(this,r)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(r){i=""+r},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ta(t){t._valueTracker||(t._valueTracker=k0(t))}function Mh(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Ah(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Sa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var U0=/[\n"\\]/g;function pt(t){return t.replace(U0,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Tr(t,e,n,i,l,o,r,u){t.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?t.type=r:t.removeAttribute("type"),e!=null?r==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+dt(e)):t.value!==""+dt(e)&&(t.value=""+dt(e)):r!=="submit"&&r!=="reset"||t.removeAttribute("value"),e!=null?Sr(t,r,dt(e)):n!=null?Sr(t,r,dt(n)):i!=null&&t.removeAttribute("value"),l==null&&o!=null&&(t.defaultChecked=!!o),l!=null&&(t.checked=l&&typeof l!="function"&&typeof l!="symbol"),u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"?t.name=""+dt(u):t.removeAttribute("name")}function Nh(t,e,n,i,l,o,r,u){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(t.type=o),e!=null||n!=null){if(!(o!=="submit"&&o!=="reset"||e!=null))return;n=n!=null?""+dt(n):"",e=e!=null?""+dt(e):n,u||e===t.value||(t.value=e),t.defaultValue=e}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,t.checked=u?t.checked:!!i,t.defaultChecked=!!i,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.name=r)}function Sr(t,e,n){e==="number"&&Sa(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function Vi(t,e,n,i){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&i&&(t[n].defaultSelected=!0)}else{for(n=""+dt(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,i&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function Rh(t,e,n){if(e!=null&&(e=""+dt(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+dt(n):""}function bh(t,e,n,i){if(e==null){if(i!=null){if(n!=null)throw Error(A(92));if(bl(i)){if(1<i.length)throw Error(A(93));i=i[0]}n=i}n==null&&(n=""),e=n}n=dt(e),t.defaultValue=n,i=t.textContent,i===n&&i!==""&&i!==null&&(t.value=i)}function Zi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var I0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Zc(t,e,n){var i=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":i?t.setProperty(e,n):typeof n!="number"||n===0||I0.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Dh(t,e,n){if(e!=null&&typeof e!="object")throw Error(A(62));if(t=t.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="");for(var l in e)i=e[l],e.hasOwnProperty(l)&&n[l]!==i&&Zc(t,l,i)}else for(var o in e)e.hasOwnProperty(o)&&Zc(t,o,e[o])}function Vu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var L0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),V0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wo(t){return V0.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Cr=null;function Pu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ai=null,Pi=null;function $c(t){var e=ul(t);if(e&&(t=e.stateNode)){var n=t[je]||null;e:switch(t=e.stateNode,e.type){case"input":if(Tr(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+pt(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var l=i[je]||null;if(!l)throw Error(A(90));Tr(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(e=0;e<n.length;e++)i=n[e],i.form===t.form&&Mh(i)}break e;case"textarea":Rh(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&Vi(t,!!n.multiple,e,!1)}}}var bs=!1;function wh(t,e,n){if(bs)return t(e,n);bs=!0;try{var i=t(e);return i}finally{if(bs=!1,(Ai!==null||Pi!==null)&&(ms(),Ai&&(e=Ai,t=Pi,Pi=Ai=null,$c(e),t)))for(e=0;e<t.length;e++)$c(t[e])}}function Ql(t,e){var n=t.stateNode;if(n===null)return null;var i=n[je]||null;if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var Qt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_r=!1;if(Qt)try{var Sl={};Object.defineProperty(Sl,"passive",{get:function(){_r=!0}}),window.addEventListener("test",Sl,Sl),window.removeEventListener("test",Sl,Sl)}catch{_r=!1}var xn=null,qu=null,jo=null;function kh(){if(jo)return jo;var t,e=qu,n=e.length,i,l="value"in xn?xn.value:xn.textContent,o=l.length;for(t=0;t<n&&e[t]===l[t];t++);var r=n-t;for(i=1;i<=r&&e[n-i]===l[o-i];i++);return jo=l.slice(t,1<i?1-i:void 0)}function ea(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Lo(){return!0}function Xc(){return!1}function et(t){function e(n,i,l,o,r){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=o,this.target=r,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Lo:Xc,this.isPropagationStopped=Xc,this}return ge(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),e}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=et(ri),vo=ge({},ri,{view:0,detail:0}),P0=et(vo),Ds,ws,Cl,os=ge({},vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cl&&(Cl&&t.type==="mousemove"?(Ds=t.screenX-Cl.screenX,ws=t.screenY-Cl.screenY):ws=Ds=0,Cl=t),Ds)},movementY:function(t){return"movementY"in t?t.movementY:ws}}),Kc=et(os),q0=ge({},os,{dataTransfer:0}),G0=et(q0),B0=ge({},vo,{relatedTarget:0}),ks=et(B0),z0=ge({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),H0=et(z0),O0=ge({},ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),F0=et(O0),Y0=ge({},ri,{data:0}),Qc=et(Y0),J0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function X0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$0[t])?!!e[t]:!1}function Gu(){return X0}var K0=ge({},vo,{key:function(t){if(t.key){var e=J0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ea(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Z0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gu,charCode:function(t){return t.type==="keypress"?ea(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ea(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Q0=et(K0),W0=ge({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wc=et(W0),j0=ge({},vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gu}),ev=et(j0),tv=ge({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),nv=et(tv),iv=ge({},os,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lv=et(iv),ov=ge({},ri,{newState:0,oldState:0}),av=et(ov),sv=[9,13,27,32],Bu=Qt&&"CompositionEvent"in window,Ll=null;Qt&&"documentMode"in document&&(Ll=document.documentMode);var rv=Qt&&"TextEvent"in window&&!Ll,Uh=Qt&&(!Bu||Ll&&8<Ll&&11>=Ll),jc=" ",ef=!1;function Ih(t,e){switch(t){case"keyup":return sv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mi=!1;function uv(t,e){switch(t){case"compositionend":return Lh(e);case"keypress":return e.which!==32?null:(ef=!0,jc);case"textInput":return t=e.data,t===jc&&ef?null:t;default:return null}}function cv(t,e){if(Mi)return t==="compositionend"||!Bu&&Ih(t,e)?(t=kh(),jo=qu=xn=null,Mi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Uh&&e.locale!=="ko"?null:e.data;default:return null}}var fv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fv[t.type]:e==="textarea"}function Vh(t,e,n,i){Ai?Pi?Pi.push(i):Pi=[i]:Ai=i,e=qa(e,"onChange"),0<e.length&&(n=new ls("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Vl=null,Wl=null;function dv(t){Rg(t,0)}function as(t){var e=Dl(t);if(Mh(e))return t}function nf(t,e){if(t==="change")return e}var Ph=!1;if(Qt){var Us;if(Qt){var Is="oninput"in document;if(!Is){var lf=document.createElement("div");lf.setAttribute("oninput","return;"),Is=typeof lf.oninput=="function"}Us=Is}else Us=!1;Ph=Us&&(!document.documentMode||9<document.documentMode)}function of(){Vl&&(Vl.detachEvent("onpropertychange",qh),Wl=Vl=null)}function qh(t){if(t.propertyName==="value"&&as(Wl)){var e=[];Vh(e,Wl,t,Pu(t)),wh(dv,e)}}function mv(t,e,n){t==="focusin"?(of(),Vl=e,Wl=n,Vl.attachEvent("onpropertychange",qh)):t==="focusout"&&of()}function hv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return as(Wl)}function pv(t,e){if(t==="click")return as(e)}function gv(t,e){if(t==="input"||t==="change")return as(e)}function yv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ct=typeof Object.is=="function"?Object.is:yv;function jl(t,e){if(ct(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!yr.call(e,l)||!ct(t[l],e[l]))return!1}return!0}function af(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sf(t,e){var n=af(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=af(n)}}function Gh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Gh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Bh(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=Sa(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sa(t.document)}return e}function zu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var vv=Qt&&"documentMode"in document&&11>=document.documentMode,Ni=null,xr=null,Pl=null,Er=!1;function rf(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Er||Ni==null||Ni!==Sa(i)||(i=Ni,"selectionStart"in i&&zu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Pl&&jl(Pl,i)||(Pl=i,i=qa(xr,"onSelect"),0<i.length&&(e=new ls("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Ni)))}function zn(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ri={animationend:zn("Animation","AnimationEnd"),animationiteration:zn("Animation","AnimationIteration"),animationstart:zn("Animation","AnimationStart"),transitionrun:zn("Transition","TransitionRun"),transitionstart:zn("Transition","TransitionStart"),transitioncancel:zn("Transition","TransitionCancel"),transitionend:zn("Transition","TransitionEnd")},Ls={},zh={};Qt&&(zh=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function ui(t){if(Ls[t])return Ls[t];if(!Ri[t])return t;var e=Ri[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in zh)return Ls[t]=e[n];return t}var Hh=ui("animationend"),Oh=ui("animationiteration"),Fh=ui("animationstart"),Tv=ui("transitionrun"),Sv=ui("transitionstart"),Cv=ui("transitioncancel"),Yh=ui("transitionend"),Jh=new Map,Ar="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ar.push("scrollEnd");function Mt(t,e){Jh.set(t,e),si(e,[t])}var uf=new WeakMap;function gt(t,e){if(typeof t=="object"&&t!==null){var n=uf.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Jc(e)},uf.set(t,e),e)}return{value:t,source:e,stack:Jc(e)}}var ft=[],bi=0,Hu=0;function ss(){for(var t=bi,e=Hu=bi=0;e<t;){var n=ft[e];ft[e++]=null;var i=ft[e];ft[e++]=null;var l=ft[e];ft[e++]=null;var o=ft[e];if(ft[e++]=null,i!==null&&l!==null){var r=i.pending;r===null?l.next=l:(l.next=r.next,r.next=l),i.pending=l}o!==0&&Zh(n,l,o)}}function rs(t,e,n,i){ft[bi++]=t,ft[bi++]=e,ft[bi++]=n,ft[bi++]=i,Hu|=i,t.lanes|=i,t=t.alternate,t!==null&&(t.lanes|=i)}function Ou(t,e,n,i){return rs(t,e,n,i),Ca(t)}function cl(t,e){return rs(t,null,null,e),Ca(t)}function Zh(t,e,n){t.lanes|=n;var i=t.alternate;i!==null&&(i.lanes|=n);for(var l=!1,o=t.return;o!==null;)o.childLanes|=n,i=o.alternate,i!==null&&(i.childLanes|=n),o.tag===22&&(t=o.stateNode,t===null||t._visibility&1||(l=!0)),t=o,o=o.return;return t.tag===3?(o=t.stateNode,l&&e!==null&&(l=31-st(n),t=o.hiddenUpdates,i=t[l],i===null?t[l]=[e]:i.push(e),e.lane=n|536870912),o):null}function Ca(t){if(50<Zl)throw Zl=0,Jr=null,Error(A(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var Di={};function _v(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ot(t,e,n,i){return new _v(t,e,n,i)}function Fu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xt(t,e){var n=t.alternate;return n===null?(n=ot(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function $h(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function ta(t,e,n,i,l,o){var r=0;if(i=t,typeof t=="function")Fu(t)&&(r=1);else if(typeof t=="string")r=ET(t,n,kt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case mr:return t=ot(31,n,e,l),t.elementType=mr,t.lanes=o,t;case _i:return Zn(n.children,l,o,e);case mh:r=8,l|=24;break;case cr:return t=ot(12,n,e,l|2),t.elementType=cr,t.lanes=o,t;case fr:return t=ot(13,n,e,l),t.elementType=fr,t.lanes=o,t;case dr:return t=ot(19,n,e,l),t.elementType=dr,t.lanes=o,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case d0:case Ft:r=10;break e;case hh:r=9;break e;case Du:r=11;break e;case wu:r=14;break e;case hn:r=16,i=null;break e}r=29,n=Error(A(130,t===null?"null":typeof t,"")),i=null}return e=ot(r,n,e,l),e.elementType=t,e.type=i,e.lanes=o,e}function Zn(t,e,n,i){return t=ot(7,t,i,e),t.lanes=n,t}function Vs(t,e,n){return t=ot(6,t,null,e),t.lanes=n,t}function Ps(t,e,n){return e=ot(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var wi=[],ki=0,_a=null,xa=0,mt=[],ht=0,$n=null,Yt=1,Jt="";function Fn(t,e){wi[ki++]=xa,wi[ki++]=_a,_a=t,xa=e}function Xh(t,e,n){mt[ht++]=Yt,mt[ht++]=Jt,mt[ht++]=$n,$n=t;var i=Yt;t=Jt;var l=32-st(i)-1;i&=~(1<<l),n+=1;var o=32-st(e)+l;if(30<o){var r=l-l%5;o=(i&(1<<r)-1).toString(32),i>>=r,l-=r,Yt=1<<32-st(e)+l|n<<l|i,Jt=o+t}else Yt=1<<o|n<<l|i,Jt=t}function Yu(t){t.return!==null&&(Fn(t,1),Xh(t,1,0))}function Ju(t){for(;t===_a;)_a=wi[--ki],wi[ki]=null,xa=wi[--ki],wi[ki]=null;for(;t===$n;)$n=mt[--ht],mt[ht]=null,Jt=mt[--ht],mt[ht]=null,Yt=mt[--ht],mt[ht]=null}var Ye=null,Ce=null,te=!1,Xn=null,Rt=!1,Mr=Error(A(519));function jn(t){var e=Error(A(418,""));throw eo(gt(e,t)),Mr}function cf(t){var e=t.stateNode,n=t.type,i=t.memoizedProps;switch(e[ze]=t,e[je]=i,n){case"dialog":$("cancel",e),$("close",e);break;case"iframe":case"object":case"embed":$("load",e);break;case"video":case"audio":for(n=0;n<io.length;n++)$(io[n],e);break;case"source":$("error",e);break;case"img":case"image":case"link":$("error",e),$("load",e);break;case"details":$("toggle",e);break;case"input":$("invalid",e),Nh(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Ta(e);break;case"select":$("invalid",e);break;case"textarea":$("invalid",e),bh(e,i.value,i.defaultValue,i.children),Ta(e)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||i.suppressHydrationWarning===!0||Dg(e.textContent,n)?(i.popover!=null&&($("beforetoggle",e),$("toggle",e)),i.onScroll!=null&&$("scroll",e),i.onScrollEnd!=null&&$("scrollend",e),i.onClick!=null&&(e.onclick=gs),e=!0):e=!1,e||jn(t)}function ff(t){for(Ye=t.return;Ye;)switch(Ye.tag){case 5:case 13:Rt=!1;return;case 27:case 3:Rt=!0;return;default:Ye=Ye.return}}function _l(t){if(t!==Ye)return!1;if(!te)return ff(t),te=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Wr(t.type,t.memoizedProps)),n=!n),n&&Ce&&jn(t),ff(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){Ce=At(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}Ce=null}}else e===27?(e=Ce,Bn(t.type)?(t=tu,tu=null,Ce=t):Ce=e):Ce=Ye?At(t.stateNode.nextSibling):null;return!0}function To(){Ce=Ye=null,te=!1}function df(){var t=Xn;return t!==null&&(Qe===null?Qe=t:Qe.push.apply(Qe,t),Xn=null),t}function eo(t){Xn===null?Xn=[t]:Xn.push(t)}var Nr=Pt(null),ci=null,Zt=null;function vn(t,e,n){Te(Nr,e._currentValue),e._currentValue=n}function Kt(t){t._currentValue=Nr.current,Ve(Nr)}function Rr(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function br(t,e,n,i){var l=t.child;for(l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){var r=l.child;o=o.firstContext;e:for(;o!==null;){var u=o;o=l;for(var c=0;c<e.length;c++)if(u.context===e[c]){o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Rr(o.return,n,t),i||(r=null);break e}o=u.next}}else if(l.tag===18){if(r=l.return,r===null)throw Error(A(341));r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),Rr(r,n,t),r=null}else r=l.child;if(r!==null)r.return=l;else for(r=l;r!==null;){if(r===t){r=null;break}if(l=r.sibling,l!==null){l.return=r.return,r=l;break}r=r.return}l=r}}function So(t,e,n,i){t=null;for(var l=e,o=!1;l!==null;){if(!o){if(l.flags&524288)o=!0;else if(l.flags&262144)break}if(l.tag===10){var r=l.alternate;if(r===null)throw Error(A(387));if(r=r.memoizedProps,r!==null){var u=l.type;ct(l.pendingProps.value,r.value)||(t!==null?t.push(u):t=[u])}}else if(l===pa.current){if(r=l.alternate,r===null)throw Error(A(387));r.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(t!==null?t.push(ao):t=[ao])}l=l.return}t!==null&&br(e,t,n,i),e.flags|=262144}function Ea(t){for(t=t.firstContext;t!==null;){if(!ct(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ei(t){ci=t,Zt=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return Kh(ci,t)}function Vo(t,e){return ci===null&&ei(t),Kh(t,e)}function Kh(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Zt===null){if(t===null)throw Error(A(308));Zt=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Zt=Zt.next=e;return n}var xv=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,i){t.push(i)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},Ev=we.unstable_scheduleCallback,Av=we.unstable_NormalPriority,be={$$typeof:Ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zu(){return{controller:new xv,data:new Map,refCount:0}}function Co(t){t.refCount--,t.refCount===0&&Ev(Av,function(){t.controller.abort()})}var ql=null,Dr=0,$i=0,qi=null;function Mv(t,e){if(ql===null){var n=ql=[];Dr=0,$i=gc(),qi={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Dr++,e.then(mf,mf),e}function mf(){if(--Dr===0&&ql!==null){qi!==null&&(qi.status="fulfilled");var t=ql;ql=null,$i=0,qi=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function Nv(t,e){var n=[],i={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return t.then(function(){i.status="fulfilled",i.value=e;for(var l=0;l<n.length;l++)(0,n[l])(e)},function(l){for(i.status="rejected",i.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),i}var hf=G.S;G.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&Mv(t,e),hf!==null&&hf(t,e)};var Kn=Pt(null);function $u(){var t=Kn.current;return t!==null?t:fe.pooledCache}function na(t,e){e===null?Te(Kn,Kn.current):Te(Kn,e.pool)}function Qh(){var t=$u();return t===null?null:{parent:be._currentValue,pool:t}}var _o=Error(A(460)),Wh=Error(A(474)),us=Error(A(542)),wr={then:function(){}};function pf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Po(){}function jh(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Po,Po),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,yf(t),t;default:if(typeof e.status=="string")e.then(Po,Po);else{if(t=fe,t!==null&&100<t.shellSuspendCounter)throw Error(A(482));t=e,t.status="pending",t.then(function(i){if(e.status==="pending"){var l=e;l.status="fulfilled",l.value=i}},function(i){if(e.status==="pending"){var l=e;l.status="rejected",l.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,yf(t),t}throw Gl=e,_o}}var Gl=null;function gf(){if(Gl===null)throw Error(A(459));var t=Gl;return Gl=null,t}function yf(t){if(t===_o||t===us)throw Error(A(483))}var pn=!1;function Xu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Nn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Rn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,oe&2){var l=i.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),i.pending=e,e=Ca(t),Zh(t,null,n),e}return rs(t,i,e,n),Ca(t)}function Bl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Ch(t,n)}}function qs(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var r={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};o===null?l=o=r:o=o.next=r,n=n.next}while(n!==null);o===null?l=o=e:o=o.next=e}else l=o=e;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Ur=!1;function zl(){if(Ur){var t=qi;if(t!==null)throw t}}function Hl(t,e,n,i){Ur=!1;var l=t.updateQueue;pn=!1;var o=l.firstBaseUpdate,r=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var c=u,f=c.next;c.next=null,r===null?o=f:r.next=f,r=c;var d=t.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==r&&(u===null?d.firstBaseUpdate=f:u.next=f,d.lastBaseUpdate=c))}if(o!==null){var m=l.baseState;r=0,d=f=c=null,u=o;do{var h=u.lane&-536870913,g=h!==u.lane;if(g?(Q&h)===h:(i&h)===h){h!==0&&h===$i&&(Ur=!0),d!==null&&(d=d.next={lane:0,tag:u.tag,payload:u.payload,callback:null,next:null});e:{var S=t,_=u;h=e;var M=n;switch(_.tag){case 1:if(S=_.payload,typeof S=="function"){m=S.call(M,m,h);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=_.payload,h=typeof S=="function"?S.call(M,m,h):S,h==null)break e;m=ge({},m,h);break e;case 2:pn=!0}}h=u.callback,h!==null&&(t.flags|=64,g&&(t.flags|=8192),g=l.callbacks,g===null?l.callbacks=[h]:g.push(h))}else g={lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(f=d=g,c=m):d=d.next=g,r|=h;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;g=u,u=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);d===null&&(c=m),l.baseState=c,l.firstBaseUpdate=f,l.lastBaseUpdate=d,o===null&&(l.shared.lanes=0),Pn|=r,t.lanes=r,t.memoizedState=m}}function ep(t,e){if(typeof t!="function")throw Error(A(191,t));t.call(e)}function tp(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)ep(n[t],e)}var Xi=Pt(null),Aa=Pt(0);function vf(t,e){t=en,Te(Aa,t),Te(Xi,e),en=t|e.baseLanes}function Ir(){Te(Aa,en),Te(Xi,Xi.current)}function Ku(){en=Aa.current,Ve(Xi),Ve(Aa)}var Ln=0,J=null,ue=null,Ne=null,Ma=!1,Gi=!1,ti=!1,Na=0,to=0,Bi=null,Rv=0;function Ee(){throw Error(A(321))}function Qu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ct(t[n],e[n]))return!1;return!0}function Wu(t,e,n,i,l,o){return Ln=o,J=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,G.H=t===null||t.memoizedState===null?kp:Up,ti=!1,o=n(i,l),ti=!1,Gi&&(o=ip(e,n,i,l)),np(t),o}function np(t){G.H=Ra;var e=ue!==null&&ue.next!==null;if(Ln=0,Ne=ue=J=null,Ma=!1,to=0,Bi=null,e)throw Error(A(300));t===null||Le||(t=t.dependencies,t!==null&&Ea(t)&&(Le=!0))}function ip(t,e,n,i){J=t;var l=0;do{if(Gi&&(Bi=null),to=0,Gi=!1,25<=l)throw Error(A(301));if(l+=1,Ne=ue=null,t.updateQueue!=null){var o=t.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}G.H=Lv,o=e(n,i)}while(Gi);return o}function bv(){var t=G.H,e=t.useState()[0];return e=typeof e.then=="function"?xo(e):e,t=t.useState()[0],(ue!==null?ue.memoizedState:null)!==t&&(J.flags|=1024),e}function ju(){var t=Na!==0;return Na=0,t}function ec(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function tc(t){if(Ma){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Ma=!1}Ln=0,Ne=ue=J=null,Gi=!1,to=Na=0,Bi=null}function Xe(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?J.memoizedState=Ne=t:Ne=Ne.next=t,Ne}function Re(){if(ue===null){var t=J.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=Ne===null?J.memoizedState:Ne.next;if(e!==null)Ne=e,ue=t;else{if(t===null)throw J.alternate===null?Error(A(467)):Error(A(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},Ne===null?J.memoizedState=Ne=t:Ne=Ne.next=t}return Ne}function nc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xo(t){var e=to;return to+=1,Bi===null&&(Bi=[]),t=jh(Bi,t,e),e=J,(Ne===null?e.memoizedState:Ne.next)===null&&(e=e.alternate,G.H=e===null||e.memoizedState===null?kp:Up),t}function cs(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xo(t);if(t.$$typeof===Ft)return He(t)}throw Error(A(438,String(t)))}function ic(t){var e=null,n=J.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var i=J.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(l){return l.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=nc(),J.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),i=0;i<t;i++)n[i]=m0;return e.index++,n}function Wt(t,e){return typeof e=="function"?e(t):e}function ia(t){var e=Re();return lc(e,ue,t)}function lc(t,e,n){var i=t.queue;if(i===null)throw Error(A(311));i.lastRenderedReducer=n;var l=t.baseQueue,o=i.pending;if(o!==null){if(l!==null){var r=l.next;l.next=o.next,o.next=r}e.baseQueue=l=o,i.pending=null}if(o=t.baseState,l===null)t.memoizedState=o;else{e=l.next;var u=r=null,c=null,f=e,d=!1;do{var m=f.lane&-536870913;if(m!==f.lane?(Q&m)===m:(Ln&m)===m){var h=f.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),m===$i&&(d=!0);else if((Ln&h)===h){f=f.next,h===$i&&(d=!0);continue}else m={lane:0,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=m,r=o):c=c.next=m,J.lanes|=h,Pn|=h;m=f.action,ti&&n(o,m),o=f.hasEagerState?f.eagerState:n(o,m)}else h={lane:m,revertLane:f.revertLane,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},c===null?(u=c=h,r=o):c=c.next=h,J.lanes|=m,Pn|=m;f=f.next}while(f!==null&&f!==e);if(c===null?r=o:c.next=u,!ct(o,t.memoizedState)&&(Le=!0,d&&(n=qi,n!==null)))throw n;t.memoizedState=o,t.baseState=r,t.baseQueue=c,i.lastRenderedState=o}return l===null&&(i.lanes=0),[t.memoizedState,i.dispatch]}function Gs(t){var e=Re(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var i=n.dispatch,l=n.pending,o=e.memoizedState;if(l!==null){n.pending=null;var r=l=l.next;do o=t(o,r.action),r=r.next;while(r!==l);ct(o,e.memoizedState)||(Le=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function lp(t,e,n){var i=J,l=Re(),o=te;if(o){if(n===void 0)throw Error(A(407));n=n()}else n=e();var r=!ct((ue||l).memoizedState,n);r&&(l.memoizedState=n,Le=!0),l=l.queue;var u=sp.bind(null,i,l,t);if(Eo(2048,8,u,[t]),l.getSnapshot!==e||r||Ne!==null&&Ne.memoizedState.tag&1){if(i.flags|=2048,Ki(9,fs(),ap.bind(null,i,l,n,e),null),fe===null)throw Error(A(349));o||Ln&124||op(i,e,n)}return n}function op(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=J.updateQueue,e===null?(e=nc(),J.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ap(t,e,n,i){e.value=n,e.getSnapshot=i,rp(e)&&up(t)}function sp(t,e,n){return n(function(){rp(e)&&up(t)})}function rp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ct(t,n)}catch{return!0}}function up(t){var e=cl(t,2);e!==null&&ut(e,t,2)}function Lr(t){var e=Xe();if(typeof t=="function"){var n=t;if(t=n(),ti){_n(!0);try{n()}finally{_n(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:t},e}function cp(t,e,n,i){return t.baseState=n,lc(t,ue,typeof i=="function"?i:Wt)}function Dv(t,e,n,i,l){if(ds(t))throw Error(A(485));if(t=e.action,t!==null){var o={payload:l,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){o.listeners.push(r)}};G.T!==null?n(!0):o.isTransition=!1,i(o),n=e.pending,n===null?(o.next=e.pending=o,fp(e,o)):(o.next=n.next,e.pending=n.next=o)}}function fp(t,e){var n=e.action,i=e.payload,l=t.state;if(e.isTransition){var o=G.T,r={};G.T=r;try{var u=n(l,i),c=G.S;c!==null&&c(r,u),Tf(t,e,u)}catch(f){Vr(t,e,f)}finally{G.T=o}}else try{o=n(l,i),Tf(t,e,o)}catch(f){Vr(t,e,f)}}function Tf(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Sf(t,e,i)},function(i){return Vr(t,e,i)}):Sf(t,e,n)}function Sf(t,e,n){e.status="fulfilled",e.value=n,dp(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,fp(t,n)))}function Vr(t,e,n){var i=t.pending;if(t.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=n,dp(e),e=e.next;while(e!==i)}t.action=null}function dp(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function mp(t,e){return e}function Cf(t,e){if(te){var n=fe.formState;if(n!==null){e:{var i=J;if(te){if(Ce){t:{for(var l=Ce,o=Rt;l.nodeType!==8;){if(!o){l=null;break t}if(l=At(l.nextSibling),l===null){l=null;break t}}o=l.data,l=o==="F!"||o==="F"?l:null}if(l){Ce=At(l.nextSibling),i=l.data==="F!";break e}}jn(i)}i=!1}i&&(e=n[0])}}return n=Xe(),n.memoizedState=n.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mp,lastRenderedState:e},n.queue=i,n=bp.bind(null,J,i),i.dispatch=n,i=Lr(!1),o=rc.bind(null,J,!1,i.queue),i=Xe(),l={state:e,dispatch:null,action:t,pending:null},i.queue=l,n=Dv.bind(null,J,l,o,n),l.dispatch=n,i.memoizedState=t,[e,n,!1]}function _f(t){var e=Re();return hp(e,ue,t)}function hp(t,e,n){if(e=lc(t,e,mp)[0],t=ia(Wt)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=xo(e)}catch(r){throw r===_o?us:r}else i=e;e=Re();var l=e.queue,o=l.dispatch;return n!==e.memoizedState&&(J.flags|=2048,Ki(9,fs(),wv.bind(null,l,n),null)),[i,o,t]}function wv(t,e){t.action=e}function xf(t){var e=Re(),n=ue;if(n!==null)return hp(e,n,t);Re(),e=e.memoizedState,n=Re();var i=n.queue.dispatch;return n.memoizedState=t,[e,i,!1]}function Ki(t,e,n,i){return t={tag:t,create:n,deps:i,inst:e,next:null},e=J.updateQueue,e===null&&(e=nc(),J.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t),t}function fs(){return{destroy:void 0,resource:void 0}}function pp(){return Re().memoizedState}function la(t,e,n,i){var l=Xe();i=i===void 0?null:i,J.flags|=t,l.memoizedState=Ki(1|e,fs(),n,i)}function Eo(t,e,n,i){var l=Re();i=i===void 0?null:i;var o=l.memoizedState.inst;ue!==null&&i!==null&&Qu(i,ue.memoizedState.deps)?l.memoizedState=Ki(e,o,n,i):(J.flags|=t,l.memoizedState=Ki(1|e,o,n,i))}function Ef(t,e){la(8390656,8,t,e)}function gp(t,e){Eo(2048,8,t,e)}function yp(t,e){return Eo(4,2,t,e)}function vp(t,e){return Eo(4,4,t,e)}function Tp(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Sp(t,e,n){n=n!=null?n.concat([t]):null,Eo(4,4,Tp.bind(null,e,t),n)}function oc(){}function Cp(t,e){var n=Re();e=e===void 0?null:e;var i=n.memoizedState;return e!==null&&Qu(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function _p(t,e){var n=Re();e=e===void 0?null:e;var i=n.memoizedState;if(e!==null&&Qu(e,i[1]))return i[0];if(i=t(),ti){_n(!0);try{t()}finally{_n(!1)}}return n.memoizedState=[i,e],i}function ac(t,e,n){return n===void 0||Ln&1073741824?t.memoizedState=e:(t.memoizedState=n,t=dg(),J.lanes|=t,Pn|=t,n)}function xp(t,e,n,i){return ct(n,e)?n:Xi.current!==null?(t=ac(t,n,i),ct(t,e)||(Le=!0),t):Ln&42?(t=dg(),J.lanes|=t,Pn|=t,e):(Le=!0,t.memoizedState=n)}function Ep(t,e,n,i,l){var o=ne.p;ne.p=o!==0&&8>o?o:8;var r=G.T,u={};G.T=u,rc(t,!1,e,n);try{var c=l(),f=G.S;if(f!==null&&f(u,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=Nv(c,i);Ol(t,e,d,rt(t))}else Ol(t,e,i,rt(t))}catch(m){Ol(t,e,{then:function(){},status:"rejected",reason:m},rt())}finally{ne.p=o,G.T=r}}function kv(){}function Pr(t,e,n,i){if(t.tag!==5)throw Error(A(476));var l=Ap(t).queue;Ep(t,l,e,Jn,n===null?kv:function(){return Mp(t),n(i)})}function Ap(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Jn,baseState:Jn,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:Jn},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wt,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function Mp(t){var e=Ap(t).next.queue;Ol(t,e,{},rt())}function sc(){return He(ao)}function Np(){return Re().memoizedState}function Rp(){return Re().memoizedState}function Uv(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=rt();t=Nn(n);var i=Rn(e,t,n);i!==null&&(ut(i,e,n),Bl(i,e,n)),e={cache:Zu()},t.payload=e;return}e=e.return}}function Iv(t,e,n){var i=rt();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},ds(t)?Dp(e,n):(n=Ou(t,e,n,i),n!==null&&(ut(n,t,i),wp(n,e,i)))}function bp(t,e,n){var i=rt();Ol(t,e,n,i)}function Ol(t,e,n,i){var l={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(ds(t))Dp(e,l);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var r=e.lastRenderedState,u=o(r,n);if(l.hasEagerState=!0,l.eagerState=u,ct(u,r))return rs(t,e,l,0),fe===null&&ss(),!1}catch{}finally{}if(n=Ou(t,e,l,i),n!==null)return ut(n,t,i),wp(n,e,i),!0}return!1}function rc(t,e,n,i){if(i={lane:2,revertLane:gc(),action:i,hasEagerState:!1,eagerState:null,next:null},ds(t)){if(e)throw Error(A(479))}else e=Ou(t,n,i,2),e!==null&&ut(e,t,2)}function ds(t){var e=t.alternate;return t===J||e!==null&&e===J}function Dp(t,e){Gi=Ma=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function wp(t,e,n){if(n&4194048){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Ch(t,n)}}var Ra={readContext:He,use:cs,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useLayoutEffect:Ee,useInsertionEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useSyncExternalStore:Ee,useId:Ee,useHostTransitionStatus:Ee,useFormState:Ee,useActionState:Ee,useOptimistic:Ee,useMemoCache:Ee,useCacheRefresh:Ee},kp={readContext:He,use:cs,useCallback:function(t,e){return Xe().memoizedState=[t,e===void 0?null:e],t},useContext:He,useEffect:Ef,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,la(4194308,4,Tp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return la(4194308,4,t,e)},useInsertionEffect:function(t,e){la(4,2,t,e)},useMemo:function(t,e){var n=Xe();e=e===void 0?null:e;var i=t();if(ti){_n(!0);try{t()}finally{_n(!1)}}return n.memoizedState=[i,e],i},useReducer:function(t,e,n){var i=Xe();if(n!==void 0){var l=n(e);if(ti){_n(!0);try{n(e)}finally{_n(!1)}}}else l=e;return i.memoizedState=i.baseState=l,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:l},i.queue=t,t=t.dispatch=Iv.bind(null,J,t),[i.memoizedState,t]},useRef:function(t){var e=Xe();return t={current:t},e.memoizedState=t},useState:function(t){t=Lr(t);var e=t.queue,n=bp.bind(null,J,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:oc,useDeferredValue:function(t,e){var n=Xe();return ac(n,t,e)},useTransition:function(){var t=Lr(!1);return t=Ep.bind(null,J,t.queue,!0,!1),Xe().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var i=J,l=Xe();if(te){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),fe===null)throw Error(A(349));Q&124||op(i,e,n)}l.memoizedState=n;var o={value:n,getSnapshot:e};return l.queue=o,Ef(sp.bind(null,i,o,t),[t]),i.flags|=2048,Ki(9,fs(),ap.bind(null,i,o,n,e),null),n},useId:function(){var t=Xe(),e=fe.identifierPrefix;if(te){var n=Jt,i=Yt;n=(i&~(1<<32-st(i)-1)).toString(32)+n,e="«"+e+"R"+n,n=Na++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=Rv++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:sc,useFormState:Cf,useActionState:Cf,useOptimistic:function(t){var e=Xe();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=rc.bind(null,J,!0,n),n.dispatch=e,[t,e]},useMemoCache:ic,useCacheRefresh:function(){return Xe().memoizedState=Uv.bind(null,J)}},Up={readContext:He,use:cs,useCallback:Cp,useContext:He,useEffect:gp,useImperativeHandle:Sp,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:_p,useReducer:ia,useRef:pp,useState:function(){return ia(Wt)},useDebugValue:oc,useDeferredValue:function(t,e){var n=Re();return xp(n,ue.memoizedState,t,e)},useTransition:function(){var t=ia(Wt)[0],e=Re().memoizedState;return[typeof t=="boolean"?t:xo(t),e]},useSyncExternalStore:lp,useId:Np,useHostTransitionStatus:sc,useFormState:_f,useActionState:_f,useOptimistic:function(t,e){var n=Re();return cp(n,ue,t,e)},useMemoCache:ic,useCacheRefresh:Rp},Lv={readContext:He,use:cs,useCallback:Cp,useContext:He,useEffect:gp,useImperativeHandle:Sp,useInsertionEffect:yp,useLayoutEffect:vp,useMemo:_p,useReducer:Gs,useRef:pp,useState:function(){return Gs(Wt)},useDebugValue:oc,useDeferredValue:function(t,e){var n=Re();return ue===null?ac(n,t,e):xp(n,ue.memoizedState,t,e)},useTransition:function(){var t=Gs(Wt)[0],e=Re().memoizedState;return[typeof t=="boolean"?t:xo(t),e]},useSyncExternalStore:lp,useId:Np,useHostTransitionStatus:sc,useFormState:xf,useActionState:xf,useOptimistic:function(t,e){var n=Re();return ue!==null?cp(n,ue,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:ic,useCacheRefresh:Rp},zi=null,no=0;function qo(t){var e=no;return no+=1,zi===null&&(zi=[]),jh(zi,t,e)}function xl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Go(t,e){throw e.$$typeof===f0?Error(A(525)):(t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Af(t){var e=t._init;return e(t._payload)}function Ip(t){function e(v,y){if(t){var T=v.deletions;T===null?(v.deletions=[y],v.flags|=16):T.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function i(v){for(var y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function l(v,y){return v=Xt(v,y),v.index=0,v.sibling=null,v}function o(v,y,T){return v.index=T,t?(T=v.alternate,T!==null?(T=T.index,T<y?(v.flags|=67108866,y):T):(v.flags|=67108866,y)):(v.flags|=1048576,y)}function r(v){return t&&v.alternate===null&&(v.flags|=67108866),v}function u(v,y,T,C){return y===null||y.tag!==6?(y=Vs(T,v.mode,C),y.return=v,y):(y=l(y,T),y.return=v,y)}function c(v,y,T,C){var x=T.type;return x===_i?d(v,y,T.props.children,C,T.key):y!==null&&(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===hn&&Af(x)===y.type)?(y=l(y,T.props),xl(y,T),y.return=v,y):(y=ta(T.type,T.key,T.props,null,v.mode,C),xl(y,T),y.return=v,y)}function f(v,y,T,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=Ps(T,v.mode,C),y.return=v,y):(y=l(y,T.children||[]),y.return=v,y)}function d(v,y,T,C,x){return y===null||y.tag!==7?(y=Zn(T,v.mode,C,x),y.return=v,y):(y=l(y,T),y.return=v,y)}function m(v,y,T){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Vs(""+y,v.mode,T),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case wo:return T=ta(y.type,y.key,y.props,null,v.mode,T),xl(T,y),T.return=v,T;case Rl:return y=Ps(y,v.mode,T),y.return=v,y;case hn:var C=y._init;return y=C(y._payload),m(v,y,T)}if(bl(y)||Tl(y))return y=Zn(y,v.mode,T,null),y.return=v,y;if(typeof y.then=="function")return m(v,qo(y),T);if(y.$$typeof===Ft)return m(v,Vo(v,y),T);Go(v,y)}return null}function h(v,y,T,C){var x=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return x!==null?null:u(v,y,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case wo:return T.key===x?c(v,y,T,C):null;case Rl:return T.key===x?f(v,y,T,C):null;case hn:return x=T._init,T=x(T._payload),h(v,y,T,C)}if(bl(T)||Tl(T))return x!==null?null:d(v,y,T,C,null);if(typeof T.then=="function")return h(v,y,qo(T),C);if(T.$$typeof===Ft)return h(v,y,Vo(v,T),C);Go(v,T)}return null}function g(v,y,T,C,x){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return v=v.get(T)||null,u(y,v,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case wo:return v=v.get(C.key===null?T:C.key)||null,c(y,v,C,x);case Rl:return v=v.get(C.key===null?T:C.key)||null,f(y,v,C,x);case hn:var D=C._init;return C=D(C._payload),g(v,y,T,C,x)}if(bl(C)||Tl(C))return v=v.get(T)||null,d(y,v,C,x,null);if(typeof C.then=="function")return g(v,y,T,qo(C),x);if(C.$$typeof===Ft)return g(v,y,T,Vo(y,C),x);Go(y,C)}return null}function S(v,y,T,C){for(var x=null,D=null,N=y,E=y=0,b=null;N!==null&&E<T.length;E++){N.index>E?(b=N,N=null):b=N.sibling;var k=h(v,N,T[E],C);if(k===null){N===null&&(N=b);break}t&&N&&k.alternate===null&&e(v,N),y=o(k,y,E),D===null?x=k:D.sibling=k,D=k,N=b}if(E===T.length)return n(v,N),te&&Fn(v,E),x;if(N===null){for(;E<T.length;E++)N=m(v,T[E],C),N!==null&&(y=o(N,y,E),D===null?x=N:D.sibling=N,D=N);return te&&Fn(v,E),x}for(N=i(N);E<T.length;E++)b=g(N,v,E,T[E],C),b!==null&&(t&&b.alternate!==null&&N.delete(b.key===null?E:b.key),y=o(b,y,E),D===null?x=b:D.sibling=b,D=b);return t&&N.forEach(function(P){return e(v,P)}),te&&Fn(v,E),x}function _(v,y,T,C){if(T==null)throw Error(A(151));for(var x=null,D=null,N=y,E=y=0,b=null,k=T.next();N!==null&&!k.done;E++,k=T.next()){N.index>E?(b=N,N=null):b=N.sibling;var P=h(v,N,k.value,C);if(P===null){N===null&&(N=b);break}t&&N&&P.alternate===null&&e(v,N),y=o(P,y,E),D===null?x=P:D.sibling=P,D=P,N=b}if(k.done)return n(v,N),te&&Fn(v,E),x;if(N===null){for(;!k.done;E++,k=T.next())k=m(v,k.value,C),k!==null&&(y=o(k,y,E),D===null?x=k:D.sibling=k,D=k);return te&&Fn(v,E),x}for(N=i(N);!k.done;E++,k=T.next())k=g(N,v,E,k.value,C),k!==null&&(t&&k.alternate!==null&&N.delete(k.key===null?E:k.key),y=o(k,y,E),D===null?x=k:D.sibling=k,D=k);return t&&N.forEach(function(se){return e(v,se)}),te&&Fn(v,E),x}function M(v,y,T,C){if(typeof T=="object"&&T!==null&&T.type===_i&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case wo:e:{for(var x=T.key;y!==null;){if(y.key===x){if(x=T.type,x===_i){if(y.tag===7){n(v,y.sibling),C=l(y,T.props.children),C.return=v,v=C;break e}}else if(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===hn&&Af(x)===y.type){n(v,y.sibling),C=l(y,T.props),xl(C,T),C.return=v,v=C;break e}n(v,y);break}else e(v,y);y=y.sibling}T.type===_i?(C=Zn(T.props.children,v.mode,C,T.key),C.return=v,v=C):(C=ta(T.type,T.key,T.props,null,v.mode,C),xl(C,T),C.return=v,v=C)}return r(v);case Rl:e:{for(x=T.key;y!==null;){if(y.key===x)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(v,y.sibling),C=l(y,T.children||[]),C.return=v,v=C;break e}else{n(v,y);break}else e(v,y);y=y.sibling}C=Ps(T,v.mode,C),C.return=v,v=C}return r(v);case hn:return x=T._init,T=x(T._payload),M(v,y,T,C)}if(bl(T))return S(v,y,T,C);if(Tl(T)){if(x=Tl(T),typeof x!="function")throw Error(A(150));return T=x.call(T),_(v,y,T,C)}if(typeof T.then=="function")return M(v,y,qo(T),C);if(T.$$typeof===Ft)return M(v,y,Vo(v,T),C);Go(v,T)}return typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint"?(T=""+T,y!==null&&y.tag===6?(n(v,y.sibling),C=l(y,T),C.return=v,v=C):(n(v,y),C=Vs(T,v.mode,C),C.return=v,v=C),r(v)):n(v,y)}return function(v,y,T,C){try{no=0;var x=M(v,y,T,C);return zi=null,x}catch(N){if(N===_o||N===us)throw N;var D=ot(29,N,null,v.mode);return D.lanes=C,D.return=v,D}finally{}}}var Qi=Ip(!0),Lp=Ip(!1),Tt=Pt(null),It=null;function Tn(t){var e=t.alternate;Te(De,De.current&1),Te(Tt,t),It===null&&(e===null||Xi.current!==null||e.memoizedState!==null)&&(It=t)}function Vp(t){if(t.tag===22){if(Te(De,De.current),Te(Tt,t),It===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(It=t)}}else Sn()}function Sn(){Te(De,De.current),Te(Tt,Tt.current)}function $t(t){Ve(Tt),It===t&&(It=null),Ve(De)}var De=Pt(0);function ba(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||eu(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Bs(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:ge({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qr={enqueueSetState:function(t,e,n){t=t._reactInternals;var i=rt(),l=Nn(i);l.payload=e,n!=null&&(l.callback=n),e=Rn(t,l,i),e!==null&&(ut(e,t,i),Bl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=rt(),l=Nn(i);l.tag=1,l.payload=e,n!=null&&(l.callback=n),e=Rn(t,l,i),e!==null&&(ut(e,t,i),Bl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rt(),i=Nn(n);i.tag=2,e!=null&&(i.callback=e),e=Rn(t,i,n),e!==null&&(ut(e,t,n),Bl(e,t,n))}};function Mf(t,e,n,i,l,o,r){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,r):e.prototype&&e.prototype.isPureReactComponent?!jl(n,i)||!jl(l,o):!0}function Nf(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&qr.enqueueReplaceState(e,e.state,null)}function ni(t,e){var n=e;if("ref"in e){n={};for(var i in e)i!=="ref"&&(n[i]=e[i])}if(t=t.defaultProps){n===e&&(n=ge({},n));for(var l in t)n[l]===void 0&&(n[l]=t[l])}return n}var Da=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Pp(t){Da(t)}function qp(t){console.error(t)}function Gp(t){Da(t)}function wa(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function Rf(t,e,n){try{var i=t.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Gr(t,e,n){return n=Nn(n),n.tag=3,n.payload={element:null},n.callback=function(){wa(t,e)},n}function Bp(t){return t=Nn(t),t.tag=3,t}function zp(t,e,n,i){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var o=i.value;t.payload=function(){return l(o)},t.callback=function(){Rf(e,n,i)}}var r=n.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){Rf(e,n,i),typeof l!="function"&&(bn===null?bn=new Set([this]):bn.add(this));var u=i.stack;this.componentDidCatch(i.value,{componentStack:u!==null?u:""})})}function Vv(t,e,n,i,l){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=n.alternate,e!==null&&So(e,n,l,!0),n=Tt.current,n!==null){switch(n.tag){case 13:return It===null?Zr():n.alternate===null&&_e===0&&(_e=3),n.flags&=-257,n.flags|=65536,n.lanes=l,i===wr?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([i]):e.add(i),Qs(t,i,l)),!1;case 22:return n.flags|=65536,i===wr?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([i]):n.add(i)),Qs(t,i,l)),!1}throw Error(A(435,n.tag))}return Qs(t,i,l),Zr(),!1}if(te)return e=Tt.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=l,i!==Mr&&(t=Error(A(422),{cause:i}),eo(gt(t,n)))):(i!==Mr&&(e=Error(A(423),{cause:i}),eo(gt(e,n))),t=t.current.alternate,t.flags|=65536,l&=-l,t.lanes|=l,i=gt(i,n),l=Gr(t.stateNode,i,l),qs(t,l),_e!==4&&(_e=2)),!1;var o=Error(A(520),{cause:i});if(o=gt(o,n),Jl===null?Jl=[o]:Jl.push(o),_e!==4&&(_e=2),e===null)return!0;i=gt(i,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=l&-l,n.lanes|=t,t=Gr(n.stateNode,i,t),qs(n,t),!1;case 1:if(e=n.type,o=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(bn===null||!bn.has(o))))return n.flags|=65536,l&=-l,n.lanes|=l,l=Bp(l),zp(l,t,n,i),qs(n,l),!1}n=n.return}while(n!==null);return!1}var Hp=Error(A(461)),Le=!1;function Pe(t,e,n,i){e.child=t===null?Lp(e,null,n,i):Qi(e,t.child,n,i)}function bf(t,e,n,i,l){n=n.render;var o=e.ref;if("ref"in i){var r={};for(var u in i)u!=="ref"&&(r[u]=i[u])}else r=i;return ei(e),i=Wu(t,e,n,r,o,l),u=ju(),t!==null&&!Le?(ec(t,e,l),jt(t,e,l)):(te&&u&&Yu(e),e.flags|=1,Pe(t,e,i,l),e.child)}function Df(t,e,n,i,l){if(t===null){var o=n.type;return typeof o=="function"&&!Fu(o)&&o.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=o,Op(t,e,o,i,l)):(t=ta(n.type,null,i,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!uc(t,l)){var r=o.memoizedProps;if(n=n.compare,n=n!==null?n:jl,n(r,i)&&t.ref===e.ref)return jt(t,e,l)}return e.flags|=1,t=Xt(o,i),t.ref=e.ref,t.return=e,e.child=t}function Op(t,e,n,i,l){if(t!==null){var o=t.memoizedProps;if(jl(o,i)&&t.ref===e.ref)if(Le=!1,e.pendingProps=i=o,uc(t,l))t.flags&131072&&(Le=!0);else return e.lanes=t.lanes,jt(t,e,l)}return Br(t,e,n,i,l)}function Fp(t,e,n){var i=e.pendingProps,l=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=o!==null?o.baseLanes|n:n,t!==null){for(l=e.child=t.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;e.childLanes=o&~i}else e.childLanes=0,e.child=null;return wf(t,e,i,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&na(e,o!==null?o.cachePool:null),o!==null?vf(e,o):Ir(),Vp(e);else return e.lanes=e.childLanes=536870912,wf(t,e,o!==null?o.baseLanes|n:n,n)}else o!==null?(na(e,o.cachePool),vf(e,o),Sn(),e.memoizedState=null):(t!==null&&na(e,null),Ir(),Sn());return Pe(t,e,l,n),e.child}function wf(t,e,n,i){var l=$u();return l=l===null?null:{parent:be._currentValue,pool:l},e.memoizedState={baseLanes:n,cachePool:l},t!==null&&na(e,null),Ir(),Vp(e),t!==null&&So(t,e,i,!0),null}function oa(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(A(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Br(t,e,n,i,l){return ei(e),n=Wu(t,e,n,i,void 0,l),i=ju(),t!==null&&!Le?(ec(t,e,l),jt(t,e,l)):(te&&i&&Yu(e),e.flags|=1,Pe(t,e,n,l),e.child)}function kf(t,e,n,i,l,o){return ei(e),e.updateQueue=null,n=ip(e,i,n,l),np(t),i=ju(),t!==null&&!Le?(ec(t,e,o),jt(t,e,o)):(te&&i&&Yu(e),e.flags|=1,Pe(t,e,n,o),e.child)}function Uf(t,e,n,i,l){if(ei(e),e.stateNode===null){var o=Di,r=n.contextType;typeof r=="object"&&r!==null&&(o=He(r)),o=new n(i,o),e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=qr,e.stateNode=o,o._reactInternals=e,o=e.stateNode,o.props=i,o.state=e.memoizedState,o.refs={},Xu(e),r=n.contextType,o.context=typeof r=="object"&&r!==null?He(r):Di,o.state=e.memoizedState,r=n.getDerivedStateFromProps,typeof r=="function"&&(Bs(e,n,r,i),o.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(r=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),r!==o.state&&qr.enqueueReplaceState(o,o.state,null),Hl(e,i,o,l),zl(),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(t===null){o=e.stateNode;var u=e.memoizedProps,c=ni(n,u);o.props=c;var f=o.context,d=n.contextType;r=Di,typeof d=="object"&&d!==null&&(r=He(d));var m=n.getDerivedStateFromProps;d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function",u=e.pendingProps!==u,d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u||f!==r)&&Nf(e,o,i,r),pn=!1;var h=e.memoizedState;o.state=h,Hl(e,i,o,l),zl(),f=e.memoizedState,u||h!==f||pn?(typeof m=="function"&&(Bs(e,n,m,i),f=e.memoizedState),(c=pn||Mf(e,n,c,i,h,f,r))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=f),o.props=i,o.state=f,o.context=r,i=c):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,kr(t,e),r=e.memoizedProps,d=ni(n,r),o.props=d,m=e.pendingProps,h=o.context,f=n.contextType,c=Di,typeof f=="object"&&f!==null&&(c=He(f)),u=n.getDerivedStateFromProps,(f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(r!==m||h!==c)&&Nf(e,o,i,c),pn=!1,h=e.memoizedState,o.state=h,Hl(e,i,o,l),zl();var g=e.memoizedState;r!==m||h!==g||pn||t!==null&&t.dependencies!==null&&Ea(t.dependencies)?(typeof u=="function"&&(Bs(e,n,u,i),g=e.memoizedState),(d=pn||Mf(e,n,d,i,h,g,c)||t!==null&&t.dependencies!==null&&Ea(t.dependencies))?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=g),o.props=i,o.state=g,o.context=c,i=d):(typeof o.componentDidUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||r===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return o=i,oa(t,e),i=(e.flags&128)!==0,o||i?(o=e.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:o.render(),e.flags|=1,t!==null&&i?(e.child=Qi(e,t.child,null,l),e.child=Qi(e,null,n,l)):Pe(t,e,n,l),e.memoizedState=o.state,t=e.child):t=jt(t,e,l),t}function If(t,e,n,i){return To(),e.flags|=256,Pe(t,e,n,i),e.child}var zs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hs(t){return{baseLanes:t,cachePool:Qh()}}function Os(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=yt),t}function Yp(t,e,n){var i=e.pendingProps,l=!1,o=(e.flags&128)!==0,r;if((r=o)||(r=t!==null&&t.memoizedState===null?!1:(De.current&2)!==0),r&&(l=!0,e.flags&=-129),r=(e.flags&32)!==0,e.flags&=-33,t===null){if(te){if(l?Tn(e):Sn(),te){var u=Ce,c;if(c=u){e:{for(c=u,u=Rt;c.nodeType!==8;){if(!u){u=null;break e}if(c=At(c.nextSibling),c===null){u=null;break e}}u=c}u!==null?(e.memoizedState={dehydrated:u,treeContext:$n!==null?{id:Yt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},c=ot(18,null,null,0),c.stateNode=u,c.return=e,e.child=c,Ye=e,Ce=null,c=!0):c=!1}c||jn(e)}if(u=e.memoizedState,u!==null&&(u=u.dehydrated,u!==null))return eu(u)?e.lanes=32:e.lanes=536870912,null;$t(e)}return u=i.children,i=i.fallback,l?(Sn(),l=e.mode,u=ka({mode:"hidden",children:u},l),i=Zn(i,l,n,null),u.return=e,i.return=e,u.sibling=i,e.child=u,l=e.child,l.memoizedState=Hs(n),l.childLanes=Os(t,r,n),e.memoizedState=zs,i):(Tn(e),zr(e,u))}if(c=t.memoizedState,c!==null&&(u=c.dehydrated,u!==null)){if(o)e.flags&256?(Tn(e),e.flags&=-257,e=Fs(t,e,n)):e.memoizedState!==null?(Sn(),e.child=t.child,e.flags|=128,e=null):(Sn(),l=i.fallback,u=e.mode,i=ka({mode:"visible",children:i.children},u),l=Zn(l,u,n,null),l.flags|=2,i.return=e,l.return=e,i.sibling=l,e.child=i,Qi(e,t.child,null,n),i=e.child,i.memoizedState=Hs(n),i.childLanes=Os(t,r,n),e.memoizedState=zs,e=l);else if(Tn(e),eu(u)){if(r=u.nextSibling&&u.nextSibling.dataset,r)var f=r.dgst;r=f,i=Error(A(419)),i.stack="",i.digest=r,eo({value:i,source:null,stack:null}),e=Fs(t,e,n)}else if(Le||So(t,e,n,!1),r=(n&t.childLanes)!==0,Le||r){if(r=fe,r!==null&&(i=n&-n,i=i&42?1:Uu(i),i=i&(r.suspendedLanes|n)?0:i,i!==0&&i!==c.retryLane))throw c.retryLane=i,cl(t,i),ut(r,t,i),Hp;u.data==="$?"||Zr(),e=Fs(t,e,n)}else u.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,Ce=At(u.nextSibling),Ye=e,te=!0,Xn=null,Rt=!1,t!==null&&(mt[ht++]=Yt,mt[ht++]=Jt,mt[ht++]=$n,Yt=t.id,Jt=t.overflow,$n=e),e=zr(e,i.children),e.flags|=4096);return e}return l?(Sn(),l=i.fallback,u=e.mode,c=t.child,f=c.sibling,i=Xt(c,{mode:"hidden",children:i.children}),i.subtreeFlags=c.subtreeFlags&65011712,f!==null?l=Xt(f,l):(l=Zn(l,u,n,null),l.flags|=2),l.return=e,i.return=e,i.sibling=l,e.child=i,i=l,l=e.child,u=t.child.memoizedState,u===null?u=Hs(n):(c=u.cachePool,c!==null?(f=be._currentValue,c=c.parent!==f?{parent:f,pool:f}:c):c=Qh(),u={baseLanes:u.baseLanes|n,cachePool:c}),l.memoizedState=u,l.childLanes=Os(t,r,n),e.memoizedState=zs,i):(Tn(e),n=t.child,t=n.sibling,n=Xt(n,{mode:"visible",children:i.children}),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n)}function zr(t,e){return e=ka({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function ka(t,e){return t=ot(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Fs(t,e,n){return Qi(e,t.child,null,n),t=zr(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Lf(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Rr(t.return,e,n)}function Ys(t,e,n,i,l){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=l)}function Jp(t,e,n){var i=e.pendingProps,l=i.revealOrder,o=i.tail;if(Pe(t,e,i.children,n),i=De.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lf(t,n,e);else if(t.tag===19)Lf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}switch(Te(De,i),l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&ba(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),Ys(e,!1,l,n,o);break;case"backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&ba(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}Ys(e,!0,n,null,o);break;case"together":Ys(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function jt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Pn|=e.lanes,!(n&e.childLanes))if(t!==null){if(So(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=Xt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uc(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Ea(t)))}function Pv(t,e,n){switch(e.tag){case 3:ga(e,e.stateNode.containerInfo),vn(e,be,t.memoizedState.cache),To();break;case 27:case 5:gr(e);break;case 4:ga(e,e.stateNode.containerInfo);break;case 10:vn(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(Tn(e),e.flags|=128,null):n&e.child.childLanes?Yp(t,e,n):(Tn(e),t=jt(t,e,n),t!==null?t.sibling:null);Tn(e);break;case 19:var l=(t.flags&128)!==0;if(i=(n&e.childLanes)!==0,i||(So(t,e,n,!1),i=(n&e.childLanes)!==0),l){if(i)return Jp(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Te(De,De.current),i)break;return null;case 22:case 23:return e.lanes=0,Fp(t,e,n);case 24:vn(e,be,t.memoizedState.cache)}return jt(t,e,n)}function Zp(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Le=!0;else{if(!uc(t,n)&&!(e.flags&128))return Le=!1,Pv(t,e,n);Le=!!(t.flags&131072)}else Le=!1,te&&e.flags&1048576&&Xh(e,xa,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var i=e.elementType,l=i._init;if(i=l(i._payload),e.type=i,typeof i=="function")Fu(i)?(t=ni(i,t),e.tag=1,e=Uf(null,e,i,t,n)):(e.tag=0,e=Br(null,e,i,t,n));else{if(i!=null){if(l=i.$$typeof,l===Du){e.tag=11,e=bf(null,e,i,t,n);break e}else if(l===wu){e.tag=14,e=Df(null,e,i,t,n);break e}}throw e=hr(i)||i,Error(A(306,e,""))}}return e;case 0:return Br(t,e,e.type,e.pendingProps,n);case 1:return i=e.type,l=ni(i,e.pendingProps),Uf(t,e,i,l,n);case 3:e:{if(ga(e,e.stateNode.containerInfo),t===null)throw Error(A(387));i=e.pendingProps;var o=e.memoizedState;l=o.element,kr(t,e),Hl(e,i,null,n);var r=e.memoizedState;if(i=r.cache,vn(e,be,i),i!==o.cache&&br(e,[be],n,!0),zl(),i=r.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:r.cache},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){e=If(t,e,i,n);break e}else if(i!==l){l=gt(Error(A(424)),e),eo(l),e=If(t,e,i,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ce=At(t.firstChild),Ye=e,te=!0,Xn=null,Rt=!0,n=Lp(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(To(),i===l){e=jt(t,e,n);break e}Pe(t,e,i,n)}e=e.child}return e;case 26:return oa(t,e),t===null?(n=Wf(e.type,null,e.pendingProps,null))?e.memoizedState=n:te||(n=e.type,t=e.pendingProps,i=Ga(Mn.current).createElement(n),i[ze]=e,i[je]=t,Ge(i,n,t),Ie(i),e.stateNode=i):e.memoizedState=Wf(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return gr(e),t===null&&te&&(i=e.stateNode=Ug(e.type,e.pendingProps,Mn.current),Ye=e,Rt=!0,l=Ce,Bn(e.type)?(tu=l,Ce=At(i.firstChild)):Ce=l),Pe(t,e,e.pendingProps.children,n),oa(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&te&&((l=i=Ce)&&(i=fT(i,e.type,e.pendingProps,Rt),i!==null?(e.stateNode=i,Ye=e,Ce=At(i.firstChild),Rt=!1,l=!0):l=!1),l||jn(e)),gr(e),l=e.type,o=e.pendingProps,r=t!==null?t.memoizedProps:null,i=o.children,Wr(l,o)?i=null:r!==null&&Wr(l,r)&&(e.flags|=32),e.memoizedState!==null&&(l=Wu(t,e,bv,null,null,n),ao._currentValue=l),oa(t,e),Pe(t,e,i,n),e.child;case 6:return t===null&&te&&((t=n=Ce)&&(n=dT(n,e.pendingProps,Rt),n!==null?(e.stateNode=n,Ye=e,Ce=null,t=!0):t=!1),t||jn(e)),null;case 13:return Yp(t,e,n);case 4:return ga(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Qi(e,null,i,n):Pe(t,e,i,n),e.child;case 11:return bf(t,e,e.type,e.pendingProps,n);case 7:return Pe(t,e,e.pendingProps,n),e.child;case 8:return Pe(t,e,e.pendingProps.children,n),e.child;case 12:return Pe(t,e,e.pendingProps.children,n),e.child;case 10:return i=e.pendingProps,vn(e,e.type,i.value),Pe(t,e,i.children,n),e.child;case 9:return l=e.type._context,i=e.pendingProps.children,ei(e),l=He(l),i=i(l),e.flags|=1,Pe(t,e,i,n),e.child;case 14:return Df(t,e,e.type,e.pendingProps,n);case 15:return Op(t,e,e.type,e.pendingProps,n);case 19:return Jp(t,e,n);case 31:return i=e.pendingProps,n=e.mode,i={mode:i.mode,children:i.children},t===null?(n=ka(i,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Xt(t.child,i),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return Fp(t,e,n);case 24:return ei(e),i=He(be),t===null?(l=$u(),l===null&&(l=fe,o=Zu(),l.pooledCache=o,o.refCount++,o!==null&&(l.pooledCacheLanes|=n),l=o),e.memoizedState={parent:i,cache:l},Xu(e),vn(e,be,l)):(t.lanes&n&&(kr(t,e),Hl(e,null,null,n),zl()),l=t.memoizedState,o=e.memoizedState,l.parent!==i?(l={parent:i,cache:i},e.memoizedState=l,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=l),vn(e,be,i)):(i=o.cache,vn(e,be,i),i!==l.cache&&br(e,[be],n,!0))),Pe(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(A(156,e.tag))}function zt(t){t.flags|=4}function Vf(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Vg(e)){if(e=Tt.current,e!==null&&((Q&4194048)===Q?It!==null:(Q&62914560)!==Q&&!(Q&536870912)||e!==It))throw Gl=wr,Wh;t.flags|=8192}}function Bo(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?Th():536870912,t.lanes|=e,Wi|=e)}function El(t,e){if(!te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Se(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function qv(t,e,n){var i=e.pendingProps;switch(Ju(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(e),null;case 1:return Se(e),null;case 3:return n=e.stateNode,i=null,t!==null&&(i=t.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Kt(be),Yi(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(_l(e)?zt(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,df())),Se(e),null;case 26:return n=e.memoizedState,t===null?(zt(e),n!==null?(Se(e),Vf(e,n)):(Se(e),e.flags&=-16777217)):n?n!==t.memoizedState?(zt(e),Se(e),Vf(e,n)):(Se(e),e.flags&=-16777217):(t.memoizedProps!==i&&zt(e),Se(e),e.flags&=-16777217),null;case 27:ya(e),n=Mn.current;var l=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==i&&zt(e);else{if(!i){if(e.stateNode===null)throw Error(A(166));return Se(e),null}t=kt.current,_l(e)?cf(e):(t=Ug(l,i,n),e.stateNode=t,zt(e))}return Se(e),null;case 5:if(ya(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==i&&zt(e);else{if(!i){if(e.stateNode===null)throw Error(A(166));return Se(e),null}if(t=kt.current,_l(e))cf(e);else{switch(l=Ga(Mn.current),t){case 1:t=l.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=l.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=l.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof i.is=="string"?l.createElement("select",{is:i.is}):l.createElement("select"),i.multiple?t.multiple=!0:i.size&&(t.size=i.size);break;default:t=typeof i.is=="string"?l.createElement(n,{is:i.is}):l.createElement(n)}}t[ze]=e,t[je]=i;e:for(l=e.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}e.stateNode=t;e:switch(Ge(t,n,i),n){case"button":case"input":case"select":case"textarea":t=!!i.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&zt(e)}}return Se(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==i&&zt(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(A(166));if(t=Mn.current,_l(e)){if(t=e.stateNode,n=e.memoizedProps,i=null,l=Ye,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}t[ze]=e,t=!!(t.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Dg(t.nodeValue,n)),t||jn(e)}else t=Ga(t).createTextNode(i),t[ze]=e,e.stateNode=t}return Se(e),null;case 13:if(i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(l=_l(e),i!==null&&i.dehydrated!==null){if(t===null){if(!l)throw Error(A(318));if(l=e.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(A(317));l[ze]=e}else To(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Se(e),l=!1}else l=df(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=l),l=!0;if(!l)return e.flags&256?($t(e),e):($t(e),null)}if($t(e),e.flags&128)return e.lanes=n,e;if(n=i!==null,t=t!==null&&t.memoizedState!==null,n){i=e.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool);var o=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==l&&(i.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),Bo(e,e.updateQueue),Se(e),null;case 4:return Yi(),t===null&&yc(e.stateNode.containerInfo),Se(e),null;case 10:return Kt(e.type),Se(e),null;case 19:if(Ve(De),l=e.memoizedState,l===null)return Se(e),null;if(i=(e.flags&128)!==0,o=l.rendering,o===null)if(i)El(l,!1);else{if(_e!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ba(t),o!==null){for(e.flags|=128,El(l,!1),t=o.updateQueue,e.updateQueue=t,Bo(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)$h(n,t),n=n.sibling;return Te(De,De.current&1|2),e.child}t=t.sibling}l.tail!==null&&Ut()>Ia&&(e.flags|=128,i=!0,El(l,!1),e.lanes=4194304)}else{if(!i)if(t=ba(o),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Bo(e,t),El(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!te)return Se(e),null}else 2*Ut()-l.renderingStartTime>Ia&&n!==536870912&&(e.flags|=128,i=!0,El(l,!1),e.lanes=4194304);l.isBackwards?(o.sibling=e.child,e.child=o):(t=l.last,t!==null?t.sibling=o:e.child=o,l.last=o)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ut(),e.sibling=null,t=De.current,Te(De,i?t&1|2:t&1),e):(Se(e),null);case 22:case 23:return $t(e),Ku(),i=e.memoizedState!==null,t!==null?t.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?n&536870912&&!(e.flags&128)&&(Se(e),e.subtreeFlags&6&&(e.flags|=8192)):Se(e),n=e.updateQueue,n!==null&&Bo(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==n&&(e.flags|=2048),t!==null&&Ve(Kn),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Kt(be),Se(e),null;case 25:return null;case 30:return null}throw Error(A(156,e.tag))}function Gv(t,e){switch(Ju(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Kt(be),Yi(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ya(e),null;case 13:if($t(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));To()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(De),null;case 4:return Yi(),null;case 10:return Kt(e.type),null;case 22:case 23:return $t(e),Ku(),t!==null&&Ve(Kn),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Kt(be),null;case 25:return null;default:return null}}function $p(t,e){switch(Ju(e),e.tag){case 3:Kt(be),Yi();break;case 26:case 27:case 5:ya(e);break;case 4:Yi();break;case 13:$t(e);break;case 19:Ve(De);break;case 10:Kt(e.type);break;case 22:case 23:$t(e),Ku(),t!==null&&Ve(Kn);break;case 24:Kt(be)}}function Ao(t,e){try{var n=e.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&t)===t){i=void 0;var o=n.create,r=n.inst;i=o(),r.destroy=i}n=n.next}while(n!==l)}}catch(u){ce(e,e.return,u)}}function Vn(t,e,n){try{var i=e.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var o=l.next;i=o;do{if((i.tag&t)===t){var r=i.inst,u=r.destroy;if(u!==void 0){r.destroy=void 0,l=e;var c=n,f=u;try{f()}catch(d){ce(l,c,d)}}}i=i.next}while(i!==o)}}catch(d){ce(e,e.return,d)}}function Xp(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{tp(e,n)}catch(i){ce(t,t.return,i)}}}function Kp(t,e,n){n.props=ni(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(i){ce(t,e,i)}}function Fl(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var i=t.stateNode;break;case 30:i=t.stateNode;break;default:i=t.stateNode}typeof n=="function"?t.refCleanup=n(i):n.current=i}}catch(l){ce(t,e,l)}}function bt(t,e){var n=t.ref,i=t.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(l){ce(t,e,l)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){ce(t,e,l)}else n.current=null}function Qp(t){var e=t.type,n=t.memoizedProps,i=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(l){ce(t,t.return,l)}}function Js(t,e,n){try{var i=t.stateNode;aT(i,t.type,n,e),i[je]=e}catch(l){ce(t,t.return,l)}}function Wp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Bn(t.type)||t.tag===4}function Zs(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Wp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Bn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hr(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=gs));else if(i!==4&&(i===27&&Bn(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Hr(t,e,n),t=t.sibling;t!==null;)Hr(t,e,n),t=t.sibling}function Ua(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(i===27&&Bn(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Ua(t,e,n),t=t.sibling;t!==null;)Ua(t,e,n),t=t.sibling}function jp(t){var e=t.stateNode,n=t.memoizedProps;try{for(var i=t.type,l=e.attributes;l.length;)e.removeAttributeNode(l[0]);Ge(e,i,n),e[ze]=t,e[je]=n}catch(o){ce(t,t.return,o)}}var Ot=!1,Ae=!1,$s=!1,Pf=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function Bv(t,e){if(t=t.containerInfo,Kr=Oa,t=Bh(t),zu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var r=0,u=-1,c=-1,f=0,d=0,m=t,h=null;t:for(;;){for(var g;m!==n||l!==0&&m.nodeType!==3||(u=r+l),m!==o||i!==0&&m.nodeType!==3||(c=r+i),m.nodeType===3&&(r+=m.nodeValue.length),(g=m.firstChild)!==null;)h=m,m=g;for(;;){if(m===t)break t;if(h===n&&++f===l&&(u=r),h===o&&++d===i&&(c=r),(g=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=g}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qr={focusedElem:t,selectionRange:n},Oa=!1,Ue=e;Ue!==null;)if(e=Ue,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Ue=t;else for(;Ue!==null;){switch(e=Ue,o=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&o!==null){t=void 0,n=e,l=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var S=ni(n.type,l,n.elementType===n.type);t=i.getSnapshotBeforeUpdate(S,o),i.__reactInternalSnapshotBeforeUpdate=t}catch(_){ce(n,n.return,_)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)jr(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jr(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(A(163))}if(t=e.sibling,t!==null){t.return=e.return,Ue=t;break}Ue=e.return}}function eg(t,e,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:dn(t,n),i&4&&Ao(5,n);break;case 1:if(dn(t,n),i&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(r){ce(n,n.return,r)}else{var l=ni(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(l,e,t.__reactInternalSnapshotBeforeUpdate)}catch(r){ce(n,n.return,r)}}i&64&&Xp(n),i&512&&Fl(n,n.return);break;case 3:if(dn(t,n),i&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{tp(t,e)}catch(r){ce(n,n.return,r)}}break;case 27:e===null&&i&4&&jp(n);case 26:case 5:dn(t,n),e===null&&i&4&&Qp(n),i&512&&Fl(n,n.return);break;case 12:dn(t,n);break;case 13:dn(t,n),i&4&&ig(t,n),i&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Xv.bind(null,n),mT(t,n))));break;case 22:if(i=n.memoizedState!==null||Ot,!i){e=e!==null&&e.memoizedState!==null||Ae,l=Ot;var o=Ae;Ot=i,(Ae=e)&&!o?mn(t,n,(n.subtreeFlags&8772)!==0):dn(t,n),Ot=l,Ae=o}break;case 30:break;default:dn(t,n)}}function tg(t){var e=t.alternate;e!==null&&(t.alternate=null,tg(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&Lu(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ye=null,Ke=!1;function Ht(t,e,n){for(n=n.child;n!==null;)ng(t,e,n),n=n.sibling}function ng(t,e,n){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(ho,n)}catch{}switch(n.tag){case 26:Ae||bt(n,e),Ht(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ae||bt(n,e);var i=ye,l=Ke;Bn(n.type)&&(ye=n.stateNode,Ke=!1),Ht(t,e,n),$l(n.stateNode),ye=i,Ke=l;break;case 5:Ae||bt(n,e);case 6:if(i=ye,l=Ke,ye=null,Ht(t,e,n),ye=i,Ke=l,ye!==null)if(Ke)try{(ye.nodeType===9?ye.body:ye.nodeName==="HTML"?ye.ownerDocument.body:ye).removeChild(n.stateNode)}catch(o){ce(n,e,o)}else try{ye.removeChild(n.stateNode)}catch(o){ce(n,e,o)}break;case 18:ye!==null&&(Ke?(t=ye,Xf(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),uo(t)):Xf(ye,n.stateNode));break;case 4:i=ye,l=Ke,ye=n.stateNode.containerInfo,Ke=!0,Ht(t,e,n),ye=i,Ke=l;break;case 0:case 11:case 14:case 15:Ae||Vn(2,n,e),Ae||Vn(4,n,e),Ht(t,e,n);break;case 1:Ae||(bt(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"&&Kp(n,e,i)),Ht(t,e,n);break;case 21:Ht(t,e,n);break;case 22:Ae=(i=Ae)||n.memoizedState!==null,Ht(t,e,n),Ae=i;break;default:Ht(t,e,n)}}function ig(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{uo(t)}catch(n){ce(e,e.return,n)}}function zv(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new Pf),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new Pf),e;default:throw Error(A(435,t.tag))}}function Xs(t,e){var n=zv(t);e.forEach(function(i){var l=Kv.bind(null,t,i);n.has(i)||(n.add(i),i.then(l,l))})}function nt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i],o=t,r=e,u=r;e:for(;u!==null;){switch(u.tag){case 27:if(Bn(u.type)){ye=u.stateNode,Ke=!1;break e}break;case 5:ye=u.stateNode,Ke=!1;break e;case 3:case 4:ye=u.stateNode.containerInfo,Ke=!0;break e}u=u.return}if(ye===null)throw Error(A(160));ng(o,r,l),ye=null,Ke=!1,o=l.alternate,o!==null&&(o.return=null),l.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)lg(e,t),e=e.sibling}var Et=null;function lg(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:nt(e,t),it(t),i&4&&(Vn(3,t,t.return),Ao(3,t),Vn(5,t,t.return));break;case 1:nt(e,t),it(t),i&512&&(Ae||n===null||bt(n,n.return)),i&64&&Ot&&(t=t.updateQueue,t!==null&&(i=t.callbacks,i!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var l=Et;if(nt(e,t),it(t),i&512&&(Ae||n===null||bt(n,n.return)),i&4){var o=n!==null?n.memoizedState:null;if(i=t.memoizedState,n===null)if(i===null)if(t.stateNode===null){e:{i=t.type,n=t.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":o=l.getElementsByTagName("title")[0],(!o||o[yo]||o[ze]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=l.createElement(i),l.head.insertBefore(o,l.querySelector("head > title"))),Ge(o,i,n),o[ze]=t,Ie(o),i=o;break e;case"link":var r=ed("link","href",l).get(i+(n.href||""));if(r){for(var u=0;u<r.length;u++)if(o=r[u],o.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&o.getAttribute("rel")===(n.rel==null?null:n.rel)&&o.getAttribute("title")===(n.title==null?null:n.title)&&o.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){r.splice(u,1);break t}}o=l.createElement(i),Ge(o,i,n),l.head.appendChild(o);break;case"meta":if(r=ed("meta","content",l).get(i+(n.content||""))){for(u=0;u<r.length;u++)if(o=r[u],o.getAttribute("content")===(n.content==null?null:""+n.content)&&o.getAttribute("name")===(n.name==null?null:n.name)&&o.getAttribute("property")===(n.property==null?null:n.property)&&o.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute("charset")===(n.charSet==null?null:n.charSet)){r.splice(u,1);break t}}o=l.createElement(i),Ge(o,i,n),l.head.appendChild(o);break;default:throw Error(A(468,i))}o[ze]=t,Ie(o),i=o}t.stateNode=i}else td(l,t.type,t.stateNode);else t.stateNode=jf(l,i,t.memoizedProps);else o!==i?(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,i===null?td(l,t.type,t.stateNode):jf(l,i,t.memoizedProps)):i===null&&t.stateNode!==null&&Js(t,t.memoizedProps,n.memoizedProps)}break;case 27:nt(e,t),it(t),i&512&&(Ae||n===null||bt(n,n.return)),n!==null&&i&4&&Js(t,t.memoizedProps,n.memoizedProps);break;case 5:if(nt(e,t),it(t),i&512&&(Ae||n===null||bt(n,n.return)),t.flags&32){l=t.stateNode;try{Zi(l,"")}catch(g){ce(t,t.return,g)}}i&4&&t.stateNode!=null&&(l=t.memoizedProps,Js(t,l,n!==null?n.memoizedProps:l)),i&1024&&($s=!0);break;case 6:if(nt(e,t),it(t),i&4){if(t.stateNode===null)throw Error(A(162));i=t.memoizedProps,n=t.stateNode;try{n.nodeValue=i}catch(g){ce(t,t.return,g)}}break;case 3:if(ra=null,l=Et,Et=Ba(e.containerInfo),nt(e,t),Et=l,it(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{uo(e.containerInfo)}catch(g){ce(t,t.return,g)}$s&&($s=!1,og(t));break;case 4:i=Et,Et=Ba(t.stateNode.containerInfo),nt(e,t),it(t),Et=i;break;case 12:nt(e,t),it(t);break;case 13:nt(e,t),it(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(hc=Ut()),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Xs(t,i)));break;case 22:l=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,f=Ot,d=Ae;if(Ot=f||l,Ae=d||c,nt(e,t),Ae=d,Ot=f,it(t),i&8192)e:for(e=t.stateNode,e._visibility=l?e._visibility&-2:e._visibility|1,l&&(n===null||c||Ot||Ae||Yn(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(o=c.stateNode,l)r=o.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{u=c.stateNode;var m=c.memoizedProps.style,h=m!=null&&m.hasOwnProperty("display")?m.display:null;u.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(g){ce(c,c.return,g)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=l?"":c.memoizedProps}catch(g){ce(c,c.return,g)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=t.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Xs(t,n))));break;case 19:nt(e,t),it(t),i&4&&(i=t.updateQueue,i!==null&&(t.updateQueue=null,Xs(t,i)));break;case 30:break;case 21:break;default:nt(e,t),it(t)}}function it(t){var e=t.flags;if(e&2){try{for(var n,i=t.return;i!==null;){if(Wp(i)){n=i;break}i=i.return}if(n==null)throw Error(A(160));switch(n.tag){case 27:var l=n.stateNode,o=Zs(t);Ua(t,o,l);break;case 5:var r=n.stateNode;n.flags&32&&(Zi(r,""),n.flags&=-33);var u=Zs(t);Ua(t,u,r);break;case 3:case 4:var c=n.stateNode.containerInfo,f=Zs(t);Hr(t,f,c);break;default:throw Error(A(161))}}catch(d){ce(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function og(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;og(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function dn(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)eg(t,e.alternate,e),e=e.sibling}function Yn(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Vn(4,e,e.return),Yn(e);break;case 1:bt(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&Kp(e,e.return,n),Yn(e);break;case 27:$l(e.stateNode);case 26:case 5:bt(e,e.return),Yn(e);break;case 22:e.memoizedState===null&&Yn(e);break;case 30:Yn(e);break;default:Yn(e)}t=t.sibling}}function mn(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,l=t,o=e,r=o.flags;switch(o.tag){case 0:case 11:case 15:mn(l,o,n),Ao(4,o);break;case 1:if(mn(l,o,n),i=o,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(f){ce(i,i.return,f)}if(i=o,l=i.updateQueue,l!==null){var u=i.stateNode;try{var c=l.shared.hiddenCallbacks;if(c!==null)for(l.shared.hiddenCallbacks=null,l=0;l<c.length;l++)ep(c[l],u)}catch(f){ce(i,i.return,f)}}n&&r&64&&Xp(o),Fl(o,o.return);break;case 27:jp(o);case 26:case 5:mn(l,o,n),n&&i===null&&r&4&&Qp(o),Fl(o,o.return);break;case 12:mn(l,o,n);break;case 13:mn(l,o,n),n&&r&4&&ig(l,o);break;case 22:o.memoizedState===null&&mn(l,o,n),Fl(o,o.return);break;case 30:break;default:mn(l,o,n)}e=e.sibling}}function cc(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Co(n))}function fc(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Co(t))}function Nt(t,e,n,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ag(t,e,n,i),e=e.sibling}function ag(t,e,n,i){var l=e.flags;switch(e.tag){case 0:case 11:case 15:Nt(t,e,n,i),l&2048&&Ao(9,e);break;case 1:Nt(t,e,n,i);break;case 3:Nt(t,e,n,i),l&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Co(t)));break;case 12:if(l&2048){Nt(t,e,n,i),t=e.stateNode;try{var o=e.memoizedProps,r=o.id,u=o.onPostCommit;typeof u=="function"&&u(r,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){ce(e,e.return,c)}}else Nt(t,e,n,i);break;case 13:Nt(t,e,n,i);break;case 23:break;case 22:o=e.stateNode,r=e.alternate,e.memoizedState!==null?o._visibility&2?Nt(t,e,n,i):Yl(t,e):o._visibility&2?Nt(t,e,n,i):(o._visibility|=2,Ti(t,e,n,i,(e.subtreeFlags&10256)!==0)),l&2048&&cc(r,e);break;case 24:Nt(t,e,n,i),l&2048&&fc(e.alternate,e);break;default:Nt(t,e,n,i)}}function Ti(t,e,n,i,l){for(l=l&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var o=t,r=e,u=n,c=i,f=r.flags;switch(r.tag){case 0:case 11:case 15:Ti(o,r,u,c,l),Ao(8,r);break;case 23:break;case 22:var d=r.stateNode;r.memoizedState!==null?d._visibility&2?Ti(o,r,u,c,l):Yl(o,r):(d._visibility|=2,Ti(o,r,u,c,l)),l&&f&2048&&cc(r.alternate,r);break;case 24:Ti(o,r,u,c,l),l&&f&2048&&fc(r.alternate,r);break;default:Ti(o,r,u,c,l)}e=e.sibling}}function Yl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,i=e,l=i.flags;switch(i.tag){case 22:Yl(n,i),l&2048&&cc(i.alternate,i);break;case 24:Yl(n,i),l&2048&&fc(i.alternate,i);break;default:Yl(n,i)}e=e.sibling}}var wl=8192;function di(t){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)sg(t),t=t.sibling}function sg(t){switch(t.tag){case 26:di(t),t.flags&wl&&t.memoizedState!==null&&MT(Et,t.memoizedState,t.memoizedProps);break;case 5:di(t);break;case 3:case 4:var e=Et;Et=Ba(t.stateNode.containerInfo),di(t),Et=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=wl,wl=16777216,di(t),wl=e):di(t));break;default:di(t)}}function rg(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function Al(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ue=i,cg(i,t)}rg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ug(t),t=t.sibling}function ug(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Vn(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,aa(t)):Al(t);break;default:Al(t)}}function aa(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var i=e[n];Ue=i,cg(i,t)}rg(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Vn(8,e,e.return),aa(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,aa(e));break;default:aa(e)}t=t.sibling}}function cg(t,e){for(;Ue!==null;){var n=Ue;switch(n.tag){case 0:case 11:case 15:Vn(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Co(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ue=i;else e:for(n=t;Ue!==null;){i=Ue;var l=i.sibling,o=i.return;if(tg(i),i===n){Ue=null;break e}if(l!==null){l.return=o,Ue=l;break e}Ue=o}}}var Hv={getCacheForType:function(t){var e=He(be),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},Ov=typeof WeakMap=="function"?WeakMap:Map,oe=0,fe=null,X=null,Q=0,le=0,lt=null,En=!1,fl=!1,dc=!1,en=0,_e=0,Pn=0,Qn=0,mc=0,yt=0,Wi=0,Jl=null,Qe=null,Or=!1,hc=0,Ia=1/0,La=null,bn=null,qe=0,Dn=null,ji=null,Hi=0,Fr=0,Yr=null,fg=null,Zl=0,Jr=null;function rt(){if(oe&2&&Q!==0)return Q&-Q;if(G.T!==null){var t=$i;return t!==0?t:gc()}return _h()}function dg(){yt===0&&(yt=!(Q&536870912)||te?vh():536870912);var t=Tt.current;return t!==null&&(t.flags|=32),yt}function ut(t,e,n){(t===fe&&(le===2||le===9)||t.cancelPendingCommit!==null)&&(el(t,0),An(t,Q,yt,!1)),go(t,n),(!(oe&2)||t!==fe)&&(t===fe&&(!(oe&2)&&(Qn|=n),_e===4&&An(t,Q,yt,!1)),qt(t))}function mg(t,e,n){if(oe&6)throw Error(A(327));var i=!n&&(e&124)===0&&(e&t.expiredLanes)===0||po(t,e),l=i?Jv(t,e):Ks(t,e,!0),o=i;do{if(l===0){fl&&!i&&An(t,e,0,!1);break}else{if(n=t.current.alternate,o&&!Fv(n)){l=Ks(t,e,!1),o=!1;continue}if(l===2){if(o=e,t.errorRecoveryDisabledLanes&o)var r=0;else r=t.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){e=r;e:{var u=t;l=Jl;var c=u.current.memoizedState.isDehydrated;if(c&&(el(u,r).flags|=256),r=Ks(u,r,!1),r!==2){if(dc&&!c){u.errorRecoveryDisabledLanes|=o,Qn|=o,l=4;break e}o=Qe,Qe=l,o!==null&&(Qe===null?Qe=o:Qe.push.apply(Qe,o))}l=r}if(o=!1,l!==2)continue}}if(l===1){el(t,0),An(t,e,0,!0);break}e:{switch(i=t,o=l,o){case 0:case 1:throw Error(A(345));case 4:if((e&4194048)!==e)break;case 6:An(i,e,yt,!En);break e;case 2:Qe=null;break;case 3:case 5:break;default:throw Error(A(329))}if((e&62914560)===e&&(l=hc+300-Ut(),10<l)){if(An(i,e,yt,!En),is(i,0,!0)!==0)break e;i.timeoutHandle=kg(qf.bind(null,i,n,Qe,La,Or,e,yt,Qn,Wi,En,o,2,-0,0),l);break e}qf(i,n,Qe,La,Or,e,yt,Qn,Wi,En,o,0,-0,0)}}break}while(!0);qt(t)}function qf(t,e,n,i,l,o,r,u,c,f,d,m,h,g){if(t.timeoutHandle=-1,m=e.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(oo={stylesheets:null,count:0,unsuspend:AT},sg(e),m=NT(),m!==null)){t.cancelPendingCommit=m(Bf.bind(null,t,e,o,n,i,l,r,u,c,d,1,h,g)),An(t,o,r,!f);return}Bf(t,e,o,n,i,l,r,u,c)}function Fv(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var l=n[i],o=l.getSnapshot;l=l.value;try{if(!ct(o(),l))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function An(t,e,n,i){e&=~mc,e&=~Qn,t.suspendedLanes|=e,t.pingedLanes&=~e,i&&(t.warmLanes|=e),i=t.expirationTimes;for(var l=e;0<l;){var o=31-st(l),r=1<<o;i[o]=-1,l&=~r}n!==0&&Sh(t,n,e)}function ms(){return oe&6?!0:(Mo(0),!1)}function pc(){if(X!==null){if(le===0)var t=X.return;else t=X,Zt=ci=null,tc(t),zi=null,no=0,t=X;for(;t!==null;)$p(t.alternate,t),t=t.return;X=null}}function el(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,rT(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),pc(),fe=t,X=n=Xt(t.current,null),Q=e,le=0,lt=null,En=!1,fl=po(t,e),dc=!1,Wi=yt=mc=Qn=Pn=_e=0,Qe=Jl=null,Or=!1,e&8&&(e|=e&32);var i=t.entangledLanes;if(i!==0)for(t=t.entanglements,i&=e;0<i;){var l=31-st(i),o=1<<l;e|=t[l],i&=~o}return en=e,ss(),n}function hg(t,e){J=null,G.H=Ra,e===_o||e===us?(e=gf(),le=3):e===Wh?(e=gf(),le=4):le=e===Hp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,lt=e,X===null&&(_e=1,wa(t,gt(e,t.current)))}function pg(){var t=G.H;return G.H=Ra,t===null?Ra:t}function gg(){var t=G.A;return G.A=Hv,t}function Zr(){_e=4,En||(Q&4194048)!==Q&&Tt.current!==null||(fl=!0),!(Pn&134217727)&&!(Qn&134217727)||fe===null||An(fe,Q,yt,!1)}function Ks(t,e,n){var i=oe;oe|=2;var l=pg(),o=gg();(fe!==t||Q!==e)&&(La=null,el(t,e)),e=!1;var r=_e;e:do try{if(le!==0&&X!==null){var u=X,c=lt;switch(le){case 8:pc(),r=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(e=!0);var f=le;if(le=0,lt=null,Ui(t,u,c,f),n&&fl){r=0;break e}break;default:f=le,le=0,lt=null,Ui(t,u,c,f)}}Yv(),r=_e;break}catch(d){hg(t,d)}while(!0);return e&&t.shellSuspendCounter++,Zt=ci=null,oe=i,G.H=l,G.A=o,X===null&&(fe=null,Q=0,ss()),r}function Yv(){for(;X!==null;)yg(X)}function Jv(t,e){var n=oe;oe|=2;var i=pg(),l=gg();fe!==t||Q!==e?(La=null,Ia=Ut()+500,el(t,e)):fl=po(t,e);e:do try{if(le!==0&&X!==null){e=X;var o=lt;t:switch(le){case 1:le=0,lt=null,Ui(t,e,o,1);break;case 2:case 9:if(pf(o)){le=0,lt=null,Gf(e);break}e=function(){le!==2&&le!==9||fe!==t||(le=7),qt(t)},o.then(e,e);break e;case 3:le=7;break e;case 4:le=5;break e;case 7:pf(o)?(le=0,lt=null,Gf(e)):(le=0,lt=null,Ui(t,e,o,7));break;case 5:var r=null;switch(X.tag){case 26:r=X.memoizedState;case 5:case 27:var u=X;if(!r||Vg(r)){le=0,lt=null;var c=u.sibling;if(c!==null)X=c;else{var f=u.return;f!==null?(X=f,hs(f)):X=null}break t}}le=0,lt=null,Ui(t,e,o,5);break;case 6:le=0,lt=null,Ui(t,e,o,6);break;case 8:pc(),_e=6;break e;default:throw Error(A(462))}}Zv();break}catch(d){hg(t,d)}while(!0);return Zt=ci=null,G.H=i,G.A=l,oe=n,X!==null?0:(fe=null,Q=0,ss(),_e)}function Zv(){for(;X!==null&&!p0();)yg(X)}function yg(t){var e=Zp(t.alternate,t,en);t.memoizedProps=t.pendingProps,e===null?hs(t):X=e}function Gf(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=kf(n,e,e.pendingProps,e.type,void 0,Q);break;case 11:e=kf(n,e,e.pendingProps,e.type.render,e.ref,Q);break;case 5:tc(e);default:$p(n,e),e=X=$h(e,en),e=Zp(n,e,en)}t.memoizedProps=t.pendingProps,e===null?hs(t):X=e}function Ui(t,e,n,i){Zt=ci=null,tc(e),zi=null,no=0;var l=e.return;try{if(Vv(t,l,e,n,Q)){_e=1,wa(t,gt(n,t.current)),X=null;return}}catch(o){if(l!==null)throw X=l,o;_e=1,wa(t,gt(n,t.current)),X=null;return}e.flags&32768?(te||i===1?t=!0:fl||Q&536870912?t=!1:(En=t=!0,(i===2||i===9||i===3||i===6)&&(i=Tt.current,i!==null&&i.tag===13&&(i.flags|=16384))),vg(e,t)):hs(e)}function hs(t){var e=t;do{if(e.flags&32768){vg(e,En);return}t=e.return;var n=qv(e.alternate,e,en);if(n!==null){X=n;return}if(e=e.sibling,e!==null){X=e;return}X=e=t}while(e!==null);_e===0&&(_e=5)}function vg(t,e){do{var n=Gv(t.alternate,t);if(n!==null){n.flags&=32767,X=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){X=t;return}X=t=n}while(t!==null);_e=6,X=null}function Bf(t,e,n,i,l,o,r,u,c){t.cancelPendingCommit=null;do ps();while(qe!==0);if(oe&6)throw Error(A(327));if(e!==null){if(e===t.current)throw Error(A(177));if(o=e.lanes|e.childLanes,o|=Hu,A0(t,n,o,r,u,c),t===fe&&(X=fe=null,Q=0),ji=e,Dn=t,Hi=n,Fr=o,Yr=l,fg=i,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,Qv(va,function(){return xg(),null})):(t.callbackNode=null,t.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=G.T,G.T=null,l=ne.p,ne.p=2,r=oe,oe|=4;try{Bv(t,e,n)}finally{oe=r,ne.p=l,G.T=i}}qe=1,Tg(),Sg(),Cg()}}function Tg(){if(qe===1){qe=0;var t=Dn,e=ji,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=G.T,G.T=null;var i=ne.p;ne.p=2;var l=oe;oe|=4;try{lg(e,t);var o=Qr,r=Bh(t.containerInfo),u=o.focusedElem,c=o.selectionRange;if(r!==u&&u&&u.ownerDocument&&Gh(u.ownerDocument.documentElement,u)){if(c!==null&&zu(u)){var f=c.start,d=c.end;if(d===void 0&&(d=f),"selectionStart"in u)u.selectionStart=f,u.selectionEnd=Math.min(d,u.value.length);else{var m=u.ownerDocument||document,h=m&&m.defaultView||window;if(h.getSelection){var g=h.getSelection(),S=u.textContent.length,_=Math.min(c.start,S),M=c.end===void 0?_:Math.min(c.end,S);!g.extend&&_>M&&(r=M,M=_,_=r);var v=sf(u,_),y=sf(u,M);if(v&&y&&(g.rangeCount!==1||g.anchorNode!==v.node||g.anchorOffset!==v.offset||g.focusNode!==y.node||g.focusOffset!==y.offset)){var T=m.createRange();T.setStart(v.node,v.offset),g.removeAllRanges(),_>M?(g.addRange(T),g.extend(y.node,y.offset)):(T.setEnd(y.node,y.offset),g.addRange(T))}}}}for(m=[],g=u;g=g.parentNode;)g.nodeType===1&&m.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<m.length;u++){var C=m[u];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}Oa=!!Kr,Qr=Kr=null}finally{oe=l,ne.p=i,G.T=n}}t.current=e,qe=2}}function Sg(){if(qe===2){qe=0;var t=Dn,e=ji,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=G.T,G.T=null;var i=ne.p;ne.p=2;var l=oe;oe|=4;try{eg(t,e.alternate,e)}finally{oe=l,ne.p=i,G.T=n}}qe=3}}function Cg(){if(qe===4||qe===3){qe=0,g0();var t=Dn,e=ji,n=Hi,i=fg;e.subtreeFlags&10256||e.flags&10256?qe=5:(qe=0,ji=Dn=null,_g(t,t.pendingLanes));var l=t.pendingLanes;if(l===0&&(bn=null),Iu(n),e=e.stateNode,at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(ho,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=G.T,l=ne.p,ne.p=2,G.T=null;try{for(var o=t.onRecoverableError,r=0;r<i.length;r++){var u=i[r];o(u.value,{componentStack:u.stack})}}finally{G.T=e,ne.p=l}}Hi&3&&ps(),qt(t),l=t.pendingLanes,n&4194090&&l&42?t===Jr?Zl++:(Zl=0,Jr=t):Zl=0,Mo(0)}}function _g(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Co(e)))}function ps(t){return Tg(),Sg(),Cg(),xg()}function xg(){if(qe!==5)return!1;var t=Dn,e=Fr;Fr=0;var n=Iu(Hi),i=G.T,l=ne.p;try{ne.p=32>n?32:n,G.T=null,n=Yr,Yr=null;var o=Dn,r=Hi;if(qe=0,ji=Dn=null,Hi=0,oe&6)throw Error(A(331));var u=oe;if(oe|=4,ug(o.current),ag(o,o.current,r,n),oe=u,Mo(0,!1),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(ho,o)}catch{}return!0}finally{ne.p=l,G.T=i,_g(t,e)}}function zf(t,e,n){e=gt(n,e),e=Gr(t.stateNode,e,2),t=Rn(t,e,2),t!==null&&(go(t,2),qt(t))}function ce(t,e,n){if(t.tag===3)zf(t,t,n);else for(;e!==null;){if(e.tag===3){zf(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(bn===null||!bn.has(i))){t=gt(n,t),n=Bp(2),i=Rn(e,n,2),i!==null&&(zp(n,i,e,t),go(i,2),qt(i));break}}e=e.return}}function Qs(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Ov;var l=new Set;i.set(e,l)}else l=i.get(e),l===void 0&&(l=new Set,i.set(e,l));l.has(n)||(dc=!0,l.add(n),t=$v.bind(null,t,e,n),e.then(t,t))}function $v(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,fe===t&&(Q&n)===n&&(_e===4||_e===3&&(Q&62914560)===Q&&300>Ut()-hc?!(oe&2)&&el(t,0):mc|=n,Wi===Q&&(Wi=0)),qt(t)}function Eg(t,e){e===0&&(e=Th()),t=cl(t,e),t!==null&&(go(t,e),qt(t))}function Xv(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Eg(t,n)}function Kv(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=t.stateNode;break;case 22:i=t.stateNode._retryCache;break;default:throw Error(A(314))}i!==null&&i.delete(e),Eg(t,n)}function Qv(t,e){return ku(t,e)}var Va=null,Si=null,$r=!1,Pa=!1,Ws=!1,Wn=0;function qt(t){t!==Si&&t.next===null&&(Si===null?Va=Si=t:Si=Si.next=t),Pa=!0,$r||($r=!0,jv())}function Mo(t,e){if(!Ws&&Pa){Ws=!0;do for(var n=!1,i=Va;i!==null;){if(t!==0){var l=i.pendingLanes;if(l===0)var o=0;else{var r=i.suspendedLanes,u=i.pingedLanes;o=(1<<31-st(42|t)+1)-1,o&=l&~(r&~u),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(n=!0,Hf(i,o))}else o=Q,o=is(i,i===fe?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(o&3)||po(i,o)||(n=!0,Hf(i,o));i=i.next}while(n);Ws=!1}}function Wv(){Ag()}function Ag(){Pa=$r=!1;var t=0;Wn!==0&&(sT()&&(t=Wn),Wn=0);for(var e=Ut(),n=null,i=Va;i!==null;){var l=i.next,o=Mg(i,e);o===0?(i.next=null,n===null?Va=l:n.next=l,l===null&&(Si=n)):(n=i,(t!==0||o&3)&&(Pa=!0)),i=l}Mo(t)}function Mg(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,l=t.expirationTimes,o=t.pendingLanes&-62914561;0<o;){var r=31-st(o),u=1<<r,c=l[r];c===-1?(!(u&n)||u&i)&&(l[r]=E0(u,e)):c<=e&&(t.expiredLanes|=u),o&=~u}if(e=fe,n=Q,n=is(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i=t.callbackNode,n===0||t===e&&(le===2||le===9)||t.cancelPendingCommit!==null)return i!==null&&i!==null&&Es(i),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||po(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(i!==null&&Es(i),Iu(n)){case 2:case 8:n=gh;break;case 32:n=va;break;case 268435456:n=yh;break;default:n=va}return i=Ng.bind(null,t),n=ku(n,i),t.callbackPriority=e,t.callbackNode=n,e}return i!==null&&i!==null&&Es(i),t.callbackPriority=2,t.callbackNode=null,2}function Ng(t,e){if(qe!==0&&qe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(ps()&&t.callbackNode!==n)return null;var i=Q;return i=is(t,t===fe?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),i===0?null:(mg(t,i,e),Mg(t,Ut()),t.callbackNode!=null&&t.callbackNode===n?Ng.bind(null,t):null)}function Hf(t,e){if(ps())return null;mg(t,e,!0)}function jv(){uT(function(){oe&6?ku(ph,Wv):Ag()})}function gc(){return Wn===0&&(Wn=vh()),Wn}function Of(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Wo(""+t)}function Ff(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function eT(t,e,n,i,l){if(e==="submit"&&n&&n.stateNode===l){var o=Of((l[je]||null).action),r=i.submitter;r&&(e=(e=r[je]||null)?Of(e.formAction):r.getAttribute("formAction"),e!==null&&(o=e,r=null));var u=new ls("action","action",null,i,l);t.push({event:u,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Wn!==0){var c=r?Ff(l,r):new FormData(l);Pr(n,{pending:!0,data:c,method:l.method,action:o},null,c)}}else typeof o=="function"&&(u.preventDefault(),c=r?Ff(l,r):new FormData(l),Pr(n,{pending:!0,data:c,method:l.method,action:o},o,c))},currentTarget:l}]})}}for(var js=0;js<Ar.length;js++){var er=Ar[js],tT=er.toLowerCase(),nT=er[0].toUpperCase()+er.slice(1);Mt(tT,"on"+nT)}Mt(Hh,"onAnimationEnd");Mt(Oh,"onAnimationIteration");Mt(Fh,"onAnimationStart");Mt("dblclick","onDoubleClick");Mt("focusin","onFocus");Mt("focusout","onBlur");Mt(Tv,"onTransitionRun");Mt(Sv,"onTransitionStart");Mt(Cv,"onTransitionCancel");Mt(Yh,"onTransitionEnd");Ji("onMouseEnter",["mouseout","mouseover"]);Ji("onMouseLeave",["mouseout","mouseover"]);Ji("onPointerEnter",["pointerout","pointerover"]);Ji("onPointerLeave",["pointerout","pointerover"]);si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));si("onBeforeInput",["compositionend","keypress","textInput","paste"]);si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(io));function Rg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],l=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var r=i.length-1;0<=r;r--){var u=i[r],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==o&&l.isPropagationStopped())break e;o=u,l.currentTarget=f;try{o(l)}catch(d){Da(d)}l.currentTarget=null,o=c}else for(r=0;r<i.length;r++){if(u=i[r],c=u.instance,f=u.currentTarget,u=u.listener,c!==o&&l.isPropagationStopped())break e;o=u,l.currentTarget=f;try{o(l)}catch(d){Da(d)}l.currentTarget=null,o=c}}}}function $(t,e){var n=e[vr];n===void 0&&(n=e[vr]=new Set);var i=t+"__bubble";n.has(i)||(bg(e,t,2,!1),n.add(i))}function tr(t,e,n){var i=0;e&&(i|=4),bg(n,t,i,e)}var zo="_reactListening"+Math.random().toString(36).slice(2);function yc(t){if(!t[zo]){t[zo]=!0,xh.forEach(function(n){n!=="selectionchange"&&(iT.has(n)||tr(n,!1,t),tr(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zo]||(e[zo]=!0,tr("selectionchange",!1,e))}}function bg(t,e,n,i){switch(zg(e)){case 2:var l=DT;break;case 8:l=wT;break;default:l=Cc}n=l.bind(null,e,n,t),l=void 0,!_r||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),i?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function nr(t,e,n,i,l){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var r=i.tag;if(r===3||r===4){var u=i.stateNode.containerInfo;if(u===l)break;if(r===4)for(r=i.return;r!==null;){var c=r.tag;if((c===3||c===4)&&r.stateNode.containerInfo===l)return;r=r.return}for(;u!==null;){if(r=Ei(u),r===null)return;if(c=r.tag,c===5||c===6||c===26||c===27){i=o=r;continue e}u=u.parentNode}}i=i.return}wh(function(){var f=o,d=Pu(n),m=[];e:{var h=Jh.get(t);if(h!==void 0){var g=ls,S=t;switch(t){case"keypress":if(ea(n)===0)break e;case"keydown":case"keyup":g=Q0;break;case"focusin":S="focus",g=ks;break;case"focusout":S="blur",g=ks;break;case"beforeblur":case"afterblur":g=ks;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Kc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=G0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ev;break;case Hh:case Oh:case Fh:g=H0;break;case Yh:g=nv;break;case"scroll":case"scrollend":g=P0;break;case"wheel":g=lv;break;case"copy":case"cut":case"paste":g=F0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Wc;break;case"toggle":case"beforetoggle":g=av}var _=(e&4)!==0,M=!_&&(t==="scroll"||t==="scrollend"),v=_?h!==null?h+"Capture":null:h;_=[];for(var y=f,T;y!==null;){var C=y;if(T=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||T===null||v===null||(C=Ql(y,v),C!=null&&_.push(lo(y,C,T))),M)break;y=y.return}0<_.length&&(h=new g(h,S,null,n,d),m.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Cr&&(S=n.relatedTarget||n.fromElement)&&(Ei(S)||S[rl]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(S=n.relatedTarget||n.toElement,g=f,S=S?Ei(S):null,S!==null&&(M=mo(S),_=S.tag,S!==M||_!==5&&_!==27&&_!==6)&&(S=null)):(g=null,S=f),g!==S)){if(_=Kc,C="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(_=Wc,C="onPointerLeave",v="onPointerEnter",y="pointer"),M=g==null?h:Dl(g),T=S==null?h:Dl(S),h=new _(C,y+"leave",g,n,d),h.target=M,h.relatedTarget=T,C=null,Ei(d)===f&&(_=new _(v,y+"enter",S,n,d),_.target=T,_.relatedTarget=M,C=_),M=C,g&&S)t:{for(_=g,v=S,y=0,T=_;T;T=mi(T))y++;for(T=0,C=v;C;C=mi(C))T++;for(;0<y-T;)_=mi(_),y--;for(;0<T-y;)v=mi(v),T--;for(;y--;){if(_===v||v!==null&&_===v.alternate)break t;_=mi(_),v=mi(v)}_=null}else _=null;g!==null&&Yf(m,h,g,_,!1),S!==null&&M!==null&&Yf(m,M,S,_,!0)}}e:{if(h=f?Dl(f):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var x=nf;else if(tf(h))if(Ph)x=gv;else{x=hv;var D=mv}else g=h.nodeName,!g||g.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?f&&Vu(f.elementType)&&(x=nf):x=pv;if(x&&(x=x(t,f))){Vh(m,x,n,d);break e}D&&D(t,h,f),t==="focusout"&&f&&h.type==="number"&&f.memoizedProps.value!=null&&Sr(h,"number",h.value)}switch(D=f?Dl(f):window,t){case"focusin":(tf(D)||D.contentEditable==="true")&&(Ni=D,xr=f,Pl=null);break;case"focusout":Pl=xr=Ni=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,rf(m,n,d);break;case"selectionchange":if(vv)break;case"keydown":case"keyup":rf(m,n,d)}var N;if(Bu)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Mi?Ih(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Uh&&n.locale!=="ko"&&(Mi||E!=="onCompositionStart"?E==="onCompositionEnd"&&Mi&&(N=kh()):(xn=d,qu="value"in xn?xn.value:xn.textContent,Mi=!0)),D=qa(f,E),0<D.length&&(E=new Qc(E,t,null,n,d),m.push({event:E,listeners:D}),N?E.data=N:(N=Lh(n),N!==null&&(E.data=N)))),(N=rv?uv(t,n):cv(t,n))&&(E=qa(f,"onBeforeInput"),0<E.length&&(D=new Qc("onBeforeInput","beforeinput",null,n,d),m.push({event:D,listeners:E}),D.data=N)),eT(m,t,f,n,d)}Rg(m,e)})}function lo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qa(t,e){for(var n=e+"Capture",i=[];t!==null;){var l=t,o=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||o===null||(l=Ql(t,n),l!=null&&i.unshift(lo(t,l,o)),l=Ql(t,e),l!=null&&i.push(lo(t,l,o))),t.tag===3)return i;t=t.return}return[]}function mi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Yf(t,e,n,i,l){for(var o=e._reactName,r=[];n!==null&&n!==i;){var u=n,c=u.alternate,f=u.stateNode;if(u=u.tag,c!==null&&c===i)break;u!==5&&u!==26&&u!==27||f===null||(c=f,l?(f=Ql(n,o),f!=null&&r.unshift(lo(n,f,c))):l||(f=Ql(n,o),f!=null&&r.push(lo(n,f,c)))),n=n.return}r.length!==0&&t.push({event:e,listeners:r})}var lT=/\r\n?/g,oT=/\u0000|\uFFFD/g;function Jf(t){return(typeof t=="string"?t:""+t).replace(lT,`
`).replace(oT,"")}function Dg(t,e){return e=Jf(e),Jf(t)===e}function gs(){}function re(t,e,n,i,l,o){switch(n){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||Zi(t,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&Zi(t,""+i);break;case"className":Io(t,"class",i);break;case"tabIndex":Io(t,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Io(t,n,i);break;case"style":Dh(t,i,o);break;case"data":if(e!=="object"){Io(t,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Wo(""+i),t.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(n==="formAction"?(e!=="input"&&re(t,e,"name",l.name,l,null),re(t,e,"formEncType",l.formEncType,l,null),re(t,e,"formMethod",l.formMethod,l,null),re(t,e,"formTarget",l.formTarget,l,null)):(re(t,e,"encType",l.encType,l,null),re(t,e,"method",l.method,l,null),re(t,e,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){t.removeAttribute(n);break}i=Wo(""+i),t.setAttribute(n,i);break;case"onClick":i!=null&&(t.onclick=gs);break;case"onScroll":i!=null&&$("scroll",t);break;case"onScrollEnd":i!=null&&$("scrollend",t);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(A(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(A(60));t.innerHTML=n}}break;case"multiple":t.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":t.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){t.removeAttribute("xlink:href");break}n=Wo(""+i),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""+i):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":i===!0?t.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?t.setAttribute(n,i):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?t.setAttribute(n,i):t.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?t.removeAttribute(n):t.setAttribute(n,i);break;case"popover":$("beforetoggle",t),$("toggle",t),Qo(t,"popover",i);break;case"xlinkActuate":Bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Bt(t,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Bt(t,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Bt(t,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Bt(t,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Qo(t,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=L0.get(n)||n,Qo(t,n,i))}}function Xr(t,e,n,i,l,o){switch(n){case"style":Dh(t,i,o);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(A(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(A(60));t.innerHTML=n}}break;case"children":typeof i=="string"?Zi(t,i):(typeof i=="number"||typeof i=="bigint")&&Zi(t,""+i);break;case"onScroll":i!=null&&$("scroll",t);break;case"onScrollEnd":i!=null&&$("scrollend",t);break;case"onClick":i!=null&&(t.onclick=gs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Eh.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),e=n.slice(2,l?n.length-7:void 0),o=t[je]||null,o=o!=null?o[n]:null,typeof o=="function"&&t.removeEventListener(e,o,l),typeof i=="function")){typeof o!="function"&&o!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,i,l);break e}n in t?t[n]=i:i===!0?t.setAttribute(n,""):Qo(t,n,i)}}}function Ge(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$("error",t),$("load",t);var i=!1,l=!1,o;for(o in n)if(n.hasOwnProperty(o)){var r=n[o];if(r!=null)switch(o){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(A(137,e));default:re(t,e,o,r,n,null)}}l&&re(t,e,"srcSet",n.srcSet,n,null),i&&re(t,e,"src",n.src,n,null);return;case"input":$("invalid",t);var u=o=r=l=null,c=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(d!=null)switch(i){case"name":l=d;break;case"type":r=d;break;case"checked":c=d;break;case"defaultChecked":f=d;break;case"value":o=d;break;case"defaultValue":u=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(A(137,e));break;default:re(t,e,i,d,n,null)}}Nh(t,o,u,c,f,r,l,!1),Ta(t);return;case"select":$("invalid",t),i=r=o=null;for(l in n)if(n.hasOwnProperty(l)&&(u=n[l],u!=null))switch(l){case"value":o=u;break;case"defaultValue":r=u;break;case"multiple":i=u;default:re(t,e,l,u,n,null)}e=o,n=r,t.multiple=!!i,e!=null?Vi(t,!!i,e,!1):n!=null&&Vi(t,!!i,n,!0);return;case"textarea":$("invalid",t),o=l=i=null;for(r in n)if(n.hasOwnProperty(r)&&(u=n[r],u!=null))switch(r){case"value":i=u;break;case"defaultValue":l=u;break;case"children":o=u;break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(A(91));break;default:re(t,e,r,u,n,null)}bh(t,i,l,o),Ta(t);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(i=n[c],i!=null))switch(c){case"selected":t.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:re(t,e,c,i,n,null)}return;case"dialog":$("beforetoggle",t),$("toggle",t),$("cancel",t),$("close",t);break;case"iframe":case"object":$("load",t);break;case"video":case"audio":for(i=0;i<io.length;i++)$(io[i],t);break;case"image":$("error",t),$("load",t);break;case"details":$("toggle",t);break;case"embed":case"source":case"link":$("error",t),$("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(A(137,e));default:re(t,e,f,i,n,null)}return;default:if(Vu(e)){for(d in n)n.hasOwnProperty(d)&&(i=n[d],i!==void 0&&Xr(t,e,d,i,n,void 0));return}}for(u in n)n.hasOwnProperty(u)&&(i=n[u],i!=null&&re(t,e,u,i,n,null))}function aT(t,e,n,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,o=null,r=null,u=null,c=null,f=null,d=null;for(g in n){var m=n[g];if(n.hasOwnProperty(g)&&m!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":c=m;default:i.hasOwnProperty(g)||re(t,e,g,null,i,m)}}for(var h in i){var g=i[h];if(m=n[h],i.hasOwnProperty(h)&&(g!=null||m!=null))switch(h){case"type":o=g;break;case"name":l=g;break;case"checked":f=g;break;case"defaultChecked":d=g;break;case"value":r=g;break;case"defaultValue":u=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(A(137,e));break;default:g!==m&&re(t,e,h,g,i,m)}}Tr(t,r,u,c,f,d,o,l);return;case"select":g=r=u=h=null;for(o in n)if(c=n[o],n.hasOwnProperty(o)&&c!=null)switch(o){case"value":break;case"multiple":g=c;default:i.hasOwnProperty(o)||re(t,e,o,null,i,c)}for(l in i)if(o=i[l],c=n[l],i.hasOwnProperty(l)&&(o!=null||c!=null))switch(l){case"value":h=o;break;case"defaultValue":u=o;break;case"multiple":r=o;default:o!==c&&re(t,e,l,o,i,c)}e=u,n=r,i=g,h!=null?Vi(t,!!n,h,!1):!!i!=!!n&&(e!=null?Vi(t,!!n,e,!0):Vi(t,!!n,n?[]:"",!1));return;case"textarea":g=h=null;for(u in n)if(l=n[u],n.hasOwnProperty(u)&&l!=null&&!i.hasOwnProperty(u))switch(u){case"value":break;case"children":break;default:re(t,e,u,null,i,l)}for(r in i)if(l=i[r],o=n[r],i.hasOwnProperty(r)&&(l!=null||o!=null))switch(r){case"value":h=l;break;case"defaultValue":g=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(A(91));break;default:l!==o&&re(t,e,r,l,i,o)}Rh(t,h,g);return;case"option":for(var S in n)if(h=n[S],n.hasOwnProperty(S)&&h!=null&&!i.hasOwnProperty(S))switch(S){case"selected":t.selected=!1;break;default:re(t,e,S,null,i,h)}for(c in i)if(h=i[c],g=n[c],i.hasOwnProperty(c)&&h!==g&&(h!=null||g!=null))switch(c){case"selected":t.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:re(t,e,c,h,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!=null&&!i.hasOwnProperty(_)&&re(t,e,_,null,i,h);for(f in i)if(h=i[f],g=n[f],i.hasOwnProperty(f)&&h!==g&&(h!=null||g!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(A(137,e));break;default:re(t,e,f,h,i,g)}return;default:if(Vu(e)){for(var M in n)h=n[M],n.hasOwnProperty(M)&&h!==void 0&&!i.hasOwnProperty(M)&&Xr(t,e,M,void 0,i,h);for(d in i)h=i[d],g=n[d],!i.hasOwnProperty(d)||h===g||h===void 0&&g===void 0||Xr(t,e,d,h,i,g);return}}for(var v in n)h=n[v],n.hasOwnProperty(v)&&h!=null&&!i.hasOwnProperty(v)&&re(t,e,v,null,i,h);for(m in i)h=i[m],g=n[m],!i.hasOwnProperty(m)||h===g||h==null&&g==null||re(t,e,m,h,i,g)}var Kr=null,Qr=null;function Ga(t){return t.nodeType===9?t:t.ownerDocument}function Zf(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wg(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Wr(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ir=null;function sT(){var t=window.event;return t&&t.type==="popstate"?t===ir?!1:(ir=t,!0):(ir=null,!1)}var kg=typeof setTimeout=="function"?setTimeout:void 0,rT=typeof clearTimeout=="function"?clearTimeout:void 0,$f=typeof Promise=="function"?Promise:void 0,uT=typeof queueMicrotask=="function"?queueMicrotask:typeof $f<"u"?function(t){return $f.resolve(null).then(t).catch(cT)}:kg;function cT(t){setTimeout(function(){throw t})}function Bn(t){return t==="head"}function Xf(t,e){var n=e,i=0,l=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(0<i&&8>i){n=i;var r=t.ownerDocument;if(n&1&&$l(r.documentElement),n&2&&$l(r.body),n&4)for(n=r.head,$l(n),r=n.firstChild;r;){var u=r.nextSibling,c=r.nodeName;r[yo]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=u}}if(l===0){t.removeChild(o),uo(e);return}l--}else n==="$"||n==="$?"||n==="$!"?l++:i=n.charCodeAt(0)-48;else i=0;n=o}while(n);uo(e)}function jr(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":jr(n),Lu(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function fT(t,e,n,i){for(;t.nodeType===1;){var l=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(i){if(!t[yo])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(o=t.getAttribute("rel"),o==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(o!==l.rel||t.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||t.getAttribute("title")!==(l.title==null?null:l.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(o=t.getAttribute("src"),(o!==(l.src==null?null:l.src)||t.getAttribute("type")!==(l.type==null?null:l.type)||t.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&o&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var o=l.name==null?null:""+l.name;if(l.type==="hidden"&&t.getAttribute("name")===o)return t}else return t;if(t=At(t.nextSibling),t===null)break}return null}function dT(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=At(t.nextSibling),t===null))return null;return t}function eu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function mT(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var i=function(){e(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),t._reactRetry=i}}function At(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var tu=null;function Kf(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function Ug(t,e,n){switch(e=Ga(n),t){case"html":if(t=e.documentElement,!t)throw Error(A(452));return t;case"head":if(t=e.head,!t)throw Error(A(453));return t;case"body":if(t=e.body,!t)throw Error(A(454));return t;default:throw Error(A(451))}}function $l(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);Lu(t)}var St=new Map,Qf=new Set;function Ba(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var nn=ne.d;ne.d={f:hT,r:pT,D:gT,C:yT,L:vT,m:TT,X:CT,S:ST,M:_T};function hT(){var t=nn.f(),e=ms();return t||e}function pT(t){var e=ul(t);e!==null&&e.tag===5&&e.type==="form"?Mp(e):nn.r(t)}var dl=typeof document>"u"?null:document;function Ig(t,e,n){var i=dl;if(i&&typeof e=="string"&&e){var l=pt(e);l='link[rel="'+t+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),Qf.has(l)||(Qf.add(l),t={rel:t,crossOrigin:n,href:e},i.querySelector(l)===null&&(e=i.createElement("link"),Ge(e,"link",t),Ie(e),i.head.appendChild(e)))}}function gT(t){nn.D(t),Ig("dns-prefetch",t,null)}function yT(t,e){nn.C(t,e),Ig("preconnect",t,e)}function vT(t,e,n){nn.L(t,e,n);var i=dl;if(i&&t&&e){var l='link[rel="preload"][as="'+pt(e)+'"]';e==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+pt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+pt(n.imageSizes)+'"]')):l+='[href="'+pt(t)+'"]';var o=l;switch(e){case"style":o=tl(t);break;case"script":o=ml(t)}St.has(o)||(t=ge({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),St.set(o,t),i.querySelector(l)!==null||e==="style"&&i.querySelector(No(o))||e==="script"&&i.querySelector(Ro(o))||(e=i.createElement("link"),Ge(e,"link",t),Ie(e),i.head.appendChild(e)))}}function TT(t,e){nn.m(t,e);var n=dl;if(n&&t){var i=e&&typeof e.as=="string"?e.as:"script",l='link[rel="modulepreload"][as="'+pt(i)+'"][href="'+pt(t)+'"]',o=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=ml(t)}if(!St.has(o)&&(t=ge({rel:"modulepreload",href:t},e),St.set(o,t),n.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ro(o)))return}i=n.createElement("link"),Ge(i,"link",t),Ie(i),n.head.appendChild(i)}}}function ST(t,e,n){nn.S(t,e,n);var i=dl;if(i&&t){var l=Li(i).hoistableStyles,o=tl(t);e=e||"default";var r=l.get(o);if(!r){var u={loading:0,preload:null};if(r=i.querySelector(No(o)))u.loading=5;else{t=ge({rel:"stylesheet",href:t,"data-precedence":e},n),(n=St.get(o))&&vc(t,n);var c=r=i.createElement("link");Ie(c),Ge(c,"link",t),c._p=new Promise(function(f,d){c.onload=f,c.onerror=d}),c.addEventListener("load",function(){u.loading|=1}),c.addEventListener("error",function(){u.loading|=2}),u.loading|=4,sa(r,e,i)}r={type:"stylesheet",instance:r,count:1,state:u},l.set(o,r)}}}function CT(t,e){nn.X(t,e);var n=dl;if(n&&t){var i=Li(n).hoistableScripts,l=ml(t),o=i.get(l);o||(o=n.querySelector(Ro(l)),o||(t=ge({src:t,async:!0},e),(e=St.get(l))&&Tc(t,e),o=n.createElement("script"),Ie(o),Ge(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function _T(t,e){nn.M(t,e);var n=dl;if(n&&t){var i=Li(n).hoistableScripts,l=ml(t),o=i.get(l);o||(o=n.querySelector(Ro(l)),o||(t=ge({src:t,async:!0,type:"module"},e),(e=St.get(l))&&Tc(t,e),o=n.createElement("script"),Ie(o),Ge(o,"link",t),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(l,o))}}function Wf(t,e,n,i){var l=(l=Mn.current)?Ba(l):null;if(!l)throw Error(A(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=tl(n.href),n=Li(l).hoistableStyles,i=n.get(e),i||(i={type:"style",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=tl(n.href);var o=Li(l).hoistableStyles,r=o.get(t);if(r||(l=l.ownerDocument||l,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(t,r),(o=l.querySelector(No(t)))&&!o._p&&(r.instance=o,r.state.loading=5),St.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},St.set(t,n),o||xT(l,t,n,r.state))),e&&i===null)throw Error(A(528,""));return r}if(e&&i!==null)throw Error(A(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=ml(n),n=Li(l).hoistableScripts,i=n.get(e),i||(i={type:"script",instance:null,count:0,state:null},n.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(A(444,t))}}function tl(t){return'href="'+pt(t)+'"'}function No(t){return'link[rel="stylesheet"]['+t+"]"}function Lg(t){return ge({},t,{"data-precedence":t.precedence,precedence:null})}function xT(t,e,n,i){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=t.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Ge(e,"link",n),Ie(e),t.head.appendChild(e))}function ml(t){return'[src="'+pt(t)+'"]'}function Ro(t){return"script[async]"+t}function jf(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var i=t.querySelector('style[data-href~="'+pt(n.href)+'"]');if(i)return e.instance=i,Ie(i),i;var l=ge({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(t.ownerDocument||t).createElement("style"),Ie(i),Ge(i,"style",l),sa(i,n.precedence,t),e.instance=i;case"stylesheet":l=tl(n.href);var o=t.querySelector(No(l));if(o)return e.state.loading|=4,e.instance=o,Ie(o),o;i=Lg(n),(l=St.get(l))&&vc(i,l),o=(t.ownerDocument||t).createElement("link"),Ie(o);var r=o;return r._p=new Promise(function(u,c){r.onload=u,r.onerror=c}),Ge(o,"link",i),e.state.loading|=4,sa(o,n.precedence,t),e.instance=o;case"script":return o=ml(n.src),(l=t.querySelector(Ro(o)))?(e.instance=l,Ie(l),l):(i=n,(l=St.get(o))&&(i=ge({},n),Tc(i,l)),t=t.ownerDocument||t,l=t.createElement("script"),Ie(l),Ge(l,"link",i),t.head.appendChild(l),e.instance=l);case"void":return null;default:throw Error(A(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,sa(i,n.precedence,t));return e.instance}function sa(t,e,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,o=l,r=0;r<i.length;r++){var u=i[r];if(u.dataset.precedence===e)o=u;else if(o!==l)break}o?o.parentNode.insertBefore(t,o.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function vc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Tc(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ra=null;function ed(t,e,n){if(ra===null){var i=new Map,l=ra=new Map;l.set(n,i)}else l=ra,i=l.get(n),i||(i=new Map,l.set(n,i));if(i.has(t))return i;for(i.set(t,null),n=n.getElementsByTagName(t),l=0;l<n.length;l++){var o=n[l];if(!(o[yo]||o[ze]||t==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var r=o.getAttribute(e)||"";r=t+r;var u=i.get(r);u?u.push(o):i.set(r,[o])}}return i}function td(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function ET(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Vg(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var oo=null;function AT(){}function MT(t,e,n){if(oo===null)throw Error(A(475));var i=oo;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var l=tl(n.href),o=t.querySelector(No(l));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(i.count++,i=za.bind(i),t.then(i,i)),e.state.loading|=4,e.instance=o,Ie(o);return}o=t.ownerDocument||t,n=Lg(n),(l=St.get(l))&&vc(n,l),o=o.createElement("link"),Ie(o);var r=o;r._p=new Promise(function(u,c){r.onload=u,r.onerror=c}),Ge(o,"link",n),e.instance=o}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=za.bind(i),t.addEventListener("load",e),t.addEventListener("error",e))}}function NT(){if(oo===null)throw Error(A(475));var t=oo;return t.stylesheets&&t.count===0&&nu(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&nu(t,t.stylesheets),t.unsuspend){var i=t.unsuspend;t.unsuspend=null,i()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function za(){if(this.count--,this.count===0){if(this.stylesheets)nu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ha=null;function nu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ha=new Map,e.forEach(RT,t),Ha=null,za.call(t))}function RT(t,e){if(!(e.state.loading&4)){var n=Ha.get(t);if(n)var i=n.get(null);else{n=new Map,Ha.set(t,n);for(var l=t.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<l.length;o++){var r=l[o];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(n.set(r.dataset.precedence,r),i=r)}i&&n.set(null,i)}l=e.instance,r=l.getAttribute("data-precedence"),o=n.get(r)||i,o===i&&n.set(null,l),n.set(r,l),this.count++,i=za.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),o?o.parentNode.insertBefore(l,o.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(l,t.firstChild)),e.state.loading|=4}}var ao={$$typeof:Ft,Provider:null,Consumer:null,_currentValue:Jn,_currentValue2:Jn,_threadCount:0};function bT(t,e,n,i,l,o,r,u){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=As(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=As(0),this.hiddenUpdates=As(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=o,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=u,this.incompleteTransitions=new Map}function Pg(t,e,n,i,l,o,r,u,c,f,d,m){return t=new bT(t,e,n,r,u,c,f,m),e=1,o===!0&&(e|=24),o=ot(3,null,null,e),t.current=o,o.stateNode=t,e=Zu(),e.refCount++,t.pooledCache=e,e.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:e},Xu(o),t}function qg(t){return t?(t=Di,t):Di}function Gg(t,e,n,i,l,o){l=qg(l),i.context===null?i.context=l:i.pendingContext=l,i=Nn(e),i.payload={element:n},o=o===void 0?null:o,o!==null&&(i.callback=o),n=Rn(t,i,e),n!==null&&(ut(n,t,e),Bl(n,t,e))}function nd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sc(t,e){nd(t,e),(t=t.alternate)&&nd(t,e)}function Bg(t){if(t.tag===13){var e=cl(t,67108864);e!==null&&ut(e,t,67108864),Sc(t,67108864)}}var Oa=!0;function DT(t,e,n,i){var l=G.T;G.T=null;var o=ne.p;try{ne.p=2,Cc(t,e,n,i)}finally{ne.p=o,G.T=l}}function wT(t,e,n,i){var l=G.T;G.T=null;var o=ne.p;try{ne.p=8,Cc(t,e,n,i)}finally{ne.p=o,G.T=l}}function Cc(t,e,n,i){if(Oa){var l=iu(i);if(l===null)nr(t,e,i,Fa,n),id(t,i);else if(UT(l,t,e,n,i))i.stopPropagation();else if(id(t,i),e&4&&-1<kT.indexOf(t)){for(;l!==null;){var o=ul(l);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var r=On(o.pendingLanes);if(r!==0){var u=o;for(u.pendingLanes|=2,u.entangledLanes|=2;r;){var c=1<<31-st(r);u.entanglements[1]|=c,r&=~c}qt(o),!(oe&6)&&(Ia=Ut()+500,Mo(0))}}break;case 13:u=cl(o,2),u!==null&&ut(u,o,2),ms(),Sc(o,2)}if(o=iu(i),o===null&&nr(t,e,i,Fa,n),o===l)break;l=o}l!==null&&i.stopPropagation()}else nr(t,e,i,null,n)}}function iu(t){return t=Pu(t),_c(t)}var Fa=null;function _c(t){if(Fa=null,t=Ei(t),t!==null){var e=mo(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=fh(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Fa=t,null}function zg(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(y0()){case ph:return 2;case gh:return 8;case va:case v0:return 32;case yh:return 268435456;default:return 32}default:return 32}}var lu=!1,wn=null,kn=null,Un=null,so=new Map,ro=new Map,Cn=[],kT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function id(t,e){switch(t){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":so.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(e.pointerId)}}function Ml(t,e,n,i,l,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[l]},e!==null&&(e=ul(e),e!==null&&Bg(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function UT(t,e,n,i,l){switch(e){case"focusin":return wn=Ml(wn,t,e,n,i,l),!0;case"dragenter":return kn=Ml(kn,t,e,n,i,l),!0;case"mouseover":return Un=Ml(Un,t,e,n,i,l),!0;case"pointerover":var o=l.pointerId;return so.set(o,Ml(so.get(o)||null,t,e,n,i,l)),!0;case"gotpointercapture":return o=l.pointerId,ro.set(o,Ml(ro.get(o)||null,t,e,n,i,l)),!0}return!1}function Hg(t){var e=Ei(t.target);if(e!==null){var n=mo(e);if(n!==null){if(e=n.tag,e===13){if(e=fh(n),e!==null){t.blockedOn=e,M0(t.priority,function(){if(n.tag===13){var i=rt();i=Uu(i);var l=cl(n,i);l!==null&&ut(l,n,i),Sc(n,i)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ua(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=iu(t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Cr=i,n.target.dispatchEvent(i),Cr=null}else return e=ul(n),e!==null&&Bg(e),t.blockedOn=n,!1;e.shift()}return!0}function ld(t,e,n){ua(t)&&n.delete(e)}function IT(){lu=!1,wn!==null&&ua(wn)&&(wn=null),kn!==null&&ua(kn)&&(kn=null),Un!==null&&ua(Un)&&(Un=null),so.forEach(ld),ro.forEach(ld)}function Ho(t,e){t.blockedOn===e&&(t.blockedOn=null,lu||(lu=!0,we.unstable_scheduleCallback(we.unstable_NormalPriority,IT)))}var Oo=null;function od(t){Oo!==t&&(Oo=t,we.unstable_scheduleCallback(we.unstable_NormalPriority,function(){Oo===t&&(Oo=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],l=t[e+2];if(typeof i!="function"){if(_c(i||n)===null)continue;break}var o=ul(n);o!==null&&(t.splice(e,3),e-=3,Pr(o,{pending:!0,data:l,method:n.method,action:i},i,l))}}))}function uo(t){function e(c){return Ho(c,t)}wn!==null&&Ho(wn,t),kn!==null&&Ho(kn,t),Un!==null&&Ho(Un,t),so.forEach(e),ro.forEach(e);for(var n=0;n<Cn.length;n++){var i=Cn[n];i.blockedOn===t&&(i.blockedOn=null)}for(;0<Cn.length&&(n=Cn[0],n.blockedOn===null);)Hg(n),n.blockedOn===null&&Cn.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var l=n[i],o=n[i+1],r=l[je]||null;if(typeof o=="function")r||od(n);else if(r){var u=null;if(o&&o.hasAttribute("formAction")){if(l=o,r=o[je]||null)u=r.formAction;else if(_c(l)!==null)continue}else u=r.action;typeof u=="function"?n[i+1]=u:(n.splice(i,3),i-=3),od(n)}}}function xc(t){this._internalRoot=t}ys.prototype.render=xc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));var n=e.current,i=rt();Gg(n,i,t,e,null,null)};ys.prototype.unmount=xc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gg(t.current,2,null,t,null,null),ms(),e[rl]=null}};function ys(t){this._internalRoot=t}ys.prototype.unstable_scheduleHydration=function(t){if(t){var e=_h();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cn.length&&e!==0&&e<Cn[n].priority;n++);Cn.splice(n,0,t),n===0&&Hg(t)}};var ad=uh.version;if(ad!=="19.1.0")throw Error(A(527,ad,"19.1.0"));ne.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=c0(e),t=t!==null?dh(t):null,t=t===null?null:t.stateNode,t};var LT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fo.isDisabled&&Fo.supportsFiber)try{ho=Fo.inject(LT),at=Fo}catch{}}ts.createRoot=function(t,e){if(!ch(t))throw Error(A(299));var n=!1,i="",l=Pp,o=qp,r=Gp,u=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(l=e.onUncaughtError),e.onCaughtError!==void 0&&(o=e.onCaughtError),e.onRecoverableError!==void 0&&(r=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(u=e.unstable_transitionCallbacks)),e=Pg(t,1,!1,null,null,n,i,l,o,r,u,null),t[rl]=e.current,yc(t),new xc(e)};ts.hydrateRoot=function(t,e,n){if(!ch(t))throw Error(A(299));var i=!1,l="",o=Pp,r=qp,u=Gp,c=null,f=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(o=n.onUncaughtError),n.onCaughtError!==void 0&&(r=n.onCaughtError),n.onRecoverableError!==void 0&&(u=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(f=n.formState)),e=Pg(t,1,!0,e,n??null,i,l,o,r,u,c,f),e.context=qg(null),n=e.current,i=rt(),i=Uu(i),l=Nn(i),l.callback=null,Rn(n,l,i),n=i,e.current.lanes=n,go(e,n),qt(e),t[rl]=e.current,yc(t),new ys(e)};ts.version="19.1.0";function Og(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Og)}catch(t){console.error(t)}}Og(),ih.exports=ts;var VT=ih.exports;const Fg=Zm(VT),PT="0.1.0",lr={version:PT},Ya=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L1.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.25 12h.008v.008h-.008V12Zm0 0h.008v.008h-.008V12Zm0 0h.008v.008h-.008V12Zm0 0h.008v.008h-.008V12Z"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 1.5a.75.75 0 0 1 .75.75V3a.75.75 0 0 1-1.5 0V2.25A.75.75 0 0 1 12 1.5ZM12 21a.75.75 0 0 1 .75.75v.75a.75.75 0 0 1-1.5 0v-.75a.75.75 0 0 1 .75-.75ZM4.06 4.06a.75.75 0 0 1 0 1.06l-.707.707a.75.75 0 0 1-1.06-1.06l.707-.707a.75.75 0 0 1 1.06 0Zm14.82 14.82a.75.75 0 0 1 0 1.06l-.707.707a.75.75 0 0 1-1.06-1.06l.707-.707a.75.75 0 0 1 1.06 0ZM1.5 12a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5H2.25A.75.75 0 0 1 1.5 12Zm21 0a.75.75 0 0 1 .75-.75h.75a.75.75 0 0 1 0 1.5h-.75a.75.75 0 0 1-.75-.75ZM4.06 19.94a.75.75 0 0 1 1.06 0l.707-.707a.75.75 0 0 1 1.06 1.06l-.707.707a.75.75 0 0 1-1.06 0l-.707-.707a.75.75 0 0 1 0-1.06Zm14.82-14.82a.75.75 0 0 1 1.06 0l.707-.707a.75.75 0 0 1 1.06 1.06l-.707.707a.75.75 0 0 1-1.06 0l-.707-.707a.75.75 0 0 1 0-1.06Z"})]}),qT=({activePage:t,setActivePage:e})=>{const n="bg-sky-100 dark:bg-sky-500/20 text-sky-600 dark:text-sky-300 shadow-inner",i="text-slate-500 hover:bg-slate-200/60 dark:text-slate-400 dark:hover:bg-white/10";return p.jsxs("header",{className:"text-center my-8 w-full max-w-5xl",children:[p.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[p.jsx(Ya,{className:"h-10 w-10 text-sky-500 dark:text-sky-400"}),p.jsx("h1",{className:"text-4xl sm:text-5xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-slate-700 via-slate-800 to-black dark:from-slate-200 dark:via-slate-300 dark:to-slate-400",children:"Customer Service"})]}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg",children:"ค้นหาและจัดการข้อมูลลูกค้าในที่เดียว"}),p.jsx("nav",{className:"mt-8 border-b border-slate-300/80 dark:border-white/10 flex justify-center",children:p.jsxs("div",{className:"flex bg-slate-200/50 dark:bg-black/20 p-1 rounded-xl gap-2",children:[p.jsxs("button",{onClick:()=>e("analyzer"),className:`px-5 py-2 font-semibold text-sm rounded-lg transition-all duration-200 flex items-center gap-2 ${t==="analyzer"?n:i}`,"aria-current":t==="analyzer",children:[p.jsx(Ya,{className:"h-5 w-5 opacity-80"}),"AI Analyzer"]}),p.jsx("button",{onClick:()=>e("history"),className:`px-5 py-2 font-semibold text-sm rounded-lg transition-all duration-200 ${t==="history"?n:i}`,"aria-current":t==="history",children:"Sales History"})]})})]})};var We=(t=>(t.TEXT="text",t.AUDIO="audio",t))(We||{});const sd=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),Yg=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})}),GT=({onAnalyze:t,isLoading:e,currentInputMode:n,setCurrentInputMode:i,transcriptText:l,setTranscriptText:o,audioFile:r,setAudioFile:u,isDataConnected:c})=>{const f=g=>{g.target.files&&g.target.files[0]?u(g.target.files[0]):u(null)},d="bg-white/80 dark:bg-sky-500/10 backdrop-blur-sm text-sky-600 dark:text-sky-300 border-b-2 border-sky-500",m="border-b-2 border-transparent text-slate-500 hover:bg-slate-200/60 hover:border-slate-300 dark:text-slate-400 dark:hover:bg-white/10 dark:hover:border-transparent",h=e||!c||n===We.TEXT&&!l.trim()||n===We.AUDIO&&!r;return p.jsxs("div",{className:"p-6 bg-white/50 dark:bg-black/20 backdrop-blur-xl rounded-2xl shadow-xl border border-slate-200 dark:border-white/10",children:[p.jsxs("div",{className:"mb-4 flex border-b border-slate-200 dark:border-white/10",children:[p.jsxs("button",{onClick:()=>i(We.TEXT),disabled:e,className:`flex-1 py-3 px-4 font-medium text-sm rounded-t-lg transition-all duration-150 ${n===We.TEXT?d:m} disabled:opacity-50`,children:[p.jsx(Yg,{className:"inline-block h-5 w-5 mr-2"}),"วางข้อความถอดเสียง"]}),p.jsxs("button",{onClick:()=>i(We.AUDIO),disabled:e,className:`flex-1 py-3 px-4 font-medium text-sm rounded-t-lg transition-all duration-150 ${n===We.AUDIO?d:m} disabled:opacity-50`,children:[p.jsx(sd,{className:"inline-block h-5 w-5 mr-2"}),"อัปโหลดไฟล์เสียง"]})]}),n===We.TEXT&&p.jsx("textarea",{value:l,onChange:g=>o(g.target.value),placeholder:"วางข้อความที่ถอดเสียงจากการขายที่นี่ (ภาษาไทย)...",rows:10,className:"w-full p-3 bg-white/50 dark:bg-black/20 border border-slate-300 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 disabled:opacity-50 backdrop-blur-sm",disabled:e}),n===We.AUDIO&&p.jsxs("div",{className:"flex flex-col items-center justify-center p-4 border-2 border-dashed border-slate-400/60 dark:border-white/20 rounded-lg bg-white/20 dark:bg-black/20 backdrop-blur-sm",children:[p.jsx("input",{type:"file",accept:"audio/*",onChange:f,id:"audioUpload",className:"hidden",disabled:e}),p.jsxs("label",{htmlFor:"audioUpload",className:`cursor-pointer px-6 py-3 rounded-lg text-sm font-medium transition-colors duration-150 border
            ${e?"bg-slate-200 text-slate-500 border-slate-300":"bg-slate-50 hover:bg-slate-200/80 text-slate-700 border-slate-300 dark:bg-white/10 dark:hover:bg-white/20 dark:text-slate-100 dark:border-white/20"}`,children:[p.jsx(sd,{className:"inline-block h-5 w-5 mr-2"}),r?r.name:"เลือกไฟล์เสียง"]}),r&&p.jsxs("p",{className:"mt-2 text-xs text-slate-600 dark:text-slate-400",children:[r.name," (",(r.size/1024/1024).toFixed(2)," MB)"]}),p.jsx("p",{className:"mt-2 text-xs text-slate-500 dark:text-slate-500",children:"รองรับไฟล์ MP3, WAV, M4A, ฯลฯ"})]}),p.jsxs("button",{onClick:t,disabled:h,className:"mt-6 w-full flex items-center justify-center bg-gradient-to-r from-sky-600 to-blue-600 hover:from-sky-500 hover:to-blue-500 text-white font-semibold py-3 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-sky-400 focus:ring-opacity-75 disabled:opacity-50 disabled:cursor-not-allowed transform hover:scale-105 disabled:transform-none",children:[p.jsx(Ya,{className:"h-5 w-5 mr-2"}),e?"กำลังวิเคราะห์...":"เริ่มวิเคราะห์"]})]})},rd="ข้อมูลสินค้า",BT="AnalysisLog",or="SalesData_Realtime",ud=t=>{if(t==null)return"";const e=String(t).replace(/\D/g,"");return e.startsWith("66")?"0"+e.substring(2):e},zT=t=>{if(!t)return null;if(t instanceof Date&&!isNaN(t.getTime()))return t;if(typeof t=="string"){const e=t.trim(),n=e.split("/");if(n.length===3){const l=parseInt(n[0],10),o=parseInt(n[1],10),r=parseInt(n[2],10);if(!isNaN(l)&&!isNaN(o)&&!isNaN(r)&&r>1e3){const u=new Date(r,o-1,l);if(u&&u.getFullYear()===r&&u.getMonth()===o-1&&u.getDate()===l)return u}}const i=new Date(e);return isNaN(i.getTime())?null:i}if(typeof t=="number"&&t>0){const e=new Date((t-25569)*86400*1e3);return isNaN(e.getTime())?null:e}return null},ar=t=>{if(t==null||t==="")return;if(typeof t=="number")return t;const e=Number(String(t).replace(/,/g,""));return isNaN(e)?void 0:e},HT=async t=>{const e=[`'${rd}'!A:D`,`'${or}'!A:Z`],i=(await yn.client.sheets.spreadsheets.values.batchGet({spreadsheetId:t,ranges:e})).result;if(!i.valueRanges||i.valueRanges.length<2)throw new Error(`Could not find data in the required sheets ('${rd}', '${or}').`);const[l,o]=i.valueRanges,r=[],u=[];l.values&&l.values.length>1&&l.values.slice(1).forEach(m=>{const h=String(m[0]||"").trim(),g=String(m[1]||"").trim(),S=String(m[2]||"").trim(),_=String(m[3]||"").trim();h&&r.push(`- ${h}: ${g||"N/A"}${_?` (พนักงาน: ${_})`:""}`),_&&S&&u.push({name:_,phone:ud(S)})});const c={productContext:r.join(`
`),salespersons:u},f=[];if(o.values&&o.values.length>1){const d=o.values[0].map(S=>String(S).trim()),m={};d.forEach((S,_)=>m[S]=_);const h=["วันที่ขาย"];if(!h.every(S=>d.includes(S)))throw new Error(`Sheet '${or}' is missing required header: ${h.join(", ")}`);o.values.slice(1).forEach(S=>{const _=zT(S[m.วันที่ขาย]);if(_){const M=S[m.เบอร์โทร],v=M!=null&&String(M).trim()!==""?ud(M):void 0;f.push({วันที่ขาย:_,เบอร์โทร:v,ลำดับ:ar(S[m.ลำดับ]),ช่องทางขาย:String(S[m.ช่องทางขาย]||""),ชำระเงิน:String(S[m.ชำระเงิน]||""),"ชื่อ Facebook":String(S[m["ชื่อ Facebook"]]||""),พนักงานขาย:String(S[m.พนักงานขาย]||""),สินค้า:String(S[m.สินค้า]||""),จำนวน:ar(S[m.จำนวน]),ราคา:ar(S[m.ราคา]),ชื่อผู้รับ:String(S[m.ชื่อผู้รับ]||""),ที่อยู่:String(S[m.ที่อยู่]||""),ตำบล:String(S[m.ตำบล]||""),อำเภอ:String(S[m.อำเภอ]||""),จังหวัด:String(S[m.จังหวัด]||""),รหัสไปรษณีย์:String(S[m.รหัสไปรษณีย์]||"")})}})}return{salesData:f,contextData:c}},OT=async(t,e,n,i)=>{var o,r;if(!yn.auth2.getAuthInstance().isSignedIn.get())throw new Error("User is not signed in.");const l=[new Date().toISOString(),n??"N/A",e.situationalEvaluation.closingProbability,e.salespersonEvaluation.overallPerformanceScore,i??"N/A",e.strategicRecommendations.nextBestAction,e.situationalEvaluation.callOutcomeSummary,"https://ponuom.github.io/Search-V4/"];try{await yn.client.sheets.spreadsheets.values.append({spreadsheetId:t,range:`'${BT}'!A1`,valueInputOption:"USER_ENTERED",insertDataOption:"INSERT_ROWS",resource:{values:[l]}})}catch(u){throw console.error("Error writing to Google Sheet:",u),new Error(((r=(o=u.result)==null?void 0:o.error)==null?void 0:r.message)||"Failed to write to Google Sheet.")}},Jg=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 0 1-1.125-1.125V6.375m1.125 13.125A1.125 1.125 0 0 0 4.5 18.375h15A1.125 1.125 0 0 0 20.625 19.5m0 0A1.125 1.125 0 0 1 19.5 20.625h-15A1.125 1.125 0 0 1 3.375 19.5m0 0V6.375m0 0A1.125 1.125 0 0 1 4.5 5.25h15A1.125 1.125 0 0 1 20.625 6.375m0 0V19.5m0-13.125A1.125 1.125 0 0 0 19.5 5.25h-15A1.125 1.125 0 0 0 3.375 6.375m17.25 0H3.375"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 12.75h17.25"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5.25v15.375"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 5.25v15.375"})]}),ou=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})}),FT=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:[p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.311a6.01 6.01 0 0 1-1.5.189m1.5-.189a6.01 6.01 0 0 0 1.5.189m-1.5-3.75a6.01 6.01 0 0 1-1.5-.189m1.5.189a6.01 6.01 0 0 0 1.5-.189m-3.75-2.311a12.06 12.06 0 0 0 4.5 0m-4.5 0a12.06 12.06 0 0 1-4.5 0m0 0a12.06 12.06 0 0 0-4.5 0m4.5 0a12.06 12.06 0 0 1 4.5 0"}),p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75a3 3 0 0 1 6 0v2.25H9v-2.25Z"})]}),cd=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),ca=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),fa=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),fd=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.59 14.37a6 6 0 0 1-5.84 7.38v-4.82m5.84-2.56a12.025 12.025 0 0 1-4.25 6.01M15.34 9.59a6 6 0 0 1-2.12 7.38m3.06-5.26a12.025 12.025 0 0 1-4.25 6.01M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18Zm0 0a8.949 8.949 0 0 0 5.46-2.09M12 3a8.949 8.949 0 0 1 5.46 2.09m-5.46 16v-4.82"})}),YT=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 8.25H7.5a2.25 2.25 0 0 0-2.25 2.25v9a2.25 2.25 0 0 0 2.25 2.25h9a2.25 2.25 0 0 0 2.25-2.25v-9a2.25 2.25 0 0 0-2.25-2.25H15m0-3-3-3m0 0-3 3m3-3v11.25"})}),hi=({title:t,className:e=""})=>p.jsx("h2",{className:`text-sm font-bold text-slate-800 tracking-wider uppercase border-b-2 border-teal-500 pb-1 mb-3 ${e}`,children:t}),Yo=({label:t,value:e})=>p.jsxs("div",{className:"text-xs mb-1",children:[p.jsxs("span",{className:"font-semibold text-slate-600",children:[t,":"]}),p.jsx("span",{className:"text-slate-800 ml-1",children:e??"N/A"})]}),Jo=({label:t,value:e})=>p.jsxs("div",{className:"bg-slate-200/80 rounded-md px-2 py-1 flex justify-between items-center",children:[p.jsx("span",{className:"text-xs font-medium text-slate-700",children:t}),p.jsx("span",{className:"text-xs font-bold text-teal-700",children:e})]}),dd=({items:t,type:e})=>{const n=e==="strength",i=n?"text-teal-600":"text-rose-600",l=n?p.jsx(ca,{className:`w-3.5 h-3.5 ${i}`}):p.jsx(fa,{className:`w-3.5 h-3.5 ${i}`});return p.jsx("ul",{className:"space-y-1.5",children:t&&t.length>0?t.map((o,r)=>p.jsxs("li",{className:"flex items-start text-xs",children:[p.jsx("span",{className:"mt-0.5 mr-1.5 shrink-0",children:l}),p.jsx("span",{className:"text-slate-700",children:o})]},r)):p.jsx("li",{className:"text-xs text-slate-500 italic ml-5",children:"ไม่มีข้อมูล"})})},JT=({result:t,callMetadata:e,salespersonName:n,onRendered:i})=>{const{salespersonEvaluation:l,customerEvaluation:o,situationalEvaluation:r,strategicRecommendations:u}=t;B.useEffect(()=>{const f=setTimeout(()=>{i()},500);return()=>clearTimeout(f)},[i]);const c=(e==null?void 0:e.callType)==="โทรออก"?e.destinationPhone:e.sourcePhone;return p.jsx("div",{style:{fontFamily:"'Noto Sans Thai', sans-serif"},className:"w-[794px] bg-white text-black font-sans box-border text-slate-800 p-8",children:p.jsxs("div",{className:"flex gap-x-8",children:[p.jsxs("div",{className:"w-[65%]",children:[p.jsxs("header",{className:"mb-6",children:[p.jsx("h1",{className:"text-3xl font-bold text-slate-800 tracking-tight",children:n??"Customer Interaction Report"}),p.jsx("p",{className:"text-md text-teal-600 font-medium",children:"รายงานสรุปข้อมูลลูกค้า"})]}),p.jsxs("section",{className:"mb-6",children:[p.jsx(hi,{title:"Executive Summary"}),p.jsx("p",{className:"text-xs text-slate-600 leading-relaxed",children:r.callOutcomeSummary})]}),p.jsxs("section",{children:[p.jsx(hi,{title:"Strategic Recommendations"}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-bold text-slate-700",children:"Next Best Action"}),p.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:u.nextBestAction})]}),u.detailedStrategy.map((f,d)=>p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-bold text-slate-700",children:f.recommendation}),p.jsxs("p",{className:"text-xs text-slate-500 mb-1",children:["Success Probability: ",f.successProbability,"%"]}),p.jsx("p",{className:"text-xs text-slate-600",children:f.reasoning})]},d))]})]})]}),p.jsxs("div",{className:"w-[35%]",children:[p.jsxs("section",{className:"mb-5",children:[p.jsx(hi,{title:"Call Details"}),p.jsx(Yo,{label:"Date",value:e==null?void 0:e.date}),p.jsx(Yo,{label:"Time",value:e==null?void 0:e.time}),p.jsx(Yo,{label:"Salesperson",value:n}),p.jsx(Yo,{label:"Customer Phone",value:c})]}),p.jsxs("section",{className:"mb-5",children:[p.jsx(hi,{title:"Key Metrics"}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Jo,{label:"Closing Probability",value:`${r.closingProbability}%`}),p.jsx(Jo,{label:"SP Performance",value:`${l.overallPerformanceScore}%`}),p.jsx(Jo,{label:"Customer Interest",value:`${o.interestLevel}/10`}),p.jsx(Jo,{label:"Closing Skill",value:`${l.closingSkillScore}/10`})]})]}),p.jsxs("section",{className:"mb-5",children:[p.jsx(hi,{title:"Salesperson Evaluation"}),p.jsx("h3",{className:"text-xs font-semibold text-slate-600 mb-1.5",children:"จุดแข็ง"}),p.jsx(dd,{items:l.strengths,type:"strength"}),p.jsx("h3",{className:"text-xs font-semibold text-slate-600 mt-3 mb-1.5",children:"จุดที่ควรปรับปรุง"}),p.jsx(dd,{items:l.areasForImprovement,type:"improvement"})]}),p.jsxs("section",{children:[p.jsx(hi,{title:"Customer Insights"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("p",{className:"text-xs text-slate-600",children:[p.jsx("strong",{className:"font-semibold",children:"Profile:"})," ",o.customerProfile]}),p.jsxs("p",{className:"text-xs text-slate-600",children:[p.jsx("strong",{className:"font-semibold",children:"Decision Factors:"})," ",o.decisionMakingFactors.join(", ")||"N/A"]})]})]})]})]})})},ZT=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),pi=({title:t,icon:e,children:n})=>p.jsxs("div",{className:"bg-white/50 dark:bg-black/20 backdrop-blur-xl p-4 sm:p-6 rounded-2xl shadow-lg border border-slate-200 dark:border-white/10",children:[p.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center text-sky-600 dark:text-sky-400",children:[e&&p.jsx("span",{className:"mr-3 h-6 w-6",children:e}),t]}),p.jsx("div",{className:"space-y-4",children:n})]}),Zo=({value:t,max:e=10,label:n})=>{const i=t/e*100,l=i>70?"bg-green-500":i>40?"bg-yellow-500":"bg-red-500";return p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between mb-1",children:[p.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:n}),p.jsxs("span",{className:"text-sm font-medium text-slate-800 dark:text-slate-200",children:[t," / ",e]})]}),p.jsx("div",{className:"w-full bg-slate-200/70 dark:bg-slate-700/50 rounded-full h-2.5",children:p.jsx("div",{className:`${l} h-2.5 rounded-full transition-all duration-500 ease-out`,style:{width:`${i}%`}})})]})},ke=({label:t,value:e,className:n})=>p.jsxs("div",{className:`text-sm text-slate-600 dark:text-slate-400 ${n}`,children:[p.jsxs("strong",{className:"text-slate-800 dark:text-slate-200 font-medium",children:[t,":"]})," ",e??"N/A"]}),$o=({items:t,icon:e,className:n="text-green-500 dark:text-green-400",title:i})=>p.jsxs("div",{children:[i&&p.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:i}),p.jsx("ul",{className:"list-none p-0 space-y-2",children:t&&t.length>0?t.map((l,o)=>p.jsxs("li",{className:"flex items-start",children:[p.jsx("span",{className:`h-5 w-5 mr-2 mt-0.5 shrink-0 ${n}`,children:e}),p.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:l})]},o)):p.jsx("li",{className:"text-slate-500 dark:text-slate-500 italic ml-7",children:"ไม่มีข้อมูล"})})]}),$T=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",...t,children:p.jsx("path",{fillRule:"evenodd",d:"M2 3.5A1.5 1.5 0 0 1 3.5 2h1.148a1.5 1.5 0 0 1 1.465 1.175l.716 3.003a1.5 1.5 0 0 1-2.45 1.772l-.336-.297a11.026 11.026 0 0 0-3.21.323 1.5 1.5 0 0 1-.62.296l-1.12.503A1.5 1.5 0 0 1 2 9.172V5.513a1.5 1.5 0 0 1 0-1.002V3.5zm16.5-2.032a1.5 1.5 0 0 0-1.5 1.5v1.011c0 .338.036.67.106.99l-1.12.503a1.5 1.5 0 0 0-.62.296c-1.102-.19-2.18-.313-3.21-.323l-.336-.297a1.5 1.5 0 0 0-2.45 1.772l.716 3.003A1.5 1.5 0 0 0 8.852 18h2.296a1.5 1.5 0 0 0 1.465-1.175l.716-3.003a1.5 1.5 0 0 0-2.45-1.772l-.336.297c1.102.19 2.18.313 3.21.323l.336.297a1.5 1.5 0 0 0 2.45-1.772l-.716-3.003a1.5 1.5 0 0 0-1.447-1.296z",clipRule:"evenodd"})}),XT=({result:t,callMetadata:e,salespersonName:n,relevantHistory:i,isLoggedIn:l,googleSheetId:o})=>{const[r,u]=B.useState("คัดลอก CSV"),[c,f]=B.useState(!1),[d,m]=B.useState("idle"),{salespersonEvaluation:h,customerEvaluation:g,situationalEvaluation:S,strategicRecommendations:_,transcribedText:M}=t,v=n??(e?"ไม่พบชื่อ":null),y=E=>E==null?"":`"${String(E).replace(/"/g,'""')}"`,T=async()=>{const E=["วันที่โทร","เวลาโทร","ประเภทสาย","เบอร์ต้นทาง","เบอร์ปลายทาง","พนักงานขาย","SP Perf Score (%)","SP Strengths","SP Areas for Improvement","Cust Interest (1-10)","Cust Profile","Cust Pain Points","Cust Sentiment","Purchasing Behavior","Closing Probability (%)","Call Sentiment","Sales Stage","Call Outcome","Positive Signals","Negative Signals","Next Best Action","Suggested Offer","Detailed Strategy","Transcribed Text"],b=de=>de.map(W=>`${W.recommendation} (Success: ${W.successProbability}%)`).join("; "),k=de=>(de==null?void 0:de.map(W=>`[${W.timestamp||"N/A"}] ${W.speaker}: ${W.utterance}`).join("; "))||"",P=de=>de?`Summary: ${de.summary}; Freq: ${de.buyingFrequency}; Volume: ${de.typicalPurchaseVolume}; Price Sensitivity: ${de.priceSensitivity}`:"",se=[e==null?void 0:e.date,e==null?void 0:e.time,e==null?void 0:e.callType,e==null?void 0:e.sourcePhone,e==null?void 0:e.destinationPhone,v,h.overallPerformanceScore,h.strengths.join("; "),h.areasForImprovement.join("; "),g.interestLevel,g.customerProfile,g.painPointsIdentified.join("; "),g.customerSentiment,P(g.purchasingBehavior),S.closingProbability,S.callSentiment,S.currentSalesStage,S.callOutcomeSummary,S.positiveSignals.join("; "),S.negativeSignals.join("; "),_.nextBestAction,_.suggestedOffer,b(_.detailedStrategy),k(M)],Fe=[E.join(","),se.map(y).join(",")].join(`
`);try{await navigator.clipboard.writeText(Fe),u("คัดลอกแล้ว!"),setTimeout(()=>u("คัดลอก CSV"),2e3)}catch{u("คัดลอกไม่สำเร็จ"),setTimeout(()=>u("คัดลอก CSV"),3e3)}},C=async()=>{if(!o){alert("กรุณาใส่ Google Sheet ID ก่อน");return}m("saving");try{const E=(e==null?void 0:e.callType)==="โทรออก"?e.destinationPhone:e==null?void 0:e.sourcePhone;await OT(o,t,v,E),m("saved")}catch(E){console.error("Failed to save to sheet:",E),m("error")}},x=async()=>{f(!0);const E=document.createElement("div");E.style.position="fixed",E.style.left="0",E.style.top="0",E.style.zIndex="-1",E.style.opacity="0";const b=document.createElement("div");E.appendChild(b),document.body.appendChild(E);const k=Fg.createRoot(b);try{await new Promise(sn=>{k.render(p.jsx(JT,{result:t,callMetadata:e,salespersonName:v,onRendered:sn}))});const se=(await Gy(b,{scale:2.5,useCORS:!0,logging:!1,backgroundColor:"#ffffff"})).toDataURL("image/png"),Fe=new qy("p","mm","a4"),de=Fe.internal.pageSize.getWidth(),W=Fe.internal.pageSize.getHeight(),w=Fe.getImageProperties(se),O=w.width/w.height;let q=de,ie=de/O;ie>W&&(ie=W,q=W*O);const me=(de-q)/2,an=(W-ie)/2;Fe.addImage(se,"PNG",me,an,q,ie);const _t=e!=null&&e.originalFilename?`Analysis_Report_${e.originalFilename.split(".")[0]}.pdf`:"Analysis_Report.pdf";Fe.save(_t)}catch(P){console.error("Failed to generate PDF",P)}finally{k.unmount(),document.body.removeChild(E),f(!1)}},D=()=>{switch(d){case"saving":return"กำลังบันทึก...";case"saved":return"บันทึกแล้ว!";case"error":return"บันทึกไม่สำเร็จ";default:return"บันทึกลง Sheet"}},N=E=>p.jsx("div",{className:"text-sm text-slate-700 dark:text-slate-300 whitespace-pre-wrap space-y-2 max-h-72 overflow-y-auto bg-black/5 dark:bg-black/20 p-3 rounded-lg border border-slate-200 dark:border-white/10 pr-2",children:E&&E.length>0?E.map((b,k)=>p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start",children:[b.timestamp&&p.jsxs("span",{className:"text-xs text-slate-500 dark:text-slate-500 w-full sm:w-24 shrink-0 mb-0.5 sm:mb-0 sm:mr-2 text-left sm:text-right",children:["[",b.timestamp,"]"]}),p.jsxs("p",{className:`flex-grow ${b.timestamp?"":"sm:pl-0"}`,children:[p.jsxs("strong",{className:"text-sky-600 dark:text-sky-400",children:[b.speaker||"ไม่ระบุ",":"]})," ",b.utterance]})]},k)):p.jsx("p",{className:"text-slate-500 dark:text-slate-400 italic",children:"ไม่มีข้อมูลการถอดเสียง"})});return p.jsxs("div",{className:"mt-8 space-y-6 animate-fadeIn",children:[p.jsxs("div",{className:"flex justify-end gap-2 sm:gap-4 flex-wrap",children:[p.jsxs("button",{onClick:C,disabled:!l||d==="saving"||d==="saved",title:l?"บันทึกผลการวิเคราะห์ลง Google Sheet":"กรุณาลงชื่อเข้าใช้ด้วย Google เพื่อบันทึก",className:`font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-150 flex items-center border
            ${d==="saved"?"bg-green-500/20 text-green-700 dark:text-green-200 border-green-500/30":""}
            ${d==="error"?"bg-red-500/20 text-red-700 dark:text-red-200 border-red-500/30":""}
            ${d==="idle"||d==="saving"?"bg-green-500/20 hover:bg-green-500/30 text-green-700 dark:bg-green-600/20 dark:hover:bg-green-600/30 dark:text-green-200 border-green-500/30 hover:border-green-500/40":""}
            disabled:opacity-50 disabled:cursor-not-allowed`,children:[p.jsx(ZT,{className:"h-5 w-5 mr-2"}),D()]}),p.jsxs("button",{onClick:T,className:"bg-slate-200/60 hover:bg-slate-300/60 text-slate-700 dark:bg-white/10 dark:hover:bg-white/20 dark:text-slate-100 font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-150 flex items-center border border-slate-300/80 dark:border-white/20 hover:border-slate-400/80 dark:hover:border-white/30",children:[p.jsx(Jg,{className:"h-5 w-5 mr-2"}),r]}),p.jsxs("button",{onClick:x,disabled:c,className:"bg-sky-500/20 hover:bg-sky-500/30 text-sky-700 dark:bg-sky-600/20 dark:hover:bg-sky-600/30 dark:text-sky-200 font-semibold py-2 px-4 rounded-lg shadow-md hover:shadow-lg transition-all duration-150 flex items-center border border-sky-500/30 hover:border-sky-500/40 disabled:opacity-50 disabled:cursor-wait",children:[p.jsx(YT,{className:"h-5 w-5 mr-2"}),c?"กำลังสร้าง PDF...":"ส่งออกเป็น PDF"]})]}),e&&p.jsx(pi,{title:"รายละเอียดการโทร",icon:p.jsx($T,{className:"h-6 w-6"}),children:p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-2 text-sm",children:[p.jsx(ke,{label:"วันที่",value:e.date}),p.jsx(ke,{label:"เวลา",value:e.time}),p.jsx(ke,{label:"ประเภท",value:e.callType}),p.jsx(ke,{label:"เบอร์ต้นทาง",value:e.sourcePhone}),p.jsx(ke,{label:"เบอร์ปลายทาง",value:e.destinationPhone}),p.jsx(ke,{label:"พนักงานขาย",value:v})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(pi,{title:"ประเมินสถานการณ์",icon:p.jsx(cd,{}),children:[p.jsxs("div",{className:"text-center mb-4",children:[p.jsxs("p",{className:"text-5xl font-bold text-sky-600 dark:text-sky-300",children:[S.closingProbability,"%"]}),p.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:"โอกาสในการปิดการขาย"})]}),p.jsx(ke,{label:"บรรยากาศการสนทนา",value:S.callSentiment}),p.jsx(ke,{label:"ขั้นตอนการขายปัจจุบัน",value:S.currentSalesStage}),p.jsx(ke,{label:"สรุปผลลัพธ์การโทร",value:S.callOutcomeSummary}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-slate-200 dark:border-white/10 mt-4",children:[p.jsx($o,{items:S.positiveSignals,icon:p.jsx(ca,{}),className:"text-green-600 dark:text-green-400",title:"สัญญาณเชิงบวก"}),p.jsx($o,{items:S.negativeSignals,icon:p.jsx(fa,{}),className:"text-red-600 dark:text-red-400",title:"สัญญาณเชิงลบ"})]})]}),p.jsxs(pi,{title:"ประเมินพนักงานขาย",icon:p.jsx(ou,{}),children:[p.jsx(Zo,{value:h.overallPerformanceScore,max:100,label:"คะแนนประสิทธิภาพโดยรวม"}),p.jsx(Zo,{value:h.productKnowledgeScore,label:"ความรู้ในผลิตภัณฑ์"}),p.jsx(Zo,{value:h.closingSkillScore,label:"ทักษะการปิดการขาย"}),p.jsx(ke,{label:"สไตล์การสื่อสาร",value:h.communicationStyle,className:"mt-4"})]})]}),p.jsxs(pi,{title:"ประเมินลูกค้า",icon:p.jsx(ou,{className:"text-teal-500 dark:text-teal-400"}),children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-6 gap-y-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:"โปรไฟล์และ Sentiment"}),p.jsx(Zo,{value:g.interestLevel,label:"ระดับความสนใจ"}),p.jsx(ke,{label:"โปรไฟล์ลูกค้า",value:g.customerProfile,className:"mt-4"}),p.jsx(ke,{label:"ความรู้สึกของลูกค้า",value:g.customerSentiment})]}),p.jsxs("div",{children:[p.jsx($o,{items:g.painPointsIdentified,icon:p.jsx(fa,{}),className:"text-red-600 dark:text-red-400",title:"Pain Points ที่ระบุได้"}),p.jsx("div",{className:"mt-4",children:p.jsx($o,{items:g.decisionMakingFactors,icon:p.jsx(ca,{}),className:"text-green-600 dark:text-green-400",title:"ปัจจัยในการตัดสินใจ"})})]}),g.purchasingBehavior&&p.jsxs("div",{className:"md:col-span-2 mt-4 pt-4 border-t border-slate-200 dark:border-white/10 space-y-2",children:[p.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:"พฤติกรรมการซื้อ (จากประวัติ)"}),p.jsx(ke,{label:"สรุปการซื้อ",value:g.purchasingBehavior.summary}),p.jsx(ke,{label:"ความถี่ในการซื้อ",value:g.purchasingBehavior.buyingFrequency}),p.jsx(ke,{label:"ปริมาณการซื้อปกติ",value:g.purchasingBehavior.typicalPurchaseVolume}),p.jsx(ke,{label:"ความอ่อนไหวต่อราคา",value:g.purchasingBehavior.priceSensitivity})]})]}),i&&i.length>0&&p.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-200 dark:border-white/10",children:[p.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-3",children:"ประวัติการซื้อโดยละเอียด"}),p.jsx("div",{className:"overflow-x-auto max-h-64 bg-black/5 dark:bg-black/20 rounded-lg border border-slate-200 dark:border-white/10",children:p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-200/60 dark:bg-white/5 text-slate-700 dark:text-slate-300 sticky top-0 backdrop-blur-sm",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-2",children:"วันที่ขาย"}),p.jsx("th",{className:"px-4 py-2",children:"สินค้า"}),p.jsx("th",{className:"px-4 py-2",children:"ชื่อผู้รับ"}),p.jsx("th",{className:"px-4 py-2",children:"ที่อยู่"}),p.jsx("th",{className:"px-4 py-2",children:"จังหวัด"}),p.jsx("th",{className:"px-4 py-2 text-right",children:"จำนวน"}),p.jsx("th",{className:"px-4 py-2 text-right",children:"ราคา"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-white/10",children:i.map((E,b)=>p.jsxs("tr",{className:"hover:bg-slate-200/40 dark:hover:bg-white/5",children:[p.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:E.date||"-"}),p.jsx("td",{className:"px-4 py-2",children:E.product||"-"}),p.jsx("td",{className:"px-4 py-2",children:E.recipientName||"-"}),p.jsx("td",{className:"px-4 py-2 truncate max-w-xs",children:E.address||"-"}),p.jsx("td",{className:"px-4 py-2",children:E.province||"-"}),p.jsx("td",{className:"px-4 py-2 text-right",children:E.quantity!==void 0?E.quantity:"-"}),p.jsx("td",{className:"px-4 py-2 text-right font-semibold text-green-700 dark:text-green-400",children:E.price?E.price.toLocaleString("th-TH",{style:"currency",currency:"THB"}):"-"})]},b))})]})})]})]}),p.jsxs(pi,{title:"กลยุทธ์และคำแนะนำ",icon:p.jsx(fd,{}),children:[p.jsx(ke,{label:"Next Best Action",value:_.nextBestAction}),p.jsx(ke,{label:"ข้อเสนอแนะ",value:_.suggestedOffer}),p.jsxs("div",{className:"mt-4",children:[p.jsx("h4",{className:"font-semibold text-slate-800 dark:text-slate-200 mb-2",children:"กลยุทธ์โดยละเอียด:"}),p.jsx("div",{className:"space-y-3",children:_.detailedStrategy.map((E,b)=>p.jsxs("div",{className:"p-3 bg-white/50 dark:bg-black/20 rounded-lg border border-slate-200 dark:border-white/10",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("p",{className:"font-semibold text-sky-700 dark:text-sky-300",children:E.recommendation}),p.jsxs("span",{className:"text-xs font-bold text-sky-800 dark:text-slate-200 bg-sky-200/70 dark:bg-sky-600/50 px-2 py-1 rounded-full",children:[E.successProbability,"% Success"]})]}),p.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:E.reasoning})]},b))})]})]}),M&&M.length>0&&p.jsx(pi,{title:"บทสนทนา",icon:p.jsx(Yg,{}),children:N(M)}),p.jsxs("div",{style:{display:"none"},children:[p.jsx(FT,{})," ",p.jsx(cd,{})," ",p.jsx(ca,{})," ",p.jsx(fa,{})," ",p.jsx(fd,{})]}),p.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fadeIn { animation: fadeIn 0.5s ease-out forwards; }
      `}})]})},Zg=()=>p.jsxs("div",{className:"flex flex-col items-center justify-center my-10 p-6",children:[p.jsxs("svg",{className:"animate-spin h-12 w-12 text-sky-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),p.jsx("p",{className:"mt-4 text-slate-600 dark:text-slate-300 text-lg",children:"กำลังวิเคราะห์ข้อมูล กรุณารอสักครู่..."})]}),KT=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),au=({message:t})=>p.jsxs("div",{className:"my-6 p-4 bg-red-900/40 backdrop-blur-sm border border-red-700/60 text-red-300 rounded-lg flex items-start space-x-3 shadow-lg",children:[p.jsx(KT,{className:"h-6 w-6 text-red-400 flex-shrink-0 mt-0.5"}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-semibold text-red-200",children:"เกิดข้อผิดพลาด"}),p.jsx("p",{className:"text-sm",children:t})]})]});var j;(function(t){t.assertEqual=l=>{};function e(l){}t.assertIs=e;function n(l){throw new Error}t.assertNever=n,t.arrayToEnum=l=>{const o={};for(const r of l)o[r]=r;return o},t.getValidEnumValues=l=>{const o=t.objectKeys(l).filter(u=>typeof l[l[u]]!="number"),r={};for(const u of o)r[u]=l[u];return t.objectValues(r)},t.objectValues=l=>t.objectKeys(l).map(function(o){return l[o]}),t.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const o=[];for(const r in l)Object.prototype.hasOwnProperty.call(l,r)&&o.push(r);return o},t.find=(l,o)=>{for(const r of l)if(o(r))return r},t.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function i(l,o=" | "){return l.map(r=>typeof r=="string"?`'${r}'`:r).join(o)}t.joinValues=i,t.jsonStringifyReplacer=(l,o)=>typeof o=="bigint"?o.toString():o})(j||(j={}));var md;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(md||(md={}));const I=j.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),gn=t=>{switch(typeof t){case"undefined":return I.undefined;case"string":return I.string;case"number":return Number.isNaN(t)?I.nan:I.number;case"boolean":return I.boolean;case"function":return I.function;case"bigint":return I.bigint;case"symbol":return I.symbol;case"object":return Array.isArray(t)?I.array:t===null?I.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?I.promise:typeof Map<"u"&&t instanceof Map?I.map:typeof Set<"u"&&t instanceof Set?I.set:typeof Date<"u"&&t instanceof Date?I.date:I.object;default:return I.unknown}},R=j.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class tn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=i=>{this.issues=[...this.issues,i]},this.addIssues=(i=[])=>{this.issues=[...this.issues,...i]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},i={_errors:[]},l=o=>{for(const r of o.issues)if(r.code==="invalid_union")r.unionErrors.map(l);else if(r.code==="invalid_return_type")l(r.returnTypeError);else if(r.code==="invalid_arguments")l(r.argumentsError);else if(r.path.length===0)i._errors.push(n(r));else{let u=i,c=0;for(;c<r.path.length;){const f=r.path[c];c===r.path.length-1?(u[f]=u[f]||{_errors:[]},u[f]._errors.push(n(r))):u[f]=u[f]||{_errors:[]},u=u[f],c++}}};return l(this),i}static assert(e){if(!(e instanceof tn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,j.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},i=[];for(const l of this.issues)l.path.length>0?(n[l.path[0]]=n[l.path[0]]||[],n[l.path[0]].push(e(l))):i.push(e(l));return{formErrors:i,fieldErrors:n}}get formErrors(){return this.flatten()}}tn.create=t=>new tn(t);const su=(t,e)=>{let n;switch(t.code){case R.invalid_type:t.received===I.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case R.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,j.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:n=`Unrecognized key(s) in object: ${j.joinValues(t.keys,", ")}`;break;case R.invalid_union:n="Invalid input";break;case R.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${j.joinValues(t.options)}`;break;case R.invalid_enum_value:n=`Invalid enum value. Expected ${j.joinValues(t.options)}, received '${t.received}'`;break;case R.invalid_arguments:n="Invalid function arguments";break;case R.invalid_return_type:n="Invalid function return type";break;case R.invalid_date:n="Invalid date";break;case R.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:j.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case R.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case R.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case R.custom:n="Invalid input";break;case R.invalid_intersection_types:n="Intersection results could not be merged";break;case R.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case R.not_finite:n="Number must be finite";break;default:n=e.defaultError,j.assertNever(t)}return{message:n}};let QT=su;function WT(){return QT}const jT=t=>{const{data:e,path:n,errorMaps:i,issueData:l}=t,o=[...n,...l.path||[]],r={...l,path:o};if(l.message!==void 0)return{...l,path:o,message:l.message};let u="";const c=i.filter(f=>!!f).slice().reverse();for(const f of c)u=f(r,{data:e,defaultError:u}).message;return{...l,path:o,message:u}};function U(t,e){const n=WT(),i=jT({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===su?void 0:su].filter(l=>!!l)});t.common.issues.push(i)}class Ze{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const i=[];for(const l of n){if(l.status==="aborted")return H;l.status==="dirty"&&e.dirty(),i.push(l.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,n){const i=[];for(const l of n){const o=await l.key,r=await l.value;i.push({key:o,value:r})}return Ze.mergeObjectSync(e,i)}static mergeObjectSync(e,n){const i={};for(const l of n){const{key:o,value:r}=l;if(o.status==="aborted"||r.status==="aborted")return H;o.status==="dirty"&&e.dirty(),r.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof r.value<"u"||l.alwaysSet)&&(i[o.value]=r.value)}return{status:e.value,value:i}}}const H=Object.freeze({status:"aborted"}),kl=t=>({status:"dirty",value:t}),Ct=t=>({status:"valid",value:t}),hd=t=>t.status==="aborted",pd=t=>t.status==="dirty",nl=t=>t.status==="valid",Ja=t=>typeof Promise<"u"&&t instanceof Promise;var L;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(L||(L={}));class Vt{constructor(e,n,i,l){this._cachedPath=[],this.parent=e,this.data=n,this._path=i,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const gd=(t,e)=>{if(nl(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new tn(t.common.issues);return this._error=n,this._error}}};function F(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:i,description:l}=t;if(e&&(n||i))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:l}:{errorMap:(r,u)=>{const{message:c}=t;return r.code==="invalid_enum_value"?{message:c??u.defaultError}:typeof u.data>"u"?{message:c??i??u.defaultError}:r.code!=="invalid_type"?{message:u.defaultError}:{message:c??n??u.defaultError}},description:l}}class K{get description(){return this._def.description}_getType(e){return gn(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:gn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Ze,ctx:{common:e.parent.common,data:e.data,parsedType:gn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ja(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const i=this.safeParse(e,n);if(i.success)return i.data;throw i.error}safeParse(e,n){const i={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gn(e)},l=this._parseSync({data:e,path:i.path,parent:i});return gd(i,l)}"~validate"(e){var i,l;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gn(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return nl(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(l=(i=o==null?void 0:o.message)==null?void 0:i.toLowerCase())!=null&&l.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>nl(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const i=await this.safeParseAsync(e,n);if(i.success)return i.data;throw i.error}async safeParseAsync(e,n){const i={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:gn(e)},l=this._parse({data:e,path:i.path,parent:i}),o=await(Ja(l)?l:Promise.resolve(l));return gd(i,o)}refine(e,n){const i=l=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(l):n;return this._refinement((l,o)=>{const r=e(l),u=()=>o.addIssue({code:R.custom,...i(l)});return typeof Promise<"u"&&r instanceof Promise?r.then(c=>c?!0:(u(),!1)):r?!0:(u(),!1)})}refinement(e,n){return this._refinement((i,l)=>e(i)?!0:(l.addIssue(typeof n=="function"?n(i,l):n),!1))}_refinement(e){return new ol({schema:this,typeName:z.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return In.create(this,this._def)}nullable(){return al.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Lt.create(this)}promise(){return Qa.create(this,this._def)}or(e){return $a.create([this,e],this._def)}and(e){return Xa.create(this,e,this._def)}transform(e){return new ol({...F(this._def),schema:this,typeName:z.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new fu({...F(this._def),innerType:this,defaultValue:n,typeName:z.ZodDefault})}brand(){return new _S({typeName:z.ZodBranded,type:this,...F(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new du({...F(this._def),innerType:this,catchValue:n,typeName:z.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Ec.create(this,e)}readonly(){return mu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const eS=/^c[^\s-]{8,}$/i,tS=/^[0-9a-z]+$/,nS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,iS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,lS=/^[a-z0-9_-]{21}$/i,oS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,aS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,sS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let sr;const uS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,cS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,fS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,dS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,mS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,hS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,$g="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",pS=new RegExp(`^${$g}$`);function Xg(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function gS(t){return new RegExp(`^${Xg(t)}$`)}function yS(t){let e=`${$g}T${Xg(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function vS(t,e){return!!((e==="v4"||!e)&&uS.test(t)||(e==="v6"||!e)&&fS.test(t))}function TS(t,e){if(!oS.test(t))return!1;try{const[n]=t.split("."),i=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),l=JSON.parse(atob(i));return!(typeof l!="object"||l===null||"typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||e&&l.alg!==e)}catch{return!1}}function SS(t,e){return!!((e==="v4"||!e)&&cS.test(t)||(e==="v6"||!e)&&dS.test(t))}class Dt extends K{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==I.string){const o=this._getOrReturnCtx(e);return U(o,{code:R.invalid_type,expected:I.string,received:o.parsedType}),H}const i=new Ze;let l;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(l=this._getOrReturnCtx(e,l),U(l,{code:R.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="max")e.data.length>o.value&&(l=this._getOrReturnCtx(e,l),U(l,{code:R.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),i.dirty());else if(o.kind==="length"){const r=e.data.length>o.value,u=e.data.length<o.value;(r||u)&&(l=this._getOrReturnCtx(e,l),r?U(l,{code:R.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):u&&U(l,{code:R.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),i.dirty())}else if(o.kind==="email")sS.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"email",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="emoji")sr||(sr=new RegExp(rS,"u")),sr.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"emoji",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="uuid")iS.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"uuid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="nanoid")lS.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"nanoid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid")eS.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"cuid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="cuid2")tS.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"cuid2",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="ulid")nS.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"ulid",code:R.invalid_string,message:o.message}),i.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{l=this._getOrReturnCtx(e,l),U(l,{validation:"url",code:R.invalid_string,message:o.message}),i.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"regex",code:R.invalid_string,message:o.message}),i.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(l=this._getOrReturnCtx(e,l),U(l,{code:R.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),i.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(l=this._getOrReturnCtx(e,l),U(l,{code:R.invalid_string,validation:{startsWith:o.value},message:o.message}),i.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(l=this._getOrReturnCtx(e,l),U(l,{code:R.invalid_string,validation:{endsWith:o.value},message:o.message}),i.dirty()):o.kind==="datetime"?yS(o).test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{code:R.invalid_string,validation:"datetime",message:o.message}),i.dirty()):o.kind==="date"?pS.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{code:R.invalid_string,validation:"date",message:o.message}),i.dirty()):o.kind==="time"?gS(o).test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{code:R.invalid_string,validation:"time",message:o.message}),i.dirty()):o.kind==="duration"?aS.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"duration",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="ip"?vS(e.data,o.version)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"ip",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="jwt"?TS(e.data,o.alg)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"jwt",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="cidr"?SS(e.data,o.version)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"cidr",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="base64"?mS.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"base64",code:R.invalid_string,message:o.message}),i.dirty()):o.kind==="base64url"?hS.test(e.data)||(l=this._getOrReturnCtx(e,l),U(l,{validation:"base64url",code:R.invalid_string,message:o.message}),i.dirty()):j.assertNever(o);return{status:i.value,value:e.data}}_regex(e,n,i){return this.refinement(l=>e.test(l),{validation:n,code:R.invalid_string,...L.errToObj(i)})}_addCheck(e){return new Dt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...L.errToObj(e)})}url(e){return this._addCheck({kind:"url",...L.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...L.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...L.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...L.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...L.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...L.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...L.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...L.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...L.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...L.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...L.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...L.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...L.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...L.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...L.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...L.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...L.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...L.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...L.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...L.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...L.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...L.errToObj(n)})}nonempty(e){return this.min(1,L.errToObj(e))}trim(){return new Dt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Dt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Dt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Dt.create=t=>new Dt({checks:[],typeName:z.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...F(t)});function CS(t,e){const n=(t.toString().split(".")[1]||"").length,i=(e.toString().split(".")[1]||"").length,l=n>i?n:i,o=Number.parseInt(t.toFixed(l).replace(".","")),r=Number.parseInt(e.toFixed(l).replace(".",""));return o%r/10**l}class ii extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==I.number){const o=this._getOrReturnCtx(e);return U(o,{code:R.invalid_type,expected:I.number,received:o.parsedType}),H}let i;const l=new Ze;for(const o of this._def.checks)o.kind==="int"?j.isInteger(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{code:R.invalid_type,expected:"integer",received:"float",message:o.message}),l.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),U(i,{code:R.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),U(i,{code:R.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="multipleOf"?CS(e.data,o.value)!==0&&(i=this._getOrReturnCtx(e,i),U(i,{code:R.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(i=this._getOrReturnCtx(e,i),U(i,{code:R.not_finite,message:o.message}),l.dirty()):j.assertNever(o);return{status:l.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,L.toString(n))}gt(e,n){return this.setLimit("min",e,!1,L.toString(n))}lte(e,n){return this.setLimit("max",e,!0,L.toString(n))}lt(e,n){return this.setLimit("max",e,!1,L.toString(n))}setLimit(e,n,i,l){return new ii({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:L.toString(l)}]})}_addCheck(e){return new ii({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:L.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:L.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:L.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:L.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:L.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:L.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:L.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:L.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:L.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&j.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const i of this._def.checks){if(i.kind==="finite"||i.kind==="int"||i.kind==="multipleOf")return!0;i.kind==="min"?(n===null||i.value>n)&&(n=i.value):i.kind==="max"&&(e===null||i.value<e)&&(e=i.value)}return Number.isFinite(n)&&Number.isFinite(e)}}ii.create=t=>new ii({checks:[],typeName:z.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...F(t)});class li extends K{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==I.bigint)return this._getInvalidInput(e);let i;const l=new Ze;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(i=this._getOrReturnCtx(e,i),U(i,{code:R.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(i=this._getOrReturnCtx(e,i),U(i,{code:R.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(i=this._getOrReturnCtx(e,i),U(i,{code:R.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):j.assertNever(o);return{status:l.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return U(n,{code:R.invalid_type,expected:I.bigint,received:n.parsedType}),H}gte(e,n){return this.setLimit("min",e,!0,L.toString(n))}gt(e,n){return this.setLimit("min",e,!1,L.toString(n))}lte(e,n){return this.setLimit("max",e,!0,L.toString(n))}lt(e,n){return this.setLimit("max",e,!1,L.toString(n))}setLimit(e,n,i,l){return new li({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:i,message:L.toString(l)}]})}_addCheck(e){return new li({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:L.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:L.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:L.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:L.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:L.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}li.create=t=>new li({checks:[],typeName:z.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...F(t)});class Za extends K{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==I.boolean){const i=this._getOrReturnCtx(e);return U(i,{code:R.invalid_type,expected:I.boolean,received:i.parsedType}),H}return Ct(e.data)}}Za.create=t=>new Za({typeName:z.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...F(t)});class il extends K{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==I.date){const o=this._getOrReturnCtx(e);return U(o,{code:R.invalid_type,expected:I.date,received:o.parsedType}),H}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return U(o,{code:R.invalid_date}),H}const i=new Ze;let l;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(l=this._getOrReturnCtx(e,l),U(l,{code:R.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),i.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(l=this._getOrReturnCtx(e,l),U(l,{code:R.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),i.dirty()):j.assertNever(o);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new il({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:L.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:L.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}il.create=t=>new il({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:z.ZodDate,...F(t)});class yd extends K{_parse(e){if(this._getType(e)!==I.symbol){const i=this._getOrReturnCtx(e);return U(i,{code:R.invalid_type,expected:I.symbol,received:i.parsedType}),H}return Ct(e.data)}}yd.create=t=>new yd({typeName:z.ZodSymbol,...F(t)});class vd extends K{_parse(e){if(this._getType(e)!==I.undefined){const i=this._getOrReturnCtx(e);return U(i,{code:R.invalid_type,expected:I.undefined,received:i.parsedType}),H}return Ct(e.data)}}vd.create=t=>new vd({typeName:z.ZodUndefined,...F(t)});class Td extends K{_parse(e){if(this._getType(e)!==I.null){const i=this._getOrReturnCtx(e);return U(i,{code:R.invalid_type,expected:I.null,received:i.parsedType}),H}return Ct(e.data)}}Td.create=t=>new Td({typeName:z.ZodNull,...F(t)});class Sd extends K{constructor(){super(...arguments),this._any=!0}_parse(e){return Ct(e.data)}}Sd.create=t=>new Sd({typeName:z.ZodAny,...F(t)});class ru extends K{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ct(e.data)}}ru.create=t=>new ru({typeName:z.ZodUnknown,...F(t)});class qn extends K{_parse(e){const n=this._getOrReturnCtx(e);return U(n,{code:R.invalid_type,expected:I.never,received:n.parsedType}),H}}qn.create=t=>new qn({typeName:z.ZodNever,...F(t)});class Cd extends K{_parse(e){if(this._getType(e)!==I.undefined){const i=this._getOrReturnCtx(e);return U(i,{code:R.invalid_type,expected:I.void,received:i.parsedType}),H}return Ct(e.data)}}Cd.create=t=>new Cd({typeName:z.ZodVoid,...F(t)});class Lt extends K{_parse(e){const{ctx:n,status:i}=this._processInputParams(e),l=this._def;if(n.parsedType!==I.array)return U(n,{code:R.invalid_type,expected:I.array,received:n.parsedType}),H;if(l.exactLength!==null){const r=n.data.length>l.exactLength.value,u=n.data.length<l.exactLength.value;(r||u)&&(U(n,{code:r?R.too_big:R.too_small,minimum:u?l.exactLength.value:void 0,maximum:r?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),i.dirty())}if(l.minLength!==null&&n.data.length<l.minLength.value&&(U(n,{code:R.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),i.dirty()),l.maxLength!==null&&n.data.length>l.maxLength.value&&(U(n,{code:R.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),i.dirty()),n.common.async)return Promise.all([...n.data].map((r,u)=>l.type._parseAsync(new Vt(n,r,n.path,u)))).then(r=>Ze.mergeArray(i,r));const o=[...n.data].map((r,u)=>l.type._parseSync(new Vt(n,r,n.path,u)));return Ze.mergeArray(i,o)}get element(){return this._def.type}min(e,n){return new Lt({...this._def,minLength:{value:e,message:L.toString(n)}})}max(e,n){return new Lt({...this._def,maxLength:{value:e,message:L.toString(n)}})}length(e,n){return new Lt({...this._def,exactLength:{value:e,message:L.toString(n)}})}nonempty(e){return this.min(1,e)}}Lt.create=(t,e)=>new Lt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:z.ZodArray,...F(e)});function Ci(t){if(t instanceof Me){const e={};for(const n in t.shape){const i=t.shape[n];e[n]=In.create(Ci(i))}return new Me({...t._def,shape:()=>e})}else return t instanceof Lt?new Lt({...t._def,type:Ci(t.element)}):t instanceof In?In.create(Ci(t.unwrap())):t instanceof al?al.create(Ci(t.unwrap())):t instanceof oi?oi.create(t.items.map(e=>Ci(e))):t}class Me extends K{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=j.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==I.object){const f=this._getOrReturnCtx(e);return U(f,{code:R.invalid_type,expected:I.object,received:f.parsedType}),H}const{status:i,ctx:l}=this._processInputParams(e),{shape:o,keys:r}=this._getCached(),u=[];if(!(this._def.catchall instanceof qn&&this._def.unknownKeys==="strip"))for(const f in l.data)r.includes(f)||u.push(f);const c=[];for(const f of r){const d=o[f],m=l.data[f];c.push({key:{status:"valid",value:f},value:d._parse(new Vt(l,m,l.path,f)),alwaysSet:f in l.data})}if(this._def.catchall instanceof qn){const f=this._def.unknownKeys;if(f==="passthrough")for(const d of u)c.push({key:{status:"valid",value:d},value:{status:"valid",value:l.data[d]}});else if(f==="strict")u.length>0&&(U(l,{code:R.unrecognized_keys,keys:u}),i.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const d of u){const m=l.data[d];c.push({key:{status:"valid",value:d},value:f._parse(new Vt(l,m,l.path,d)),alwaysSet:d in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const f=[];for(const d of c){const m=await d.key,h=await d.value;f.push({key:m,value:h,alwaysSet:d.alwaysSet})}return f}).then(f=>Ze.mergeObjectSync(i,f)):Ze.mergeObjectSync(i,c)}get shape(){return this._def.shape()}strict(e){return L.errToObj,new Me({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,i)=>{var o,r;const l=((r=(o=this._def).errorMap)==null?void 0:r.call(o,n,i).message)??i.defaultError;return n.code==="unrecognized_keys"?{message:L.errToObj(e).message??l}:{message:l}}}:{}})}strip(){return new Me({...this._def,unknownKeys:"strip"})}passthrough(){return new Me({...this._def,unknownKeys:"passthrough"})}extend(e){return new Me({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Me({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:z.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Me({...this._def,catchall:e})}pick(e){const n={};for(const i of j.objectKeys(e))e[i]&&this.shape[i]&&(n[i]=this.shape[i]);return new Me({...this._def,shape:()=>n})}omit(e){const n={};for(const i of j.objectKeys(this.shape))e[i]||(n[i]=this.shape[i]);return new Me({...this._def,shape:()=>n})}deepPartial(){return Ci(this)}partial(e){const n={};for(const i of j.objectKeys(this.shape)){const l=this.shape[i];e&&!e[i]?n[i]=l:n[i]=l.optional()}return new Me({...this._def,shape:()=>n})}required(e){const n={};for(const i of j.objectKeys(this.shape))if(e&&!e[i])n[i]=this.shape[i];else{let o=this.shape[i];for(;o instanceof In;)o=o._def.innerType;n[i]=o}return new Me({...this._def,shape:()=>n})}keyof(){return Kg(j.objectKeys(this.shape))}}Me.create=(t,e)=>new Me({shape:()=>t,unknownKeys:"strip",catchall:qn.create(),typeName:z.ZodObject,...F(e)});Me.strictCreate=(t,e)=>new Me({shape:()=>t,unknownKeys:"strict",catchall:qn.create(),typeName:z.ZodObject,...F(e)});Me.lazycreate=(t,e)=>new Me({shape:t,unknownKeys:"strip",catchall:qn.create(),typeName:z.ZodObject,...F(e)});class $a extends K{_parse(e){const{ctx:n}=this._processInputParams(e),i=this._def.options;function l(o){for(const u of o)if(u.result.status==="valid")return u.result;for(const u of o)if(u.result.status==="dirty")return n.common.issues.push(...u.ctx.common.issues),u.result;const r=o.map(u=>new tn(u.ctx.common.issues));return U(n,{code:R.invalid_union,unionErrors:r}),H}if(n.common.async)return Promise.all(i.map(async o=>{const r={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:r}),ctx:r}})).then(l);{let o;const r=[];for(const c of i){const f={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:f});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:f}),f.common.issues.length&&r.push(f.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const u=r.map(c=>new tn(c));return U(n,{code:R.invalid_union,unionErrors:u}),H}}get options(){return this._def.options}}$a.create=(t,e)=>new $a({options:t,typeName:z.ZodUnion,...F(e)});function uu(t,e){const n=gn(t),i=gn(e);if(t===e)return{valid:!0,data:t};if(n===I.object&&i===I.object){const l=j.objectKeys(e),o=j.objectKeys(t).filter(u=>l.indexOf(u)!==-1),r={...t,...e};for(const u of o){const c=uu(t[u],e[u]);if(!c.valid)return{valid:!1};r[u]=c.data}return{valid:!0,data:r}}else if(n===I.array&&i===I.array){if(t.length!==e.length)return{valid:!1};const l=[];for(let o=0;o<t.length;o++){const r=t[o],u=e[o],c=uu(r,u);if(!c.valid)return{valid:!1};l.push(c.data)}return{valid:!0,data:l}}else return n===I.date&&i===I.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Xa extends K{_parse(e){const{status:n,ctx:i}=this._processInputParams(e),l=(o,r)=>{if(hd(o)||hd(r))return H;const u=uu(o.value,r.value);return u.valid?((pd(o)||pd(r))&&n.dirty(),{status:n.value,value:u.data}):(U(i,{code:R.invalid_intersection_types}),H)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([o,r])=>l(o,r)):l(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}Xa.create=(t,e,n)=>new Xa({left:t,right:e,typeName:z.ZodIntersection,...F(n)});class oi extends K{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==I.array)return U(i,{code:R.invalid_type,expected:I.array,received:i.parsedType}),H;if(i.data.length<this._def.items.length)return U(i,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),H;!this._def.rest&&i.data.length>this._def.items.length&&(U(i,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...i.data].map((r,u)=>{const c=this._def.items[u]||this._def.rest;return c?c._parse(new Vt(i,r,i.path,u)):null}).filter(r=>!!r);return i.common.async?Promise.all(o).then(r=>Ze.mergeArray(n,r)):Ze.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new oi({...this._def,rest:e})}}oi.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new oi({items:t,typeName:z.ZodTuple,rest:null,...F(e)})};class Ka extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==I.object)return U(i,{code:R.invalid_type,expected:I.object,received:i.parsedType}),H;const l=[],o=this._def.keyType,r=this._def.valueType;for(const u in i.data)l.push({key:o._parse(new Vt(i,u,i.path,u)),value:r._parse(new Vt(i,i.data[u],i.path,u)),alwaysSet:u in i.data});return i.common.async?Ze.mergeObjectAsync(n,l):Ze.mergeObjectSync(n,l)}get element(){return this._def.valueType}static create(e,n,i){return n instanceof K?new Ka({keyType:e,valueType:n,typeName:z.ZodRecord,...F(i)}):new Ka({keyType:Dt.create(),valueType:e,typeName:z.ZodRecord,...F(n)})}}class _d extends K{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==I.map)return U(i,{code:R.invalid_type,expected:I.map,received:i.parsedType}),H;const l=this._def.keyType,o=this._def.valueType,r=[...i.data.entries()].map(([u,c],f)=>({key:l._parse(new Vt(i,u,i.path,[f,"key"])),value:o._parse(new Vt(i,c,i.path,[f,"value"]))}));if(i.common.async){const u=new Map;return Promise.resolve().then(async()=>{for(const c of r){const f=await c.key,d=await c.value;if(f.status==="aborted"||d.status==="aborted")return H;(f.status==="dirty"||d.status==="dirty")&&n.dirty(),u.set(f.value,d.value)}return{status:n.value,value:u}})}else{const u=new Map;for(const c of r){const f=c.key,d=c.value;if(f.status==="aborted"||d.status==="aborted")return H;(f.status==="dirty"||d.status==="dirty")&&n.dirty(),u.set(f.value,d.value)}return{status:n.value,value:u}}}}_d.create=(t,e,n)=>new _d({valueType:e,keyType:t,typeName:z.ZodMap,...F(n)});class co extends K{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.parsedType!==I.set)return U(i,{code:R.invalid_type,expected:I.set,received:i.parsedType}),H;const l=this._def;l.minSize!==null&&i.data.size<l.minSize.value&&(U(i,{code:R.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),n.dirty()),l.maxSize!==null&&i.data.size>l.maxSize.value&&(U(i,{code:R.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),n.dirty());const o=this._def.valueType;function r(c){const f=new Set;for(const d of c){if(d.status==="aborted")return H;d.status==="dirty"&&n.dirty(),f.add(d.value)}return{status:n.value,value:f}}const u=[...i.data.values()].map((c,f)=>o._parse(new Vt(i,c,i.path,f)));return i.common.async?Promise.all(u).then(c=>r(c)):r(u)}min(e,n){return new co({...this._def,minSize:{value:e,message:L.toString(n)}})}max(e,n){return new co({...this._def,maxSize:{value:e,message:L.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}co.create=(t,e)=>new co({valueType:t,minSize:null,maxSize:null,typeName:z.ZodSet,...F(e)});class cu extends K{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}cu.create=(t,e)=>new cu({getter:t,typeName:z.ZodLazy,...F(e)});class xd extends K{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return U(n,{received:n.data,code:R.invalid_literal,expected:this._def.value}),H}return{status:"valid",value:e.data}}get value(){return this._def.value}}xd.create=(t,e)=>new xd({value:t,typeName:z.ZodLiteral,...F(e)});function Kg(t,e){return new ll({values:t,typeName:z.ZodEnum,...F(e)})}class ll extends K{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),i=this._def.values;return U(n,{expected:j.joinValues(i),received:n.parsedType,code:R.invalid_type}),H}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),i=this._def.values;return U(n,{received:n.data,code:R.invalid_enum_value,options:i}),H}return Ct(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return ll.create(e,{...this._def,...n})}exclude(e,n=this._def){return ll.create(this.options.filter(i=>!e.includes(i)),{...this._def,...n})}}ll.create=Kg;class Ed extends K{_parse(e){const n=j.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==I.string&&i.parsedType!==I.number){const l=j.objectValues(n);return U(i,{expected:j.joinValues(l),received:i.parsedType,code:R.invalid_type}),H}if(this._cache||(this._cache=new Set(j.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const l=j.objectValues(n);return U(i,{received:i.data,code:R.invalid_enum_value,options:l}),H}return Ct(e.data)}get enum(){return this._def.values}}Ed.create=(t,e)=>new Ed({values:t,typeName:z.ZodNativeEnum,...F(e)});class Qa extends K{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==I.promise&&n.common.async===!1)return U(n,{code:R.invalid_type,expected:I.promise,received:n.parsedType}),H;const i=n.parsedType===I.promise?n.data:Promise.resolve(n.data);return Ct(i.then(l=>this._def.type.parseAsync(l,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Qa.create=(t,e)=>new Qa({type:t,typeName:z.ZodPromise,...F(e)});class ol extends K{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===z.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:i}=this._processInputParams(e),l=this._def.effect||null,o={addIssue:r=>{U(i,r),r.fatal?n.abort():n.dirty()},get path(){return i.path}};if(o.addIssue=o.addIssue.bind(o),l.type==="preprocess"){const r=l.transform(i.data,o);if(i.common.async)return Promise.resolve(r).then(async u=>{if(n.value==="aborted")return H;const c=await this._def.schema._parseAsync({data:u,path:i.path,parent:i});return c.status==="aborted"?H:c.status==="dirty"||n.value==="dirty"?kl(c.value):c});{if(n.value==="aborted")return H;const u=this._def.schema._parseSync({data:r,path:i.path,parent:i});return u.status==="aborted"?H:u.status==="dirty"||n.value==="dirty"?kl(u.value):u}}if(l.type==="refinement"){const r=u=>{const c=l.refinement(u,o);if(i.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return u};if(i.common.async===!1){const u=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return u.status==="aborted"?H:(u.status==="dirty"&&n.dirty(),r(u.value),{status:n.value,value:u.value})}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(u=>u.status==="aborted"?H:(u.status==="dirty"&&n.dirty(),r(u.value).then(()=>({status:n.value,value:u.value}))))}if(l.type==="transform")if(i.common.async===!1){const r=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!nl(r))return H;const u=l.transform(r.value,o);if(u instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:u}}else return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(r=>nl(r)?Promise.resolve(l.transform(r.value,o)).then(u=>({status:n.value,value:u})):H);j.assertNever(l)}}ol.create=(t,e,n)=>new ol({schema:t,typeName:z.ZodEffects,effect:e,...F(n)});ol.createWithPreprocess=(t,e,n)=>new ol({schema:e,effect:{type:"preprocess",transform:t},typeName:z.ZodEffects,...F(n)});class In extends K{_parse(e){return this._getType(e)===I.undefined?Ct(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}In.create=(t,e)=>new In({innerType:t,typeName:z.ZodOptional,...F(e)});class al extends K{_parse(e){return this._getType(e)===I.null?Ct(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}al.create=(t,e)=>new al({innerType:t,typeName:z.ZodNullable,...F(e)});class fu extends K{_parse(e){const{ctx:n}=this._processInputParams(e);let i=n.data;return n.parsedType===I.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}fu.create=(t,e)=>new fu({innerType:t,typeName:z.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...F(e)});class du extends K{_parse(e){const{ctx:n}=this._processInputParams(e),i={...n,common:{...n.common,issues:[]}},l=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return Ja(l)?l.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new tn(i.common.issues)},input:i.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new tn(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}du.create=(t,e)=>new du({innerType:t,typeName:z.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...F(e)});class Ad extends K{_parse(e){if(this._getType(e)!==I.nan){const i=this._getOrReturnCtx(e);return U(i,{code:R.invalid_type,expected:I.nan,received:i.parsedType}),H}return{status:"valid",value:e.data}}}Ad.create=t=>new Ad({typeName:z.ZodNaN,...F(t)});class _S extends K{_parse(e){const{ctx:n}=this._processInputParams(e),i=n.data;return this._def.type._parse({data:i,path:n.path,parent:n})}unwrap(){return this._def.type}}class Ec extends K{_parse(e){const{status:n,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return o.status==="aborted"?H:o.status==="dirty"?(n.dirty(),kl(o.value)):this._def.out._parseAsync({data:o.value,path:i.path,parent:i})})();{const l=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return l.status==="aborted"?H:l.status==="dirty"?(n.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:i.path,parent:i})}}static create(e,n){return new Ec({in:e,out:n,typeName:z.ZodPipeline})}}class mu extends K{_parse(e){const n=this._def.innerType._parse(e),i=l=>(nl(l)&&(l.value=Object.freeze(l.value)),l);return Ja(n)?n.then(l=>i(l)):i(n)}unwrap(){return this._def.innerType}}mu.create=(t,e)=>new mu({innerType:t,typeName:z.ZodReadonly,...F(e)});var z;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(z||(z={}));const Hn=Dt.create,Md=ii.create;li.create;const xS=Za.create;il.create;const Nd=ru.create;qn.create;const Ul=Lt.create,ES=Me.create,AS=$a.create;Xa.create;oi.create;const MS=Ka.create,NS=cu.create,RS=ll.create;Qa.create;In.create;al.create;const gi={string:t=>Dt.create({...t,coerce:!0}),number:t=>ii.create({...t,coerce:!0}),boolean:t=>Za.create({...t,coerce:!0}),bigint:t=>li.create({...t,coerce:!0}),date:t=>il.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bS,DS;function wS(){return{geminiUrl:bS,vertexUrl:DS}}function kS(t,e,n){var i,l,o;if(!(!((i=t.httpOptions)===null||i===void 0)&&i.baseUrl)){const r=wS();return t.vertexai?(l=r.vertexUrl)!==null&&l!==void 0?l:e:(o=r.geminiUrl)!==null&&o!==void 0?o:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class fi{}function V(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(i,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const o=e[l];return o!=null?String(o):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function s(t,e,n){for(let o=0;o<e.length-1;o++){const r=e[o];if(r.endsWith("[]")){const u=r.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${r}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let f=0;f<c.length;f++){const d=c[f];s(d,e.slice(o+1),n[f])}else for(const f of c)s(f,e.slice(o+1),n)}return}else if(r.endsWith("[0]")){const u=r.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];s(c[0],e.slice(o+1),n);return}(!t[r]||typeof t[r]!="object")&&(t[r]={}),t=t[r]}const i=e[e.length-1],l=t[i];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else t[i]=n}function a(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const i=e[n];if(i.endsWith("[]")){const l=i.slice(0,-2);if(l in t){const o=t[l];return Array.isArray(o)?o.map(r=>a(r,e.slice(n+1))):void 0}else return}else t=t[i]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Rd;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Rd||(Rd={}));var bd;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(bd||(bd={}));var wt;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(wt||(wt={}));var Dd;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Dd||(Dd={}));var wd;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(wd||(wd={}));var kd;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(kd||(kd={}));var Ud;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ud||(Ud={}));var Id;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Id||(Id={}));var Ld;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ld||(Ld={}));var Vd;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Vd||(Vd={}));var Pd;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(Pd||(Pd={}));var qd;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(qd||(qd={}));var Gd;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Gd||(Gd={}));var Bd;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Bd||(Bd={}));var zd;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY"})(zd||(zd={}));var Hd;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Hd||(Hd={}));var Wa;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Wa||(Wa={}));var Od;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Od||(Od={}));var hu;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(hu||(hu={}));var Fd;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Fd||(Fd={}));var Yd;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Yd||(Yd={}));var Jd;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Jd||(Jd={}));var Zd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Zd||(Zd={}));var $d;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})($d||($d={}));var Xd;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Xd||(Xd={}));var Kd;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Kd||(Kd={}));var Qd;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(Qd||(Qd={}));var Wd;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Wd||(Wd={}));var jd;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(jd||(jd={}));var em;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(em||(em={}));var tm;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(tm||(tm={}));var nm;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(nm||(nm={}));var im;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(im||(im={}));var lm;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(lm||(lm={}));var om;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(om||(om={}));var am;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(am||(am={}));var sm;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(sm||(sm={}));var rm;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(rm||(rm={}));var um;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(um||(um={}));var cm;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(cm||(cm={}));var fm;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(fm||(fm={}));var Ii;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Ii||(Ii={}));class pu{constructor(e){const n={};for(const i of e.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Nl{get text(){var e,n,i,l,o,r,u,c;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",d=!1;const m=[];for(const h of(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[g,S]of Object.entries(h))g!=="text"&&g!=="thought"&&(S!==null||S!==void 0)&&m.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,f+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?f:void 0}get data(){var e,n,i,l,o,r,u,c;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const d=[];for(const m of(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[h,g]of Object.entries(m))h!=="inlineData"&&(g!==null||g!==void 0)&&d.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,i,l,o,r,u,c;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(d=>d.functionCall).map(d=>d.functionCall).filter(d=>d!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,i,l,o,r,u,c,f;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const d=(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,i,l,o,r,u,c,f;if(((l=(i=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const d=(c=(u=(r=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((d==null?void 0:d.length)!==0)return(f=d==null?void 0:d[0])===null||f===void 0?void 0:f.output}}class dm{}class mm{}class US{}class IS{}class hm{}class pm{}class gm{}class LS{}class ym{}class vm{}class Tm{}class VS{}class PS{}class qS{}class Sm{}class GS{get text(){var e,n,i;let l="",o=!1;const r=[];for(const u of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[c,f]of Object.entries(u))c!=="text"&&c!=="thought"&&f!==null&&r.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,l+=u.text}}return r.length>0&&console.warn(`there are non-text parts ${r} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?l:void 0}get data(){var e,n,i;let l="";const o=[];for(const r of(i=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[u,c]of Object.entries(r))u!=="inlineData"&&c!==null&&o.push(u);r.inlineData&&typeof r.inlineData.data=="string"&&(l+=atob(r.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class BS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ae(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Qg(t,e){const n=ae(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function Wg(t){return Array.isArray(t)?t.map(e=>ja(e)):[ja(t)]}function ja(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function jg(t){const e=ja(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ey(t){const e=ja(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Cm(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function ty(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Cm(e)):[Cm(t)]}function gu(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function _m(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function xm(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Oe(t){if(t==null)throw new Error("ContentUnion is required");return gu(t)?t:{role:"user",parts:ty(t)}}function ny(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const i=Oe(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const n=Oe(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Oe(n)):[Oe(e)]}function vt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(_m(t)||xm(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Oe(t)]}const e=[],n=[],i=gu(t[0]);for(const l of t){const o=gu(l);if(o!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(l);else{if(_m(l)||xm(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(l)}}return i||e.push({role:"user",parts:ty(n)}),e}const zS=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Em=RS(["string","number","integer","object","array","boolean","null"]),HS=AS([Em,Ul(Em)]);function OS(t=!0){const e=NS(()=>{const n=ES({type:HS.optional(),format:Hn().optional(),title:Hn().optional(),description:Hn().optional(),default:Nd().optional(),items:e.optional(),minItems:gi.string().optional(),maxItems:gi.string().optional(),enum:Ul(Nd()).optional(),properties:MS(Hn(),e).optional(),required:Ul(Hn()).optional(),minProperties:gi.string().optional(),maxProperties:gi.string().optional(),propertyOrdering:Ul(Hn()).optional(),minimum:Md().optional(),maximum:Md().optional(),minLength:gi.string().optional(),maxLength:gi.string().optional(),pattern:Hn().optional(),anyOf:Ul(e).optional(),additionalProperties:xS().optional()});return t?n.strict():n});return e}function FS(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(i=>i!=="null");if(n.length===1)e.type=Object.values(wt).includes(n[0].toUpperCase())?n[0].toUpperCase():wt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of n)e.anyOf.push({type:Object.values(wt).includes(i.toUpperCase())?i.toUpperCase():wt.TYPE_UNSPECIFIED})}}function Oi(t){const e={},n=["items"],i=["anyOf"],l=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&FS(t.type,e);for(const[r,u]of Object.entries(t))if(u!=null)if(r=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(wt).includes(u.toUpperCase())?u.toUpperCase():wt.TYPE_UNSPECIFIED}else if(n.includes(r))e[r]=Oi(u);else if(i.includes(r)){const c=[];for(const f of u){if(f.type=="null"){e.nullable=!0;continue}c.push(Oi(f))}e[r]=c}else if(l.includes(r)){const c={};for(const[f,d]of Object.entries(u))c[f]=Oi(d);e[r]=c}else{if(r==="additionalProperties")continue;e[r]=u}return e}function fo(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=OS().parse(t);return Oi(e)}else return Oi(t)}function Ac(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Mc(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function hl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=fo(e.parameters)),e.response&&(e.response=fo(e.response));return t}function pl(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function YS(t,e,n,i=1){const l=!e.startsWith(`${n}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:l?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:l?`${n}/${e}`:e}function ln(t,e){if(typeof e!="string")throw new Error("name must be a string");return YS(t,e,"cachedContents")}function iy(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function on(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function JS(t){return t!=null&&typeof t=="object"&&"name"in t}function ZS(t){return t!=null&&typeof t=="object"&&"video"in t}function $S(t){return t!=null&&typeof t=="object"&&"uri"in t}function ly(t){var e;let n;if(JS(t)&&(n=t.name),!($S(t)&&(n=t.uri,n===void 0))&&!(ZS(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const l=n.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${n}`);n=l[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function oy(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function ay(t){for(const e of["models","tunedModels","publisherModels"])if(XS(t,e))return t[e];return[]}function XS(t,e){return t!==null&&typeof t=="object"&&e in t}function KS(t,e={}){const n=t,i={name:n.name,description:n.description,parameters:Oi(vs(n.inputSchema))};return e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function QS(t,e={}){const n=[],i=new Set;for(const l of t){const o=l.name;if(i.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);i.add(o);const r=KS(l,e);r.functionDeclarations&&n.push(...r.functionDeclarations)}return{functionDeclarations:n}}function WS(t){const e=[];for(const n of t)e.push(vs(n));return e}function jS(t){const e={};for(const[n,i]of Object.entries(t)){const l=i;e[n]=vs(l)}return e}function vs(t){const e=new Set(["items"]),n=new Set(["anyOf"]),i=new Set(["properties"]),l={};for(const[o,r]of Object.entries(t))if(e.has(o))l[o]=vs(r);else if(n.has(o))l[o]=WS(r);else if(i.has(o))l[o]=jS(r);else if(o==="type"){const u=r.toUpperCase();l[o]=Object.values(wt).includes(u)?u:wt.TYPE_UNSPECIFIED}else zS.has(o)&&(l[o]=r);return l}function sy(t,e){if(typeof e!="string"&&!Array.isArray(e)){if(t&&t.isVertexAI()){if(e.gcsUri&&e.bigqueryUri)throw new Error("Only one of `gcsUri` or `bigqueryUri` can be set.");if(!e.gcsUri&&!e.bigqueryUri)throw new Error("One of `gcsUri` or `bigqueryUri` must be set.")}else{if(e.inlinedRequests&&e.fileName)throw new Error("Only one of `inlinedRequests` or `fileName` can be set.");if(!e.inlinedRequests&&!e.fileName)throw new Error("One of `inlinedRequests` or `fileName` must be set.")}return e}else{if(Array.isArray(e))return{inlinedRequests:e};if(typeof e=="string"){if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:[e]};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};if(e.startsWith("files/"))return{fileName:e}}}throw new Error(`Unsupported source: ${e}`)}function eC(t){const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function gl(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function ry(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tC(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function nC(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function iC(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function lC(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],tC(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],nC(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],iC(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function uy(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>lC(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function oC(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&s(e,["default"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["enum"]);o!=null&&s(e,["enum"],o);const r=a(t,["example"]);r!=null&&s(e,["example"],r);const u=a(t,["format"]);u!=null&&s(e,["format"],u);const c=a(t,["items"]);c!=null&&s(e,["items"],c);const f=a(t,["maxItems"]);f!=null&&s(e,["maxItems"],f);const d=a(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=a(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const h=a(t,["maximum"]);h!=null&&s(e,["maximum"],h);const g=a(t,["minItems"]);g!=null&&s(e,["minItems"],g);const S=a(t,["minLength"]);S!=null&&s(e,["minLength"],S);const _=a(t,["minProperties"]);_!=null&&s(e,["minProperties"],_);const M=a(t,["minimum"]);M!=null&&s(e,["minimum"],M);const v=a(t,["nullable"]);v!=null&&s(e,["nullable"],v);const y=a(t,["pattern"]);y!=null&&s(e,["pattern"],y);const T=a(t,["properties"]);T!=null&&s(e,["properties"],T);const C=a(t,["propertyOrdering"]);C!=null&&s(e,["propertyOrdering"],C);const x=a(t,["required"]);x!=null&&s(e,["required"],x);const D=a(t,["title"]);D!=null&&s(e,["title"],D);const N=a(t,["type"]);return N!=null&&s(e,["type"],N),e}function aC(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&s(e,["category"],n);const i=a(t,["threshold"]);return i!=null&&s(e,["threshold"],i),e}function sC(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function rC(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function uC(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],rC(n)),e}function cC(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function fC(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],cC(n)),e}function dC(){return{}}function mC(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>sC(f))),s(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],uC(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],fC(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],dC());const r=a(t,["codeExecution"]);r!=null&&s(e,["codeExecution"],r);const u=a(t,["computerUse"]);return u!=null&&s(e,["computerUse"],u),e}function hC(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function pC(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function gC(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],pC(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function yC(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],hC(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],gC(i)),e}function vC(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function cy(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],vC(n)),e}function TC(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],cy(i)),e}function SC(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>TC(l))),s(e,["speakerVoiceConfigs"],i)}return e}function CC(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],cy(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],SC(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function _C(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function xC(t,e,n){const i={},l=a(e,["systemInstruction"]);n!==void 0&&l!=null&&s(n,["systemInstruction"],uy(Oe(l)));const o=a(e,["temperature"]);o!=null&&s(i,["temperature"],o);const r=a(e,["topP"]);r!=null&&s(i,["topP"],r);const u=a(e,["topK"]);u!=null&&s(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&s(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&s(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const h=a(e,["logprobs"]);h!=null&&s(i,["logprobs"],h);const g=a(e,["presencePenalty"]);g!=null&&s(i,["presencePenalty"],g);const S=a(e,["frequencyPenalty"]);S!=null&&s(i,["frequencyPenalty"],S);const _=a(e,["seed"]);_!=null&&s(i,["seed"],_);const M=a(e,["responseMimeType"]);M!=null&&s(i,["responseMimeType"],M);const v=a(e,["responseSchema"]);v!=null&&s(i,["responseSchema"],oC(fo(v)));const y=a(e,["responseJsonSchema"]);if(y!=null&&s(i,["responseJsonSchema"],y),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let P=T;Array.isArray(P)&&(P=P.map(se=>aC(se))),s(n,["safetySettings"],P)}const C=a(e,["tools"]);if(n!==void 0&&C!=null){let P=pl(C);Array.isArray(P)&&(P=P.map(se=>mC(hl(se)))),s(n,["tools"],P)}const x=a(e,["toolConfig"]);if(n!==void 0&&x!=null&&s(n,["toolConfig"],yC(x)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=a(e,["cachedContent"]);n!==void 0&&D!=null&&s(n,["cachedContent"],ln(t,D));const N=a(e,["responseModalities"]);N!=null&&s(i,["responseModalities"],N);const E=a(e,["mediaResolution"]);E!=null&&s(i,["mediaResolution"],E);const b=a(e,["speechConfig"]);if(b!=null&&s(i,["speechConfig"],CC(Ac(b))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=a(e,["thinkingConfig"]);return k!=null&&s(i,["thinkingConfig"],_C(k)),i}function EC(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["request","model"],ae(t,i));const l=a(e,["contents"]);if(l!=null){let r=vt(l);Array.isArray(r)&&(r=r.map(u=>uy(u))),s(n,["request","contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["request","generationConfig"],xC(t,o,n)),n}function AC(t,e){const n={};if(a(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(a(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=a(e,["fileName"]);i!=null&&s(n,["fileName"],i);const l=a(e,["inlinedRequests"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>EC(t,r))),s(n,["requests","requests"],o)}return n}function MC(t,e){const n={},i=a(t,["displayName"]);if(e!==void 0&&i!=null&&s(e,["batch","displayName"],i),a(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function NC(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["src"]);l!=null&&s(n,["batch","inputConfig"],AC(t,sy(t,l)));const o=a(e,["config"]);return o!=null&&s(n,["config"],MC(o,n)),n}function RC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],gl(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function bC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],gl(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function DC(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);if(e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),a(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function wC(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],DC(n,e)),e}function kC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],gl(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function UC(t){const e={},n=a(t,["format"]);n!=null&&s(e,["instancesFormat"],n);const i=a(t,["gcsUri"]);i!=null&&s(e,["gcsSource","uris"],i);const l=a(t,["bigqueryUri"]);if(l!=null&&s(e,["bigquerySource","inputUri"],l),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function IC(t){const e={},n=a(t,["format"]);n!=null&&s(e,["predictionsFormat"],n);const i=a(t,["gcsUri"]);i!=null&&s(e,["gcsDestination","outputUriPrefix"],i);const l=a(t,["bigqueryUri"]);if(l!=null&&s(e,["bigqueryDestination","outputUri"],l),a(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(a(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");return e}function LC(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const l=a(t,["dest"]);return e!==void 0&&l!=null&&s(e,["outputConfig"],IC(eC(l))),n}function VC(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["model"],ae(t,i));const l=a(e,["src"]);l!=null&&s(n,["inputConfig"],UC(sy(t,l)));const o=a(e,["config"]);return o!=null&&s(n,["config"],LC(o,n)),n}function PC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],gl(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function qC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],gl(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function GC(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const o=a(t,["filter"]);return e!==void 0&&o!=null&&s(e,["_query","filter"],o),n}function BC(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],GC(n,e)),e}function zC(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],gl(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function fy(){return{}}function HC(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function OC(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function FC(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function YC(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],HC(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],OC(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],FC(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function JC(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>YC(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function ZC(t){const e={},n=a(t,["citationSources"]);return n!=null&&s(e,["citations"],n),e}function $C(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function XC(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>$C(l))),s(e,["urlMetadata"],i)}return e}function KC(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],JC(n));const i=a(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],ZC(i));const l=a(t,["tokenCount"]);l!=null&&s(e,["tokenCount"],l);const o=a(t,["finishReason"]);o!=null&&s(e,["finishReason"],o);const r=a(t,["urlContextMetadata"]);r!=null&&s(e,["urlContextMetadata"],XC(r));const u=a(t,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);const c=a(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const f=a(t,["index"]);f!=null&&s(e,["index"],f);const d=a(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=a(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function QC(t){const e={},n=a(t,["candidates"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>KC(u))),s(e,["candidates"],r)}const i=a(t,["modelVersion"]);i!=null&&s(e,["modelVersion"],i);const l=a(t,["promptFeedback"]);l!=null&&s(e,["promptFeedback"],l);const o=a(t,["usageMetadata"]);return o!=null&&s(e,["usageMetadata"],o),e}function WC(t){const e={},n=a(t,["response"]);return n!=null&&s(e,["response"],QC(n)),a(t,["error"])!=null&&s(e,["error"],fy()),e}function jC(t){const e={},n=a(t,["responsesFile"]);n!=null&&s(e,["fileName"],n);const i=a(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>WC(o))),s(e,["inlinedResponses"],l)}return e}function yu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata","displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["metadata","state"]);l!=null&&s(e,["state"],ry(l));const o=a(t,["metadata","createTime"]);o!=null&&s(e,["createTime"],o);const r=a(t,["metadata","endTime"]);r!=null&&s(e,["endTime"],r);const u=a(t,["metadata","updateTime"]);u!=null&&s(e,["updateTime"],u);const c=a(t,["metadata","model"]);c!=null&&s(e,["model"],c);const f=a(t,["metadata","output"]);return f!=null&&s(e,["dest"],jC(f)),e}function e_(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["operations"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>yu(o))),s(e,["batchJobs"],l)}return e}function t_(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["done"]);return i!=null&&s(e,["done"],i),a(t,["error"])!=null&&s(e,["error"],fy()),e}function dy(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["code"]);i!=null&&s(e,["code"],i);const l=a(t,["message"]);return l!=null&&s(e,["message"],l),e}function n_(t){const e={},n=a(t,["instancesFormat"]);n!=null&&s(e,["format"],n);const i=a(t,["gcsSource","uris"]);i!=null&&s(e,["gcsUri"],i);const l=a(t,["bigquerySource","inputUri"]);return l!=null&&s(e,["bigqueryUri"],l),e}function i_(t){const e={},n=a(t,["predictionsFormat"]);n!=null&&s(e,["format"],n);const i=a(t,["gcsDestination","outputUriPrefix"]);i!=null&&s(e,["gcsUri"],i);const l=a(t,["bigqueryDestination","outputUri"]);return l!=null&&s(e,["bigqueryUri"],l),e}function vu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["state"]);l!=null&&s(e,["state"],ry(l));const o=a(t,["error"]);o!=null&&s(e,["error"],dy(o));const r=a(t,["createTime"]);r!=null&&s(e,["createTime"],r);const u=a(t,["startTime"]);u!=null&&s(e,["startTime"],u);const c=a(t,["endTime"]);c!=null&&s(e,["endTime"],c);const f=a(t,["updateTime"]);f!=null&&s(e,["updateTime"],f);const d=a(t,["model"]);d!=null&&s(e,["model"],d);const m=a(t,["inputConfig"]);m!=null&&s(e,["src"],n_(m));const h=a(t,["outputConfig"]);return h!=null&&s(e,["dest"],i_(h)),e}function l_(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["batchPredictionJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>vu(o))),s(e,["batchJobs"],l)}return e}function o_(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["done"]);i!=null&&s(e,["done"],i);const l=a(t,["error"]);return l!=null&&s(e,["error"],dy(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ai;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ai||(ai={}));class bo{constructor(e,n,i,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,i,l)}init(e,n,i){var l,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let r={config:{}};i?typeof i=="object"?r=Object.assign({},i):r=i:r={config:{}},r.config&&(r.config.pageToken=n.nextPageToken),this.paramsInternal=r,this.pageInternalSize=(o=(l=r.config)===null||l===void 0?void 0:l.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a_ extends fi{constructor(e){super(),this.apiClient=e,this.create=async n=>{if(this.apiClient.isVertexAI()){const l=Date.now().toString();if(Array.isArray(n.src))throw new Error("InlinedRequest[] is not supported in Vertex AI. Please use Google Cloud Storage URI or BigQuery URI instead.");if(n.config=n.config||{},n.config.displayName===void 0&&(n.config.displayName="genaiBatchJob_${timestampStr}"),n.config.dest===void 0&&typeof n.src=="string")if(n.src.startsWith("gs://")&&n.src.endsWith(".jsonl"))n.config.dest=`${n.src.slice(0,-6)}/dest`;else if(n.src.startsWith("bq://"))n.config.dest=`${n.src}_dest_${l}`;else throw new Error("Unsupported source:"+n.src)}return await this.createInternal(n)},this.list=async(n={})=>new bo(ai.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n)}async createInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=VC(this.apiClient,e);return u=V("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>vu(d))}else{const f=NC(this.apiClient,e);return u=V("{model}:batchGenerateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>yu(d))}}async get(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=PC(this.apiClient,e);return u=V("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>vu(d))}else{const f=RC(this.apiClient,e);return u=V("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>yu(d))}}async cancel(e){var n,i,l,o;let r="",u={};if(this.apiClient.isVertexAI()){const c=qC(this.apiClient,e);r=V("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const c=bC(this.apiClient,e);r=V("batches/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=BC(e);return u=V("batchPredictionJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=l_(d),h=new Sm;return Object.assign(h,m),h})}else{const f=wC(e);return u=V("batches",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=e_(d),h=new Sm;return Object.assign(h,m),h})}}async delete(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=zC(this.apiClient,e);return u=V("batchPredictionJobs/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>o_(d))}else{const f=kC(this.apiClient,e);return u=V("batches/{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>t_(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s_(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function r_(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function u_(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function c_(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],s_(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],r_(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],u_(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function Am(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>c_(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function f_(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function d_(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function m_(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],d_(n)),e}function h_(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function p_(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],h_(n)),e}function g_(){return{}}function y_(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>f_(f))),s(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],m_(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],p_(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],g_());const r=a(t,["codeExecution"]);r!=null&&s(e,["codeExecution"],r);const u=a(t,["computerUse"]);return u!=null&&s(e,["computerUse"],u),e}function v_(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function T_(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function S_(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],T_(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function C_(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],v_(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],S_(i)),e}function __(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);e!==void 0&&l!=null&&s(e,["expireTime"],l);const o=a(t,["displayName"]);e!==void 0&&o!=null&&s(e,["displayName"],o);const r=a(t,["contents"]);if(e!==void 0&&r!=null){let d=vt(r);Array.isArray(d)&&(d=d.map(m=>Am(m))),s(e,["contents"],d)}const u=a(t,["systemInstruction"]);e!==void 0&&u!=null&&s(e,["systemInstruction"],Am(Oe(u)));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let d=c;Array.isArray(d)&&(d=d.map(m=>y_(m))),s(e,["tools"],d)}const f=a(t,["toolConfig"]);if(e!==void 0&&f!=null&&s(e,["toolConfig"],C_(f)),a(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function x_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["model"],Qg(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],__(l,n)),n}function E_(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],ln(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function A_(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],ln(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function M_(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);return e!==void 0&&l!=null&&s(e,["expireTime"],l),n}function N_(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],ln(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],M_(l,n)),n}function R_(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),n}function b_(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],R_(n,e)),e}function D_(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function w_(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function k_(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function U_(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],D_(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],w_(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],k_(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function Mm(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>U_(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function I_(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const o=a(t,["parametersJsonSchema"]);o!=null&&s(e,["parametersJsonSchema"],o);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const u=a(t,["responseJsonSchema"]);return u!=null&&s(e,["responseJsonSchema"],u),e}function L_(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function V_(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],L_(n)),e}function P_(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function q_(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],P_(n)),e}function G_(){return{}}function B_(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function z_(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],B_(n));const i=a(t,["authType"]);i!=null&&s(e,["authType"],i);const l=a(t,["googleServiceAccountConfig"]);l!=null&&s(e,["googleServiceAccountConfig"],l);const o=a(t,["httpBasicAuthConfig"]);o!=null&&s(e,["httpBasicAuthConfig"],o);const r=a(t,["oauthConfig"]);r!=null&&s(e,["oauthConfig"],r);const u=a(t,["oidcConfig"]);return u!=null&&s(e,["oidcConfig"],u),e}function H_(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],z_(n)),e}function O_(){return{}}function F_(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(h=>I_(h))),s(e,["functionDeclarations"],m)}const i=a(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const l=a(t,["googleSearch"]);l!=null&&s(e,["googleSearch"],V_(l));const o=a(t,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],q_(o)),a(t,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],G_());const u=a(t,["googleMaps"]);u!=null&&s(e,["googleMaps"],H_(u)),a(t,["urlContext"])!=null&&s(e,["urlContext"],O_());const f=a(t,["codeExecution"]);f!=null&&s(e,["codeExecution"],f);const d=a(t,["computerUse"]);return d!=null&&s(e,["computerUse"],d),e}function Y_(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function J_(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function Z_(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],J_(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function $_(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],Y_(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],Z_(i)),e}function X_(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);e!==void 0&&l!=null&&s(e,["expireTime"],l);const o=a(t,["displayName"]);e!==void 0&&o!=null&&s(e,["displayName"],o);const r=a(t,["contents"]);if(e!==void 0&&r!=null){let m=vt(r);Array.isArray(m)&&(m=m.map(h=>Mm(h))),s(e,["contents"],m)}const u=a(t,["systemInstruction"]);e!==void 0&&u!=null&&s(e,["systemInstruction"],Mm(Oe(u)));const c=a(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(h=>F_(h))),s(e,["tools"],m)}const f=a(t,["toolConfig"]);e!==void 0&&f!=null&&s(e,["toolConfig"],$_(f));const d=a(t,["kmsKeyName"]);return e!==void 0&&d!=null&&s(e,["encryption_spec","kmsKeyName"],d),n}function K_(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["model"],Qg(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],X_(l,n)),n}function Q_(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],ln(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function W_(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],ln(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function j_(t,e){const n={},i=a(t,["ttl"]);e!==void 0&&i!=null&&s(e,["ttl"],i);const l=a(t,["expireTime"]);return e!==void 0&&l!=null&&s(e,["expireTime"],l),n}function ex(t,e){const n={},i=a(e,["name"]);i!=null&&s(n,["_url","name"],ln(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],j_(l,n)),n}function tx(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),n}function nx(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],tx(n,e)),e}function da(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["model"]);l!=null&&s(e,["model"],l);const o=a(t,["createTime"]);o!=null&&s(e,["createTime"],o);const r=a(t,["updateTime"]);r!=null&&s(e,["updateTime"],r);const u=a(t,["expireTime"]);u!=null&&s(e,["expireTime"],u);const c=a(t,["usageMetadata"]);return c!=null&&s(e,["usageMetadata"],c),e}function ix(){return{}}function lx(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["cachedContents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>da(o))),s(e,["cachedContents"],l)}return e}function ma(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["model"]);l!=null&&s(e,["model"],l);const o=a(t,["createTime"]);o!=null&&s(e,["createTime"],o);const r=a(t,["updateTime"]);r!=null&&s(e,["updateTime"],r);const u=a(t,["expireTime"]);u!=null&&s(e,["expireTime"],u);const c=a(t,["usageMetadata"]);return c!=null&&s(e,["usageMetadata"],c),e}function ox(){return{}}function ax(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["cachedContents"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>ma(o))),s(e,["cachedContents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sx extends fi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bo(ai.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=K_(this.apiClient,e);return u=V("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>ma(d))}else{const f=x_(this.apiClient,e);return u=V("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>da(d))}}async get(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Q_(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>ma(d))}else{const f=E_(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>da(d))}}async delete(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=W_(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(()=>{const d=ox(),m=new vm;return Object.assign(m,d),m})}else{const f=A_(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(()=>{const d=ix(),m=new vm;return Object.assign(m,d),m})}}async update(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=ex(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>ma(d))}else{const f=N_(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>da(d))}}async listInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=nx(e);return u=V("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=ax(d),h=new Tm;return Object.assign(h,m),h})}else{const f=b_(e);return u=V("cachedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=lx(d),h=new Tm;return Object.assign(h,m),h})}}}function Nm(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function pe(t){return this instanceof pe?(this.v=t,this):new pe(t)}function Fi(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",r),l[Symbol.asyncIterator]=function(){return this},l;function r(g){return function(S){return Promise.resolve(S).then(g,m)}}function u(g,S){i[g]&&(l[g]=function(_){return new Promise(function(M,v){o.push([g,_,M,v])>1||c(g,_)})},S&&(l[g]=S(l[g])))}function c(g,S){try{f(i[g](S))}catch(_){h(o[0][3],_)}}function f(g){g.value instanceof pe?Promise.resolve(g.value.v).then(d,m):h(o[0][2],g)}function d(g){c("next",g)}function m(g){c("throw",g)}function h(g,S){g(S),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Xl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Nm=="function"?Nm(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(o){n[o]=t[o]&&function(r){return new Promise(function(u,c){r=t[o](r),l(u,c,r.done,r.value)})}}function l(o,r,u,c){Promise.resolve(c).then(function(f){o({value:f,done:u})},r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rx(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:my(n)}function my(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function ux(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Rm(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let i=0;for(;i<n;)if(t[i].role==="user")e.push(t[i]),i++;else{const l=[];let o=!0;for(;i<n&&t[i].role==="model";)l.push(t[i]),o&&!my(t[i])&&(o=!1),i++;o?e.push(...l):e.pop()}return e}class cx{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new fx(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class fx{constructor(e,n,i,l={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=i,this.config=l,this.history=o,this.sendPromise=Promise.resolve(),ux(o)}async sendMessage(e){var n;await this.sendPromise;const i=Oe(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,r,u;const c=await l,f=(r=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content,d=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let h=[];d!=null&&(h=(u=d.slice(m))!==null&&u!==void 0?u:[]);const g=f?[f]:[];this.recordHistory(i,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var n;await this.sendPromise;const i=Oe(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const o=await l;return this.processStreamResponse(o,i)}getHistory(e=!1){const n=e?Rm(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var i,l;return Fi(this,arguments,function*(){var r,u,c,f;const d=[];try{for(var m=!0,h=Xl(e),g;g=yield pe(h.next()),r=g.done,!r;m=!0){f=g.value,m=!1;const S=f;if(rx(S)){const _=(l=(i=S.candidates)===null||i===void 0?void 0:i[0])===null||l===void 0?void 0:l.content;_!==void 0&&d.push(_)}yield yield pe(S)}}catch(S){u={error:S}}finally{try{!m&&!r&&(c=h.return)&&(yield pe(c.call(h)))}finally{if(u)throw u.error}}this.recordHistory(n,d)})}recordHistory(e,n,i){let l=[];n.length>0&&n.every(o=>o.role!==void 0)?l=n:l.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Rm(i)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ts extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Ts.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dx(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);return e!==void 0&&l!=null&&s(e,["_query","pageToken"],l),n}function mx(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],dx(n,e)),e}function hx(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["message"]);i!=null&&s(e,["message"],i);const l=a(t,["code"]);return l!=null&&s(e,["code"],l),e}function px(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["mimeType"]);l!=null&&s(e,["mimeType"],l);const o=a(t,["sizeBytes"]);o!=null&&s(e,["sizeBytes"],o);const r=a(t,["createTime"]);r!=null&&s(e,["createTime"],r);const u=a(t,["expirationTime"]);u!=null&&s(e,["expirationTime"],u);const c=a(t,["updateTime"]);c!=null&&s(e,["updateTime"],c);const f=a(t,["sha256Hash"]);f!=null&&s(e,["sha256Hash"],f);const d=a(t,["uri"]);d!=null&&s(e,["uri"],d);const m=a(t,["downloadUri"]);m!=null&&s(e,["downloadUri"],m);const h=a(t,["state"]);h!=null&&s(e,["state"],h);const g=a(t,["source"]);g!=null&&s(e,["source"],g);const S=a(t,["videoMetadata"]);S!=null&&s(e,["videoMetadata"],S);const _=a(t,["error"]);return _!=null&&s(e,["error"],hx(_)),e}function gx(t){const e={},n=a(t,["file"]);n!=null&&s(e,["file"],px(n));const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function yx(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","file"],ly(n));const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function vx(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","file"],ly(n));const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function Tx(t){const e={},n=a(t,["details"]);n!=null&&s(e,["details"],n);const i=a(t,["message"]);i!=null&&s(e,["message"],i);const l=a(t,["code"]);return l!=null&&s(e,["code"],l),e}function Tu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["mimeType"]);l!=null&&s(e,["mimeType"],l);const o=a(t,["sizeBytes"]);o!=null&&s(e,["sizeBytes"],o);const r=a(t,["createTime"]);r!=null&&s(e,["createTime"],r);const u=a(t,["expirationTime"]);u!=null&&s(e,["expirationTime"],u);const c=a(t,["updateTime"]);c!=null&&s(e,["updateTime"],c);const f=a(t,["sha256Hash"]);f!=null&&s(e,["sha256Hash"],f);const d=a(t,["uri"]);d!=null&&s(e,["uri"],d);const m=a(t,["downloadUri"]);m!=null&&s(e,["downloadUri"],m);const h=a(t,["state"]);h!=null&&s(e,["state"],h);const g=a(t,["source"]);g!=null&&s(e,["source"],g);const S=a(t,["videoMetadata"]);S!=null&&s(e,["videoMetadata"],S);const _=a(t,["error"]);return _!=null&&s(e,["error"],Tx(_)),e}function Sx(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["files"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>Tu(o))),s(e,["files"],l)}return e}function Cx(){return{}}function _x(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xx extends fi{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bo(ai.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Tu(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=mx(e);return o=V("files",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=Sx(c),d=new VS;return Object.assign(d,f),d})}}async createInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=gx(e);return o=V("upload/v1beta/files",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(()=>{const c=Cx(),f=new PS;return Object.assign(f,c),f})}}async get(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=yx(e);return o=V("files/{file}",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>Tu(c))}}async delete(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=vx(e);return o=V("files/{file}",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(()=>{const c=_x(),f=new qS;return Object.assign(f,c),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ex(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function Ax(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function hy(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],Ex(n)),e}function Mx(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],Ax(n)),e}function Nx(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],hy(i)),e}function Rx(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Nx(l))),s(e,["speakerVoiceConfigs"],i)}return e}function bx(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],hy(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],Rx(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function Dx(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&s(e,["voiceConfig"],Mx(n)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function wx(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function kx(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function Ux(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function Ix(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function Lx(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function Vx(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function Px(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],wx(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],Ux(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],Lx(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function qx(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],kx(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],Ix(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],Vx(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function Gx(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>Px(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function Bx(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>qx(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function zx(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function Hx(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const o=a(t,["parametersJsonSchema"]);o!=null&&s(e,["parametersJsonSchema"],o);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const u=a(t,["responseJsonSchema"]);return u!=null&&s(e,["responseJsonSchema"],u),e}function Ox(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function Fx(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function Yx(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],Ox(n)),e}function Jx(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],Fx(n)),e}function Zx(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function $x(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function Xx(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],Zx(n)),e}function Kx(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],$x(n)),e}function Qx(){return{}}function Wx(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function jx(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],Wx(n));const i=a(t,["authType"]);i!=null&&s(e,["authType"],i);const l=a(t,["googleServiceAccountConfig"]);l!=null&&s(e,["googleServiceAccountConfig"],l);const o=a(t,["httpBasicAuthConfig"]);o!=null&&s(e,["httpBasicAuthConfig"],o);const r=a(t,["oauthConfig"]);r!=null&&s(e,["oauthConfig"],r);const u=a(t,["oidcConfig"]);return u!=null&&s(e,["oidcConfig"],u),e}function e1(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],jx(n)),e}function t1(){return{}}function n1(){return{}}function i1(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>zx(f))),s(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],Yx(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],Xx(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],t1());const r=a(t,["codeExecution"]);r!=null&&s(e,["codeExecution"],r);const u=a(t,["computerUse"]);return u!=null&&s(e,["computerUse"],u),e}function l1(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(h=>Hx(h))),s(e,["functionDeclarations"],m)}const i=a(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const l=a(t,["googleSearch"]);l!=null&&s(e,["googleSearch"],Jx(l));const o=a(t,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],Kx(o)),a(t,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],Qx());const u=a(t,["googleMaps"]);u!=null&&s(e,["googleMaps"],e1(u)),a(t,["urlContext"])!=null&&s(e,["urlContext"],n1());const f=a(t,["codeExecution"]);f!=null&&s(e,["codeExecution"],f);const d=a(t,["computerUse"]);return d!=null&&s(e,["computerUse"],d),e}function o1(t){const e={},n=a(t,["handle"]);if(n!=null&&s(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function a1(t){const e={},n=a(t,["handle"]);n!=null&&s(e,["handle"],n);const i=a(t,["transparent"]);return i!=null&&s(e,["transparent"],i),e}function bm(){return{}}function Dm(){return{}}function s1(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const l=a(t,["endOfSpeechSensitivity"]);l!=null&&s(e,["endOfSpeechSensitivity"],l);const o=a(t,["prefixPaddingMs"]);o!=null&&s(e,["prefixPaddingMs"],o);const r=a(t,["silenceDurationMs"]);return r!=null&&s(e,["silenceDurationMs"],r),e}function r1(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const l=a(t,["endOfSpeechSensitivity"]);l!=null&&s(e,["endOfSpeechSensitivity"],l);const o=a(t,["prefixPaddingMs"]);o!=null&&s(e,["prefixPaddingMs"],o);const r=a(t,["silenceDurationMs"]);return r!=null&&s(e,["silenceDurationMs"],r),e}function u1(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],s1(n));const i=a(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const l=a(t,["turnCoverage"]);return l!=null&&s(e,["turnCoverage"],l),e}function c1(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],r1(n));const i=a(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const l=a(t,["turnCoverage"]);return l!=null&&s(e,["turnCoverage"],l),e}function f1(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function d1(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function m1(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],f1(i)),e}function h1(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],d1(i)),e}function p1(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function g1(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function y1(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","responseModalities"],l);const o=a(t,["temperature"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","temperature"],o);const r=a(t,["topP"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topP"],r);const u=a(t,["topK"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],bx(Mc(m)));const h=a(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],h);const g=a(t,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],Gx(Oe(g)));const S=a(t,["tools"]);if(e!==void 0&&S!=null){let x=pl(S);Array.isArray(x)&&(x=x.map(D=>i1(hl(D)))),s(e,["setup","tools"],x)}const _=a(t,["sessionResumption"]);e!==void 0&&_!=null&&s(e,["setup","sessionResumption"],o1(_));const M=a(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&s(e,["setup","inputAudioTranscription"],bm());const v=a(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&s(e,["setup","outputAudioTranscription"],bm());const y=a(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&s(e,["setup","realtimeInputConfig"],u1(y));const T=a(t,["contextWindowCompression"]);e!==void 0&&T!=null&&s(e,["setup","contextWindowCompression"],m1(T));const C=a(t,["proactivity"]);return e!==void 0&&C!=null&&s(e,["setup","proactivity"],p1(C)),n}function v1(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","responseModalities"],l);const o=a(t,["temperature"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","temperature"],o);const r=a(t,["topP"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topP"],r);const u=a(t,["topK"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],Dx(Mc(m)));const h=a(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],h);const g=a(t,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],Bx(Oe(g)));const S=a(t,["tools"]);if(e!==void 0&&S!=null){let x=pl(S);Array.isArray(x)&&(x=x.map(D=>l1(hl(D)))),s(e,["setup","tools"],x)}const _=a(t,["sessionResumption"]);e!==void 0&&_!=null&&s(e,["setup","sessionResumption"],a1(_));const M=a(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&s(e,["setup","inputAudioTranscription"],Dm());const v=a(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&s(e,["setup","outputAudioTranscription"],Dm());const y=a(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&s(e,["setup","realtimeInputConfig"],c1(y));const T=a(t,["contextWindowCompression"]);e!==void 0&&T!=null&&s(e,["setup","contextWindowCompression"],h1(T));const C=a(t,["proactivity"]);return e!==void 0&&C!=null&&s(e,["setup","proactivity"],g1(C)),n}function T1(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["setup","model"],ae(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],y1(l,n)),n}function S1(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["setup","model"],ae(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],v1(l,n)),n}function C1(){return{}}function _1(){return{}}function x1(){return{}}function E1(){return{}}function A1(t){const e={},n=a(t,["media"]);n!=null&&s(e,["mediaChunks"],Wg(n));const i=a(t,["audio"]);i!=null&&s(e,["audio"],ey(i));const l=a(t,["audioStreamEnd"]);l!=null&&s(e,["audioStreamEnd"],l);const o=a(t,["video"]);o!=null&&s(e,["video"],jg(o));const r=a(t,["text"]);return r!=null&&s(e,["text"],r),a(t,["activityStart"])!=null&&s(e,["activityStart"],C1()),a(t,["activityEnd"])!=null&&s(e,["activityEnd"],x1()),e}function M1(t){const e={},n=a(t,["media"]);n!=null&&s(e,["mediaChunks"],Wg(n));const i=a(t,["audio"]);i!=null&&s(e,["audio"],ey(i));const l=a(t,["audioStreamEnd"]);l!=null&&s(e,["audioStreamEnd"],l);const o=a(t,["video"]);o!=null&&s(e,["video"],jg(o));const r=a(t,["text"]);return r!=null&&s(e,["text"],r),a(t,["activityStart"])!=null&&s(e,["activityStart"],_1()),a(t,["activityEnd"])!=null&&s(e,["activityEnd"],E1()),e}function py(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["weight"]);return i!=null&&s(e,["weight"],i),e}function N1(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>py(l))),s(e,["weightedPrompts"],i)}return e}function gy(t){const e={},n=a(t,["temperature"]);n!=null&&s(e,["temperature"],n);const i=a(t,["topK"]);i!=null&&s(e,["topK"],i);const l=a(t,["seed"]);l!=null&&s(e,["seed"],l);const o=a(t,["guidance"]);o!=null&&s(e,["guidance"],o);const r=a(t,["bpm"]);r!=null&&s(e,["bpm"],r);const u=a(t,["density"]);u!=null&&s(e,["density"],u);const c=a(t,["brightness"]);c!=null&&s(e,["brightness"],c);const f=a(t,["scale"]);f!=null&&s(e,["scale"],f);const d=a(t,["muteBass"]);d!=null&&s(e,["muteBass"],d);const m=a(t,["muteDrums"]);m!=null&&s(e,["muteDrums"],m);const h=a(t,["onlyBassAndDrums"]);return h!=null&&s(e,["onlyBassAndDrums"],h),e}function R1(t){const e={},n=a(t,["musicGenerationConfig"]);return n!=null&&s(e,["musicGenerationConfig"],gy(n)),e}function yy(t){const e={},n=a(t,["model"]);return n!=null&&s(e,["model"],n),e}function vy(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>py(l))),s(e,["weightedPrompts"],i)}return e}function Su(t){const e={},n=a(t,["setup"]);n!=null&&s(e,["setup"],yy(n));const i=a(t,["clientContent"]);i!=null&&s(e,["clientContent"],vy(i));const l=a(t,["musicGenerationConfig"]);l!=null&&s(e,["musicGenerationConfig"],gy(l));const o=a(t,["playbackControl"]);return o!=null&&s(e,["playbackControl"],o),e}function b1(){return{}}function D1(t){const e={},n=a(t,["sessionId"]);return n!=null&&s(e,["sessionId"],n),e}function w1(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function k1(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function U1(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function I1(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function L1(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function V1(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function P1(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],w1(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],U1(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],L1(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function q1(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],k1(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],I1(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],V1(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function G1(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>P1(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function B1(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>q1(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function wm(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["finished"]);return i!=null&&s(e,["finished"],i),e}function km(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["finished"]);return i!=null&&s(e,["finished"],i),e}function z1(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function H1(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>z1(l))),s(e,["urlMetadata"],i)}return e}function O1(t){const e={},n=a(t,["modelTurn"]);n!=null&&s(e,["modelTurn"],G1(n));const i=a(t,["turnComplete"]);i!=null&&s(e,["turnComplete"],i);const l=a(t,["interrupted"]);l!=null&&s(e,["interrupted"],l);const o=a(t,["groundingMetadata"]);o!=null&&s(e,["groundingMetadata"],o);const r=a(t,["generationComplete"]);r!=null&&s(e,["generationComplete"],r);const u=a(t,["inputTranscription"]);u!=null&&s(e,["inputTranscription"],wm(u));const c=a(t,["outputTranscription"]);c!=null&&s(e,["outputTranscription"],wm(c));const f=a(t,["urlContextMetadata"]);return f!=null&&s(e,["urlContextMetadata"],H1(f)),e}function F1(t){const e={},n=a(t,["modelTurn"]);n!=null&&s(e,["modelTurn"],B1(n));const i=a(t,["turnComplete"]);i!=null&&s(e,["turnComplete"],i);const l=a(t,["interrupted"]);l!=null&&s(e,["interrupted"],l);const o=a(t,["groundingMetadata"]);o!=null&&s(e,["groundingMetadata"],o);const r=a(t,["generationComplete"]);r!=null&&s(e,["generationComplete"],r);const u=a(t,["inputTranscription"]);u!=null&&s(e,["inputTranscription"],km(u));const c=a(t,["outputTranscription"]);return c!=null&&s(e,["outputTranscription"],km(c)),e}function Y1(t){const e={},n=a(t,["id"]);n!=null&&s(e,["id"],n);const i=a(t,["args"]);i!=null&&s(e,["args"],i);const l=a(t,["name"]);return l!=null&&s(e,["name"],l),e}function J1(t){const e={},n=a(t,["args"]);n!=null&&s(e,["args"],n);const i=a(t,["name"]);return i!=null&&s(e,["name"],i),e}function Z1(t){const e={},n=a(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Y1(l))),s(e,["functionCalls"],i)}return e}function $1(t){const e={},n=a(t,["functionCalls"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>J1(l))),s(e,["functionCalls"],i)}return e}function X1(t){const e={},n=a(t,["ids"]);return n!=null&&s(e,["ids"],n),e}function K1(t){const e={},n=a(t,["ids"]);return n!=null&&s(e,["ids"],n),e}function Xo(t){const e={},n=a(t,["modality"]);n!=null&&s(e,["modality"],n);const i=a(t,["tokenCount"]);return i!=null&&s(e,["tokenCount"],i),e}function Ko(t){const e={},n=a(t,["modality"]);n!=null&&s(e,["modality"],n);const i=a(t,["tokenCount"]);return i!=null&&s(e,["tokenCount"],i),e}function Q1(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&s(e,["promptTokenCount"],n);const i=a(t,["cachedContentTokenCount"]);i!=null&&s(e,["cachedContentTokenCount"],i);const l=a(t,["responseTokenCount"]);l!=null&&s(e,["responseTokenCount"],l);const o=a(t,["toolUsePromptTokenCount"]);o!=null&&s(e,["toolUsePromptTokenCount"],o);const r=a(t,["thoughtsTokenCount"]);r!=null&&s(e,["thoughtsTokenCount"],r);const u=a(t,["totalTokenCount"]);u!=null&&s(e,["totalTokenCount"],u);const c=a(t,["promptTokensDetails"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(g=>Xo(g))),s(e,["promptTokensDetails"],h)}const f=a(t,["cacheTokensDetails"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(g=>Xo(g))),s(e,["cacheTokensDetails"],h)}const d=a(t,["responseTokensDetails"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>Xo(g))),s(e,["responseTokensDetails"],h)}const m=a(t,["toolUsePromptTokensDetails"]);if(m!=null){let h=m;Array.isArray(h)&&(h=h.map(g=>Xo(g))),s(e,["toolUsePromptTokensDetails"],h)}return e}function W1(t){const e={},n=a(t,["promptTokenCount"]);n!=null&&s(e,["promptTokenCount"],n);const i=a(t,["cachedContentTokenCount"]);i!=null&&s(e,["cachedContentTokenCount"],i);const l=a(t,["candidatesTokenCount"]);l!=null&&s(e,["responseTokenCount"],l);const o=a(t,["toolUsePromptTokenCount"]);o!=null&&s(e,["toolUsePromptTokenCount"],o);const r=a(t,["thoughtsTokenCount"]);r!=null&&s(e,["thoughtsTokenCount"],r);const u=a(t,["totalTokenCount"]);u!=null&&s(e,["totalTokenCount"],u);const c=a(t,["promptTokensDetails"]);if(c!=null){let g=c;Array.isArray(g)&&(g=g.map(S=>Ko(S))),s(e,["promptTokensDetails"],g)}const f=a(t,["cacheTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(S=>Ko(S))),s(e,["cacheTokensDetails"],g)}const d=a(t,["candidatesTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(S=>Ko(S))),s(e,["responseTokensDetails"],g)}const m=a(t,["toolUsePromptTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(S=>Ko(S))),s(e,["toolUsePromptTokensDetails"],g)}const h=a(t,["trafficType"]);return h!=null&&s(e,["trafficType"],h),e}function j1(t){const e={},n=a(t,["timeLeft"]);return n!=null&&s(e,["timeLeft"],n),e}function eE(t){const e={},n=a(t,["timeLeft"]);return n!=null&&s(e,["timeLeft"],n),e}function tE(t){const e={},n=a(t,["newHandle"]);n!=null&&s(e,["newHandle"],n);const i=a(t,["resumable"]);i!=null&&s(e,["resumable"],i);const l=a(t,["lastConsumedClientMessageIndex"]);return l!=null&&s(e,["lastConsumedClientMessageIndex"],l),e}function nE(t){const e={},n=a(t,["newHandle"]);n!=null&&s(e,["newHandle"],n);const i=a(t,["resumable"]);i!=null&&s(e,["resumable"],i);const l=a(t,["lastConsumedClientMessageIndex"]);return l!=null&&s(e,["lastConsumedClientMessageIndex"],l),e}function iE(t){const e={};a(t,["setupComplete"])!=null&&s(e,["setupComplete"],b1());const i=a(t,["serverContent"]);i!=null&&s(e,["serverContent"],O1(i));const l=a(t,["toolCall"]);l!=null&&s(e,["toolCall"],Z1(l));const o=a(t,["toolCallCancellation"]);o!=null&&s(e,["toolCallCancellation"],X1(o));const r=a(t,["usageMetadata"]);r!=null&&s(e,["usageMetadata"],Q1(r));const u=a(t,["goAway"]);u!=null&&s(e,["goAway"],j1(u));const c=a(t,["sessionResumptionUpdate"]);return c!=null&&s(e,["sessionResumptionUpdate"],tE(c)),e}function lE(t){const e={},n=a(t,["setupComplete"]);n!=null&&s(e,["setupComplete"],D1(n));const i=a(t,["serverContent"]);i!=null&&s(e,["serverContent"],F1(i));const l=a(t,["toolCall"]);l!=null&&s(e,["toolCall"],$1(l));const o=a(t,["toolCallCancellation"]);o!=null&&s(e,["toolCallCancellation"],K1(o));const r=a(t,["usageMetadata"]);r!=null&&s(e,["usageMetadata"],W1(r));const u=a(t,["goAway"]);u!=null&&s(e,["goAway"],eE(u));const c=a(t,["sessionResumptionUpdate"]);return c!=null&&s(e,["sessionResumptionUpdate"],nE(c)),e}function oE(){return{}}function aE(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["weight"]);return i!=null&&s(e,["weight"],i),e}function sE(t){const e={},n=a(t,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>aE(l))),s(e,["weightedPrompts"],i)}return e}function rE(t){const e={},n=a(t,["temperature"]);n!=null&&s(e,["temperature"],n);const i=a(t,["topK"]);i!=null&&s(e,["topK"],i);const l=a(t,["seed"]);l!=null&&s(e,["seed"],l);const o=a(t,["guidance"]);o!=null&&s(e,["guidance"],o);const r=a(t,["bpm"]);r!=null&&s(e,["bpm"],r);const u=a(t,["density"]);u!=null&&s(e,["density"],u);const c=a(t,["brightness"]);c!=null&&s(e,["brightness"],c);const f=a(t,["scale"]);f!=null&&s(e,["scale"],f);const d=a(t,["muteBass"]);d!=null&&s(e,["muteBass"],d);const m=a(t,["muteDrums"]);m!=null&&s(e,["muteDrums"],m);const h=a(t,["onlyBassAndDrums"]);return h!=null&&s(e,["onlyBassAndDrums"],h),e}function uE(t){const e={},n=a(t,["clientContent"]);n!=null&&s(e,["clientContent"],sE(n));const i=a(t,["musicGenerationConfig"]);return i!=null&&s(e,["musicGenerationConfig"],rE(i)),e}function cE(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);i!=null&&s(e,["mimeType"],i);const l=a(t,["sourceMetadata"]);return l!=null&&s(e,["sourceMetadata"],uE(l)),e}function fE(t){const e={},n=a(t,["audioChunks"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>cE(l))),s(e,["audioChunks"],i)}return e}function dE(t){const e={},n=a(t,["text"]);n!=null&&s(e,["text"],n);const i=a(t,["filteredReason"]);return i!=null&&s(e,["filteredReason"],i),e}function mE(t){const e={};a(t,["setupComplete"])!=null&&s(e,["setupComplete"],oE());const i=a(t,["serverContent"]);i!=null&&s(e,["serverContent"],fE(i));const l=a(t,["filteredPrompt"]);return l!=null&&s(e,["filteredPrompt"],dE(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hE(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function pE(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function gE(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function yE(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],hE(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],pE(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],gE(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function Ss(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>yE(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function vE(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&s(e,["default"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["enum"]);o!=null&&s(e,["enum"],o);const r=a(t,["example"]);r!=null&&s(e,["example"],r);const u=a(t,["format"]);u!=null&&s(e,["format"],u);const c=a(t,["items"]);c!=null&&s(e,["items"],c);const f=a(t,["maxItems"]);f!=null&&s(e,["maxItems"],f);const d=a(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=a(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const h=a(t,["maximum"]);h!=null&&s(e,["maximum"],h);const g=a(t,["minItems"]);g!=null&&s(e,["minItems"],g);const S=a(t,["minLength"]);S!=null&&s(e,["minLength"],S);const _=a(t,["minProperties"]);_!=null&&s(e,["minProperties"],_);const M=a(t,["minimum"]);M!=null&&s(e,["minimum"],M);const v=a(t,["nullable"]);v!=null&&s(e,["nullable"],v);const y=a(t,["pattern"]);y!=null&&s(e,["pattern"],y);const T=a(t,["properties"]);T!=null&&s(e,["properties"],T);const C=a(t,["propertyOrdering"]);C!=null&&s(e,["propertyOrdering"],C);const x=a(t,["required"]);x!=null&&s(e,["required"],x);const D=a(t,["title"]);D!=null&&s(e,["title"],D);const N=a(t,["type"]);return N!=null&&s(e,["type"],N),e}function TE(t){const e={};if(a(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=a(t,["category"]);n!=null&&s(e,["category"],n);const i=a(t,["threshold"]);return i!=null&&s(e,["threshold"],i),e}function SE(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function CE(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function _E(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],CE(n)),e}function xE(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function EE(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],xE(n)),e}function AE(){return{}}function ME(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>SE(f))),s(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],_E(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],EE(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],AE());const r=a(t,["codeExecution"]);r!=null&&s(e,["codeExecution"],r);const u=a(t,["computerUse"]);return u!=null&&s(e,["computerUse"],u),e}function NE(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function RE(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function bE(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],RE(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function DE(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],NE(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],bE(i)),e}function wE(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function Ty(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],wE(n)),e}function kE(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],Ty(i)),e}function UE(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>kE(l))),s(e,["speakerVoiceConfigs"],i)}return e}function IE(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],Ty(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],UE(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function LE(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function VE(t,e,n){const i={},l=a(e,["systemInstruction"]);n!==void 0&&l!=null&&s(n,["systemInstruction"],Ss(Oe(l)));const o=a(e,["temperature"]);o!=null&&s(i,["temperature"],o);const r=a(e,["topP"]);r!=null&&s(i,["topP"],r);const u=a(e,["topK"]);u!=null&&s(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&s(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&s(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const h=a(e,["logprobs"]);h!=null&&s(i,["logprobs"],h);const g=a(e,["presencePenalty"]);g!=null&&s(i,["presencePenalty"],g);const S=a(e,["frequencyPenalty"]);S!=null&&s(i,["frequencyPenalty"],S);const _=a(e,["seed"]);_!=null&&s(i,["seed"],_);const M=a(e,["responseMimeType"]);M!=null&&s(i,["responseMimeType"],M);const v=a(e,["responseSchema"]);v!=null&&s(i,["responseSchema"],vE(fo(v)));const y=a(e,["responseJsonSchema"]);if(y!=null&&s(i,["responseJsonSchema"],y),a(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(a(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const T=a(e,["safetySettings"]);if(n!==void 0&&T!=null){let P=T;Array.isArray(P)&&(P=P.map(se=>TE(se))),s(n,["safetySettings"],P)}const C=a(e,["tools"]);if(n!==void 0&&C!=null){let P=pl(C);Array.isArray(P)&&(P=P.map(se=>ME(hl(se)))),s(n,["tools"],P)}const x=a(e,["toolConfig"]);if(n!==void 0&&x!=null&&s(n,["toolConfig"],DE(x)),a(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const D=a(e,["cachedContent"]);n!==void 0&&D!=null&&s(n,["cachedContent"],ln(t,D));const N=a(e,["responseModalities"]);N!=null&&s(i,["responseModalities"],N);const E=a(e,["mediaResolution"]);E!=null&&s(i,["mediaResolution"],E);const b=a(e,["speechConfig"]);if(b!=null&&s(i,["speechConfig"],IE(Ac(b))),a(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const k=a(e,["thinkingConfig"]);return k!=null&&s(i,["thinkingConfig"],LE(k)),i}function Um(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["contents"]);if(l!=null){let r=vt(l);Array.isArray(r)&&(r=r.map(u=>Ss(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["generationConfig"],VE(t,o,n)),n}function PE(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&s(e,["requests[]","taskType"],i);const l=a(t,["title"]);e!==void 0&&l!=null&&s(e,["requests[]","title"],l);const o=a(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&s(e,["requests[]","outputDimensionality"],o),a(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(a(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function qE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["contents"]);l!=null&&s(n,["requests[]","content"],ny(t,l));const o=a(e,["config"]);o!=null&&s(n,["config"],PE(o,n));const r=a(e,["model"]);return r!==void 0&&s(n,["requests[]","model"],ae(t,r)),n}function GE(t,e){const n={};if(a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=a(t,["numberOfImages"]);e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i);const l=a(t,["aspectRatio"]);e!==void 0&&l!=null&&s(e,["parameters","aspectRatio"],l);const o=a(t,["guidanceScale"]);if(e!==void 0&&o!=null&&s(e,["parameters","guidanceScale"],o),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=a(t,["safetyFilterLevel"]);e!==void 0&&r!=null&&s(e,["parameters","safetySetting"],r);const u=a(t,["personGeneration"]);e!==void 0&&u!=null&&s(e,["parameters","personGeneration"],u);const c=a(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&s(e,["parameters","includeSafetyAttributes"],c);const f=a(t,["includeRaiReason"]);e!==void 0&&f!=null&&s(e,["parameters","includeRaiReason"],f);const d=a(t,["language"]);e!==void 0&&d!=null&&s(e,["parameters","language"],d);const m=a(t,["outputMimeType"]);e!==void 0&&m!=null&&s(e,["parameters","outputOptions","mimeType"],m);const h=a(t,["outputCompressionQuality"]);if(e!==void 0&&h!=null&&s(e,["parameters","outputOptions","compressionQuality"],h),a(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(a(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function BE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&s(n,["config"],GE(o,n)),n}function zE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ae(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function HE(t,e,n){const i={},l=a(e,["pageSize"]);n!==void 0&&l!=null&&s(n,["_query","pageSize"],l);const o=a(e,["pageToken"]);n!==void 0&&o!=null&&s(n,["_query","pageToken"],o);const r=a(e,["filter"]);n!==void 0&&r!=null&&s(n,["_query","filter"],r);const u=a(e,["queryBase"]);return n!==void 0&&u!=null&&s(n,["_url","models_url"],oy(t,u)),i}function OE(t,e){const n={},i=a(e,["config"]);return i!=null&&s(n,["config"],HE(t,i,n)),n}function FE(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);e!==void 0&&l!=null&&s(e,["description"],l);const o=a(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&s(e,["defaultCheckpointId"],o),n}function YE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ae(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],FE(l,n)),n}function JE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ae(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function ZE(t){const e={};if(a(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(a(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(a(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function $E(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["contents"]);if(l!=null){let r=vt(l);Array.isArray(r)&&(r=r.map(u=>Ss(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["config"],ZE(o)),n}function XE(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=a(t,["imageBytes"]);n!=null&&s(e,["bytesBase64Encoded"],on(n));const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function KE(t,e){const n={},i=a(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i),a(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(a(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=a(t,["durationSeconds"]);if(e!==void 0&&l!=null&&s(e,["parameters","durationSeconds"],l),a(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=a(t,["aspectRatio"]);if(e!==void 0&&o!=null&&s(e,["parameters","aspectRatio"],o),a(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const r=a(t,["personGeneration"]);if(e!==void 0&&r!=null&&s(e,["parameters","personGeneration"],r),a(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const u=a(t,["negativePrompt"]);e!==void 0&&u!=null&&s(e,["parameters","negativePrompt"],u);const c=a(t,["enhancePrompt"]);if(e!==void 0&&c!=null&&s(e,["parameters","enhancePrompt"],c),a(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(a(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(a(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function QE(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["image"]);if(o!=null&&s(n,["instances[0]","image"],XE(o)),a(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const r=a(e,["config"]);return r!=null&&s(n,["config"],KE(r,n)),n}function WE(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function jE(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function eA(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function tA(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],WE(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],jE(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],eA(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function yl(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>tA(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function nA(t){const e={},n=a(t,["anyOf"]);n!=null&&s(e,["anyOf"],n);const i=a(t,["default"]);i!=null&&s(e,["default"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["enum"]);o!=null&&s(e,["enum"],o);const r=a(t,["example"]);r!=null&&s(e,["example"],r);const u=a(t,["format"]);u!=null&&s(e,["format"],u);const c=a(t,["items"]);c!=null&&s(e,["items"],c);const f=a(t,["maxItems"]);f!=null&&s(e,["maxItems"],f);const d=a(t,["maxLength"]);d!=null&&s(e,["maxLength"],d);const m=a(t,["maxProperties"]);m!=null&&s(e,["maxProperties"],m);const h=a(t,["maximum"]);h!=null&&s(e,["maximum"],h);const g=a(t,["minItems"]);g!=null&&s(e,["minItems"],g);const S=a(t,["minLength"]);S!=null&&s(e,["minLength"],S);const _=a(t,["minProperties"]);_!=null&&s(e,["minProperties"],_);const M=a(t,["minimum"]);M!=null&&s(e,["minimum"],M);const v=a(t,["nullable"]);v!=null&&s(e,["nullable"],v);const y=a(t,["pattern"]);y!=null&&s(e,["pattern"],y);const T=a(t,["properties"]);T!=null&&s(e,["properties"],T);const C=a(t,["propertyOrdering"]);C!=null&&s(e,["propertyOrdering"],C);const x=a(t,["required"]);x!=null&&s(e,["required"],x);const D=a(t,["title"]);D!=null&&s(e,["title"],D);const N=a(t,["type"]);return N!=null&&s(e,["type"],N),e}function iA(t){const e={},n=a(t,["featureSelectionPreference"]);return n!=null&&s(e,["featureSelectionPreference"],n),e}function lA(t){const e={},n=a(t,["method"]);n!=null&&s(e,["method"],n);const i=a(t,["category"]);i!=null&&s(e,["category"],i);const l=a(t,["threshold"]);return l!=null&&s(e,["threshold"],l),e}function oA(t){const e={};if(a(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=a(t,["description"]);n!=null&&s(e,["description"],n);const i=a(t,["name"]);i!=null&&s(e,["name"],i);const l=a(t,["parameters"]);l!=null&&s(e,["parameters"],l);const o=a(t,["parametersJsonSchema"]);o!=null&&s(e,["parametersJsonSchema"],o);const r=a(t,["response"]);r!=null&&s(e,["response"],r);const u=a(t,["responseJsonSchema"]);return u!=null&&s(e,["responseJsonSchema"],u),e}function aA(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function sA(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],aA(n)),e}function rA(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function uA(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],rA(n)),e}function cA(){return{}}function fA(t){const e={},n=a(t,["apiKeyString"]);return n!=null&&s(e,["apiKeyString"],n),e}function dA(t){const e={},n=a(t,["apiKeyConfig"]);n!=null&&s(e,["apiKeyConfig"],fA(n));const i=a(t,["authType"]);i!=null&&s(e,["authType"],i);const l=a(t,["googleServiceAccountConfig"]);l!=null&&s(e,["googleServiceAccountConfig"],l);const o=a(t,["httpBasicAuthConfig"]);o!=null&&s(e,["httpBasicAuthConfig"],o);const r=a(t,["oauthConfig"]);r!=null&&s(e,["oauthConfig"],r);const u=a(t,["oidcConfig"]);return u!=null&&s(e,["oidcConfig"],u),e}function mA(t){const e={},n=a(t,["authConfig"]);return n!=null&&s(e,["authConfig"],dA(n)),e}function hA(){return{}}function Sy(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(h=>oA(h))),s(e,["functionDeclarations"],m)}const i=a(t,["retrieval"]);i!=null&&s(e,["retrieval"],i);const l=a(t,["googleSearch"]);l!=null&&s(e,["googleSearch"],sA(l));const o=a(t,["googleSearchRetrieval"]);o!=null&&s(e,["googleSearchRetrieval"],uA(o)),a(t,["enterpriseWebSearch"])!=null&&s(e,["enterpriseWebSearch"],cA());const u=a(t,["googleMaps"]);u!=null&&s(e,["googleMaps"],mA(u)),a(t,["urlContext"])!=null&&s(e,["urlContext"],hA());const f=a(t,["codeExecution"]);f!=null&&s(e,["codeExecution"],f);const d=a(t,["computerUse"]);return d!=null&&s(e,["computerUse"],d),e}function pA(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["allowedFunctionNames"]);return i!=null&&s(e,["allowedFunctionNames"],i),e}function gA(t){const e={},n=a(t,["latitude"]);n!=null&&s(e,["latitude"],n);const i=a(t,["longitude"]);return i!=null&&s(e,["longitude"],i),e}function yA(t){const e={},n=a(t,["latLng"]);n!=null&&s(e,["latLng"],gA(n));const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function vA(t){const e={},n=a(t,["functionCallingConfig"]);n!=null&&s(e,["functionCallingConfig"],pA(n));const i=a(t,["retrievalConfig"]);return i!=null&&s(e,["retrievalConfig"],yA(i)),e}function TA(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function SA(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],TA(n)),e}function CA(t){const e={},n=a(t,["voiceConfig"]);if(n!=null&&s(e,["voiceConfig"],SA(n)),a(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=a(t,["languageCode"]);return i!=null&&s(e,["languageCode"],i),e}function _A(t){const e={},n=a(t,["includeThoughts"]);n!=null&&s(e,["includeThoughts"],n);const i=a(t,["thinkingBudget"]);return i!=null&&s(e,["thinkingBudget"],i),e}function xA(t,e,n){const i={},l=a(e,["systemInstruction"]);n!==void 0&&l!=null&&s(n,["systemInstruction"],yl(Oe(l)));const o=a(e,["temperature"]);o!=null&&s(i,["temperature"],o);const r=a(e,["topP"]);r!=null&&s(i,["topP"],r);const u=a(e,["topK"]);u!=null&&s(i,["topK"],u);const c=a(e,["candidateCount"]);c!=null&&s(i,["candidateCount"],c);const f=a(e,["maxOutputTokens"]);f!=null&&s(i,["maxOutputTokens"],f);const d=a(e,["stopSequences"]);d!=null&&s(i,["stopSequences"],d);const m=a(e,["responseLogprobs"]);m!=null&&s(i,["responseLogprobs"],m);const h=a(e,["logprobs"]);h!=null&&s(i,["logprobs"],h);const g=a(e,["presencePenalty"]);g!=null&&s(i,["presencePenalty"],g);const S=a(e,["frequencyPenalty"]);S!=null&&s(i,["frequencyPenalty"],S);const _=a(e,["seed"]);_!=null&&s(i,["seed"],_);const M=a(e,["responseMimeType"]);M!=null&&s(i,["responseMimeType"],M);const v=a(e,["responseSchema"]);v!=null&&s(i,["responseSchema"],nA(fo(v)));const y=a(e,["responseJsonSchema"]);y!=null&&s(i,["responseJsonSchema"],y);const T=a(e,["routingConfig"]);T!=null&&s(i,["routingConfig"],T);const C=a(e,["modelSelectionConfig"]);C!=null&&s(i,["modelConfig"],iA(C));const x=a(e,["safetySettings"]);if(n!==void 0&&x!=null){let W=x;Array.isArray(W)&&(W=W.map(w=>lA(w))),s(n,["safetySettings"],W)}const D=a(e,["tools"]);if(n!==void 0&&D!=null){let W=pl(D);Array.isArray(W)&&(W=W.map(w=>Sy(hl(w)))),s(n,["tools"],W)}const N=a(e,["toolConfig"]);n!==void 0&&N!=null&&s(n,["toolConfig"],vA(N));const E=a(e,["labels"]);n!==void 0&&E!=null&&s(n,["labels"],E);const b=a(e,["cachedContent"]);n!==void 0&&b!=null&&s(n,["cachedContent"],ln(t,b));const k=a(e,["responseModalities"]);k!=null&&s(i,["responseModalities"],k);const P=a(e,["mediaResolution"]);P!=null&&s(i,["mediaResolution"],P);const se=a(e,["speechConfig"]);se!=null&&s(i,["speechConfig"],CA(Ac(se)));const Fe=a(e,["audioTimestamp"]);Fe!=null&&s(i,["audioTimestamp"],Fe);const de=a(e,["thinkingConfig"]);return de!=null&&s(i,["thinkingConfig"],_A(de)),i}function Im(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["contents"]);if(l!=null){let r=vt(l);Array.isArray(r)&&(r=r.map(u=>yl(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["generationConfig"],xA(t,o,n)),n}function EA(t,e){const n={},i=a(t,["taskType"]);e!==void 0&&i!=null&&s(e,["instances[]","task_type"],i);const l=a(t,["title"]);e!==void 0&&l!=null&&s(e,["instances[]","title"],l);const o=a(t,["outputDimensionality"]);e!==void 0&&o!=null&&s(e,["parameters","outputDimensionality"],o);const r=a(t,["mimeType"]);e!==void 0&&r!=null&&s(e,["instances[]","mimeType"],r);const u=a(t,["autoTruncate"]);return e!==void 0&&u!=null&&s(e,["parameters","autoTruncate"],u),n}function AA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["contents"]);l!=null&&s(n,["instances[]","content"],ny(t,l));const o=a(e,["config"]);return o!=null&&s(n,["config"],EA(o,n)),n}function MA(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&s(e,["parameters","storageUri"],i);const l=a(t,["negativePrompt"]);e!==void 0&&l!=null&&s(e,["parameters","negativePrompt"],l);const o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&s(e,["parameters","sampleCount"],o);const r=a(t,["aspectRatio"]);e!==void 0&&r!=null&&s(e,["parameters","aspectRatio"],r);const u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&s(e,["parameters","guidanceScale"],u);const c=a(t,["seed"]);e!==void 0&&c!=null&&s(e,["parameters","seed"],c);const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&s(e,["parameters","safetySetting"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=a(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&s(e,["parameters","includeSafetyAttributes"],m);const h=a(t,["includeRaiReason"]);e!==void 0&&h!=null&&s(e,["parameters","includeRaiReason"],h);const g=a(t,["language"]);e!==void 0&&g!=null&&s(e,["parameters","language"],g);const S=a(t,["outputMimeType"]);e!==void 0&&S!=null&&s(e,["parameters","outputOptions","mimeType"],S);const _=a(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&s(e,["parameters","outputOptions","compressionQuality"],_);const M=a(t,["addWatermark"]);e!==void 0&&M!=null&&s(e,["parameters","addWatermark"],M);const v=a(t,["enhancePrompt"]);return e!==void 0&&v!=null&&s(e,["parameters","enhancePrompt"],v),n}function NA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["config"]);return o!=null&&s(n,["config"],MA(o,n)),n}function Cs(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["gcsUri"],n);const i=a(t,["imageBytes"]);i!=null&&s(e,["bytesBase64Encoded"],on(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function RA(t){const e={},n=a(t,["maskMode"]);n!=null&&s(e,["maskMode"],n);const i=a(t,["segmentationClasses"]);i!=null&&s(e,["maskClasses"],i);const l=a(t,["maskDilation"]);return l!=null&&s(e,["dilation"],l),e}function bA(t){const e={},n=a(t,["controlType"]);n!=null&&s(e,["controlType"],n);const i=a(t,["enableControlImageComputation"]);return i!=null&&s(e,["computeControl"],i),e}function DA(t){const e={},n=a(t,["styleDescription"]);return n!=null&&s(e,["styleDescription"],n),e}function wA(t){const e={},n=a(t,["subjectType"]);n!=null&&s(e,["subjectType"],n);const i=a(t,["subjectDescription"]);return i!=null&&s(e,["subjectDescription"],i),e}function kA(t){const e={},n=a(t,["referenceImage"]);n!=null&&s(e,["referenceImage"],Cs(n));const i=a(t,["referenceId"]);i!=null&&s(e,["referenceId"],i);const l=a(t,["referenceType"]);l!=null&&s(e,["referenceType"],l);const o=a(t,["maskImageConfig"]);o!=null&&s(e,["maskImageConfig"],RA(o));const r=a(t,["controlImageConfig"]);r!=null&&s(e,["controlImageConfig"],bA(r));const u=a(t,["styleImageConfig"]);u!=null&&s(e,["styleImageConfig"],DA(u));const c=a(t,["subjectImageConfig"]);return c!=null&&s(e,["subjectImageConfig"],wA(c)),e}function UA(t,e){const n={},i=a(t,["outputGcsUri"]);e!==void 0&&i!=null&&s(e,["parameters","storageUri"],i);const l=a(t,["negativePrompt"]);e!==void 0&&l!=null&&s(e,["parameters","negativePrompt"],l);const o=a(t,["numberOfImages"]);e!==void 0&&o!=null&&s(e,["parameters","sampleCount"],o);const r=a(t,["aspectRatio"]);e!==void 0&&r!=null&&s(e,["parameters","aspectRatio"],r);const u=a(t,["guidanceScale"]);e!==void 0&&u!=null&&s(e,["parameters","guidanceScale"],u);const c=a(t,["seed"]);e!==void 0&&c!=null&&s(e,["parameters","seed"],c);const f=a(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&s(e,["parameters","safetySetting"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=a(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&s(e,["parameters","includeSafetyAttributes"],m);const h=a(t,["includeRaiReason"]);e!==void 0&&h!=null&&s(e,["parameters","includeRaiReason"],h);const g=a(t,["language"]);e!==void 0&&g!=null&&s(e,["parameters","language"],g);const S=a(t,["outputMimeType"]);e!==void 0&&S!=null&&s(e,["parameters","outputOptions","mimeType"],S);const _=a(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&s(e,["parameters","outputOptions","compressionQuality"],_);const M=a(t,["editMode"]);e!==void 0&&M!=null&&s(e,["parameters","editMode"],M);const v=a(t,["baseSteps"]);return e!==void 0&&v!=null&&s(e,["parameters","editConfig","baseSteps"],v),n}function IA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>kA(c))),s(n,["instances[0]","referenceImages"],u)}const r=a(e,["config"]);return r!=null&&s(n,["config"],UA(r,n)),n}function LA(t,e){const n={},i=a(t,["includeRaiReason"]);e!==void 0&&i!=null&&s(e,["parameters","includeRaiReason"],i);const l=a(t,["outputMimeType"]);e!==void 0&&l!=null&&s(e,["parameters","outputOptions","mimeType"],l);const o=a(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&s(e,["parameters","outputOptions","compressionQuality"],o);const r=a(t,["enhanceInputImage"]);e!==void 0&&r!=null&&s(e,["parameters","upscaleConfig","enhanceInputImage"],r);const u=a(t,["imagePreservationFactor"]);e!==void 0&&u!=null&&s(e,["parameters","upscaleConfig","imagePreservationFactor"],u);const c=a(t,["numberOfImages"]);e!==void 0&&c!=null&&s(e,["parameters","sampleCount"],c);const f=a(t,["mode"]);return e!==void 0&&f!=null&&s(e,["parameters","mode"],f),n}function VA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["image"]);l!=null&&s(n,["instances[0]","image"],Cs(l));const o=a(e,["upscaleFactor"]);o!=null&&s(n,["parameters","upscaleConfig","upscaleFactor"],o);const r=a(e,["config"]);return r!=null&&s(n,["config"],LA(r,n)),n}function PA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ae(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function qA(t,e,n){const i={},l=a(e,["pageSize"]);n!==void 0&&l!=null&&s(n,["_query","pageSize"],l);const o=a(e,["pageToken"]);n!==void 0&&o!=null&&s(n,["_query","pageToken"],o);const r=a(e,["filter"]);n!==void 0&&r!=null&&s(n,["_query","filter"],r);const u=a(e,["queryBase"]);return n!==void 0&&u!=null&&s(n,["_url","models_url"],oy(t,u)),i}function GA(t,e){const n={},i=a(e,["config"]);return i!=null&&s(n,["config"],qA(t,i,n)),n}function BA(t,e){const n={},i=a(t,["displayName"]);e!==void 0&&i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);e!==void 0&&l!=null&&s(e,["description"],l);const o=a(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&s(e,["defaultCheckpointId"],o),n}function zA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],BA(l,n)),n}function HA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","name"],ae(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],l),n}function OA(t,e){const n={},i=a(t,["systemInstruction"]);e!==void 0&&i!=null&&s(e,["systemInstruction"],yl(Oe(i)));const l=a(t,["tools"]);if(e!==void 0&&l!=null){let r=l;Array.isArray(r)&&(r=r.map(u=>Sy(u))),s(e,["tools"],r)}const o=a(t,["generationConfig"]);return e!==void 0&&o!=null&&s(e,["generationConfig"],o),n}function FA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["contents"]);if(l!=null){let r=vt(l);Array.isArray(r)&&(r=r.map(u=>yl(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["config"],OA(o,n)),n}function YA(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["contents"]);if(l!=null){let r=vt(l);Array.isArray(r)&&(r=r.map(u=>yl(u))),s(n,["contents"],r)}const o=a(e,["config"]);return o!=null&&s(n,["config"],o),n}function JA(t){const e={},n=a(t,["uri"]);n!=null&&s(e,["gcsUri"],n);const i=a(t,["videoBytes"]);i!=null&&s(e,["bytesBase64Encoded"],on(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function ZA(t,e){const n={},i=a(t,["numberOfVideos"]);e!==void 0&&i!=null&&s(e,["parameters","sampleCount"],i);const l=a(t,["outputGcsUri"]);e!==void 0&&l!=null&&s(e,["parameters","storageUri"],l);const o=a(t,["fps"]);e!==void 0&&o!=null&&s(e,["parameters","fps"],o);const r=a(t,["durationSeconds"]);e!==void 0&&r!=null&&s(e,["parameters","durationSeconds"],r);const u=a(t,["seed"]);e!==void 0&&u!=null&&s(e,["parameters","seed"],u);const c=a(t,["aspectRatio"]);e!==void 0&&c!=null&&s(e,["parameters","aspectRatio"],c);const f=a(t,["resolution"]);e!==void 0&&f!=null&&s(e,["parameters","resolution"],f);const d=a(t,["personGeneration"]);e!==void 0&&d!=null&&s(e,["parameters","personGeneration"],d);const m=a(t,["pubsubTopic"]);e!==void 0&&m!=null&&s(e,["parameters","pubsubTopic"],m);const h=a(t,["negativePrompt"]);e!==void 0&&h!=null&&s(e,["parameters","negativePrompt"],h);const g=a(t,["enhancePrompt"]);e!==void 0&&g!=null&&s(e,["parameters","enhancePrompt"],g);const S=a(t,["generateAudio"]);e!==void 0&&S!=null&&s(e,["parameters","generateAudio"],S);const _=a(t,["lastFrame"]);e!==void 0&&_!=null&&s(e,["instances[0]","lastFrame"],Cs(_));const M=a(t,["compressionQuality"]);return e!==void 0&&M!=null&&s(e,["parameters","compressionQuality"],M),n}function $A(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["_url","model"],ae(t,i));const l=a(e,["prompt"]);l!=null&&s(n,["instances[0]","prompt"],l);const o=a(e,["image"]);o!=null&&s(n,["instances[0]","image"],Cs(o));const r=a(e,["video"]);r!=null&&s(n,["instances[0]","video"],JA(r));const u=a(e,["config"]);return u!=null&&s(n,["config"],ZA(u,n)),n}function XA(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function KA(t){const e={},n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function QA(t){const e={},n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function WA(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],XA(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],KA(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],QA(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function jA(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>WA(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function e2(t){const e={},n=a(t,["citationSources"]);return n!=null&&s(e,["citations"],n),e}function t2(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function n2(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>t2(l))),s(e,["urlMetadata"],i)}return e}function i2(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],jA(n));const i=a(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],e2(i));const l=a(t,["tokenCount"]);l!=null&&s(e,["tokenCount"],l);const o=a(t,["finishReason"]);o!=null&&s(e,["finishReason"],o);const r=a(t,["urlContextMetadata"]);r!=null&&s(e,["urlContextMetadata"],n2(r));const u=a(t,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);const c=a(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const f=a(t,["index"]);f!=null&&s(e,["index"],f);const d=a(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=a(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function Lm(t){const e={},n=a(t,["candidates"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(u=>i2(u))),s(e,["candidates"],r)}const i=a(t,["modelVersion"]);i!=null&&s(e,["modelVersion"],i);const l=a(t,["promptFeedback"]);l!=null&&s(e,["promptFeedback"],l);const o=a(t,["usageMetadata"]);return o!=null&&s(e,["usageMetadata"],o),e}function l2(t){const e={},n=a(t,["values"]);return n!=null&&s(e,["values"],n),e}function o2(){return{}}function a2(t){const e={},n=a(t,["embeddings"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>l2(o))),s(e,["embeddings"],l)}return a(t,["metadata"])!=null&&s(e,["metadata"],o2()),e}function s2(t){const e={},n=a(t,["bytesBase64Encoded"]);n!=null&&s(e,["imageBytes"],on(n));const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function Cy(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&s(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&s(e,["scores"],i);const l=a(t,["contentType"]);return l!=null&&s(e,["contentType"],l),e}function r2(t){const e={},n=a(t,["_self"]);n!=null&&s(e,["image"],s2(n));const i=a(t,["raiFilteredReason"]);i!=null&&s(e,["raiFilteredReason"],i);const l=a(t,["_self"]);return l!=null&&s(e,["safetyAttributes"],Cy(l)),e}function u2(t){const e={},n=a(t,["predictions"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>r2(o))),s(e,["generatedImages"],l)}const i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&s(e,["positivePromptSafetyAttributes"],Cy(i)),e}function c2(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&s(e,["createTime"],i);const l=a(t,["updateTime"]);return l!=null&&s(e,["updateTime"],l),e}function Cu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["version"]);o!=null&&s(e,["version"],o);const r=a(t,["_self"]);r!=null&&s(e,["tunedModelInfo"],c2(r));const u=a(t,["inputTokenLimit"]);u!=null&&s(e,["inputTokenLimit"],u);const c=a(t,["outputTokenLimit"]);c!=null&&s(e,["outputTokenLimit"],c);const f=a(t,["supportedGenerationMethods"]);return f!=null&&s(e,["supportedActions"],f),e}function f2(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["_self"]);if(i!=null){let l=ay(i);Array.isArray(l)&&(l=l.map(o=>Cu(o))),s(e,["models"],l)}return e}function d2(){return{}}function m2(t){const e={},n=a(t,["totalTokens"]);n!=null&&s(e,["totalTokens"],n);const i=a(t,["cachedContentTokenCount"]);return i!=null&&s(e,["cachedContentTokenCount"],i),e}function h2(t){const e={},n=a(t,["video","uri"]);n!=null&&s(e,["uri"],n);const i=a(t,["video","encodedVideo"]);i!=null&&s(e,["videoBytes"],on(i));const l=a(t,["encoding"]);return l!=null&&s(e,["mimeType"],l),e}function p2(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],h2(n)),e}function g2(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>p2(r))),s(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function y2(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);o!=null&&s(e,["error"],o);const r=a(t,["response","generateVideoResponse"]);return r!=null&&s(e,["response"],g2(r)),e}function v2(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function T2(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["data"]);i!=null&&s(e,["data"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function S2(t){const e={},n=a(t,["displayName"]);n!=null&&s(e,["displayName"],n);const i=a(t,["fileUri"]);i!=null&&s(e,["fileUri"],i);const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function C2(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],v2(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],T2(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],S2(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function _2(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>C2(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function x2(t){const e={},n=a(t,["citations"]);return n!=null&&s(e,["citations"],n),e}function E2(t){const e={},n=a(t,["retrievedUrl"]);n!=null&&s(e,["retrievedUrl"],n);const i=a(t,["urlRetrievalStatus"]);return i!=null&&s(e,["urlRetrievalStatus"],i),e}function A2(t){const e={},n=a(t,["urlMetadata"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>E2(l))),s(e,["urlMetadata"],i)}return e}function M2(t){const e={},n=a(t,["content"]);n!=null&&s(e,["content"],_2(n));const i=a(t,["citationMetadata"]);i!=null&&s(e,["citationMetadata"],x2(i));const l=a(t,["finishMessage"]);l!=null&&s(e,["finishMessage"],l);const o=a(t,["finishReason"]);o!=null&&s(e,["finishReason"],o);const r=a(t,["urlContextMetadata"]);r!=null&&s(e,["urlContextMetadata"],A2(r));const u=a(t,["avgLogprobs"]);u!=null&&s(e,["avgLogprobs"],u);const c=a(t,["groundingMetadata"]);c!=null&&s(e,["groundingMetadata"],c);const f=a(t,["index"]);f!=null&&s(e,["index"],f);const d=a(t,["logprobsResult"]);d!=null&&s(e,["logprobsResult"],d);const m=a(t,["safetyRatings"]);return m!=null&&s(e,["safetyRatings"],m),e}function Vm(t){const e={},n=a(t,["candidates"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>M2(f))),s(e,["candidates"],c)}const i=a(t,["createTime"]);i!=null&&s(e,["createTime"],i);const l=a(t,["responseId"]);l!=null&&s(e,["responseId"],l);const o=a(t,["modelVersion"]);o!=null&&s(e,["modelVersion"],o);const r=a(t,["promptFeedback"]);r!=null&&s(e,["promptFeedback"],r);const u=a(t,["usageMetadata"]);return u!=null&&s(e,["usageMetadata"],u),e}function N2(t){const e={},n=a(t,["truncated"]);n!=null&&s(e,["truncated"],n);const i=a(t,["token_count"]);return i!=null&&s(e,["tokenCount"],i),e}function R2(t){const e={},n=a(t,["values"]);n!=null&&s(e,["values"],n);const i=a(t,["statistics"]);return i!=null&&s(e,["statistics"],N2(i)),e}function b2(t){const e={},n=a(t,["billableCharacterCount"]);return n!=null&&s(e,["billableCharacterCount"],n),e}function D2(t){const e={},n=a(t,["predictions[]","embeddings"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>R2(o))),s(e,["embeddings"],l)}const i=a(t,["metadata"]);return i!=null&&s(e,["metadata"],b2(i)),e}function w2(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["gcsUri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&s(e,["imageBytes"],on(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function _y(t){const e={},n=a(t,["safetyAttributes","categories"]);n!=null&&s(e,["categories"],n);const i=a(t,["safetyAttributes","scores"]);i!=null&&s(e,["scores"],i);const l=a(t,["contentType"]);return l!=null&&s(e,["contentType"],l),e}function Nc(t){const e={},n=a(t,["_self"]);n!=null&&s(e,["image"],w2(n));const i=a(t,["raiFilteredReason"]);i!=null&&s(e,["raiFilteredReason"],i);const l=a(t,["_self"]);l!=null&&s(e,["safetyAttributes"],_y(l));const o=a(t,["prompt"]);return o!=null&&s(e,["enhancedPrompt"],o),e}function k2(t){const e={},n=a(t,["predictions"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>Nc(o))),s(e,["generatedImages"],l)}const i=a(t,["positivePromptSafetyAttributes"]);return i!=null&&s(e,["positivePromptSafetyAttributes"],_y(i)),e}function U2(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Nc(l))),s(e,["generatedImages"],i)}return e}function I2(t){const e={},n=a(t,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>Nc(l))),s(e,["generatedImages"],i)}return e}function L2(t){const e={},n=a(t,["endpoint"]);n!=null&&s(e,["name"],n);const i=a(t,["deployedModelId"]);return i!=null&&s(e,["deployedModelId"],i),e}function V2(t){const e={},n=a(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["createTime"]);i!=null&&s(e,["createTime"],i);const l=a(t,["updateTime"]);return l!=null&&s(e,["updateTime"],l),e}function P2(t){const e={},n=a(t,["checkpointId"]);n!=null&&s(e,["checkpointId"],n);const i=a(t,["epoch"]);i!=null&&s(e,["epoch"],i);const l=a(t,["step"]);return l!=null&&s(e,["step"],l),e}function _u(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["displayName"]);i!=null&&s(e,["displayName"],i);const l=a(t,["description"]);l!=null&&s(e,["description"],l);const o=a(t,["versionId"]);o!=null&&s(e,["version"],o);const r=a(t,["deployedModels"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(h=>L2(h))),s(e,["endpoints"],m)}const u=a(t,["labels"]);u!=null&&s(e,["labels"],u);const c=a(t,["_self"]);c!=null&&s(e,["tunedModelInfo"],V2(c));const f=a(t,["defaultCheckpointId"]);f!=null&&s(e,["defaultCheckpointId"],f);const d=a(t,["checkpoints"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(h=>P2(h))),s(e,["checkpoints"],m)}return e}function q2(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["_self"]);if(i!=null){let l=ay(i);Array.isArray(l)&&(l=l.map(o=>_u(o))),s(e,["models"],l)}return e}function G2(){return{}}function B2(t){const e={},n=a(t,["totalTokens"]);return n!=null&&s(e,["totalTokens"],n),e}function z2(t){const e={},n=a(t,["tokensInfo"]);return n!=null&&s(e,["tokensInfo"],n),e}function H2(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&s(e,["videoBytes"],on(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function O2(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],H2(n)),e}function F2(t){const e={},n=a(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>O2(r))),s(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function Y2(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);o!=null&&s(e,["error"],o);const r=a(t,["response"]);return r!=null&&s(e,["response"],F2(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const J2="Content-Type",Z2="X-Server-Timeout",$2="User-Agent",xu="x-goog-api-client",X2="1.8.0",K2=`google-genai-sdk/${X2}`,Q2="v1beta1",W2="v1beta",Pm=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class j2{constructor(e){var n,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:Q2,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:W2,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,i){const l=[this.getRequestUrlInternal(n)];return i&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,i);if(e.queryParams)for(const[r,u]of Object.entries(e.queryParams))l.searchParams.append(r,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(l,o,e.httpMethod)}patchHttpOptions(e,n){const i=JSON.parse(JSON.stringify(e));for(const[l,o]of Object.entries(n))typeof o=="object"?i[l]=Object.assign(Object.assign({},i[l]),o):o!==void 0&&(i[l]=o);return i}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,i);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(l,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,i){if(n&&n.timeout||i){const l=new AbortController,o=l.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>l.abort(),n.timeout),i&&i.addEventListener("abort",()=>{l.abort()}),e.signal=o}return n&&n.extraBody!==null&&eM(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async l=>(await qm(l),new pu(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,n,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:i})).then(async l=>(await qm(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var n;return Fi(this,arguments,function*(){const l=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let r="";for(;;){const{done:u,value:c}=yield pe(l.read());if(u){if(r.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=o.decode(c);try{const m=JSON.parse(f);if("error"in m){const h=JSON.parse(JSON.stringify(m.error)),g=h.status,S=h.code,_=`got status: ${g}. ${JSON.stringify(m)}`;if(S>=400&&S<600)throw new Ts({message:_,status:S})}}catch(m){if(m.name==="ApiError")throw m}r+=f;let d=r.match(Pm);for(;d;){const m=d[1];try{const h=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield pe(new pu(h)),r=r.slice(d[0].length),d=r.match(Pm)}catch(h){throw new Error(`exception parsing stream chunk ${m}. ${h}`)}}}}finally{l.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},n=K2+" "+this.clientOptions.userAgentExtra;return e[$2]=n,e[xu]=n,e[J2]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[i,l]of Object.entries(e.headers))n.append(i,l);e.timeout&&e.timeout>0&&n.append(Z2,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var i;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const o=this.clientOptions.uploader,r=await o.stat(e);l.sizeBytes=String(r.size);const u=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:r.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=u;const c=await this.fetchUploadUrl(l,n);return o.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var i;let l={};n!=null&&n.httpOptions?l=n.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},r=await this.request({path:V("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!r||!(r!=null&&r.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(i=r==null?void 0:r.headers)===null||i===void 0?void 0:i["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function qm(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=JSON.stringify(i);throw n>=400&&n<600?new Ts({message:l,status:n}):new Error(l)}}function eM(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(o,r){const u=Object.assign({},o);for(const c in r)if(Object.prototype.hasOwnProperty.call(r,c)){const f=r[c],d=u[c];f&&typeof f=="object"&&!Array.isArray(f)&&d&&typeof d=="object"&&!Array.isArray(d)?u[c]=i(d,f):(d&&f&&typeof d!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof d}, New type: ${typeof f}. Overwriting.`),u[c]=f)}return u}const l=i(n,e);t.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tM="mcp_used/unknown";function xy(t){for(const e of t)if(Rc(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Ey(t){var e;const n=(e=t[xu])!==null&&e!==void 0?e:"";t[xu]=(n+` ${tM}`).trimStart()}function nM(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>Rc(l)))!==null&&i!==void 0?i:!1}function iM(t){var e,n,i;return(i=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>!Rc(l)))!==null&&i!==void 0?i:!1}function Rc(t){return t!==null&&typeof t=="object"&&t instanceof bc}function lM(t,e=100){return Fi(this,arguments,function*(){let i,l=0;for(;l<e;){const o=yield pe(t.listTools({cursor:i}));for(const r of o.tools)yield yield pe(r),l++;if(!o.nextCursor)break;i=o.nextCursor}})}class bc{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new bc(e,n)}async initialize(){var e,n,i,l;if(this.mcpTools.length>0)return;const o={},r=[];for(const d of this.mcpClients)try{for(var u=!0,c=(n=void 0,Xl(lM(d))),f;f=await c.next(),e=f.done,!e;u=!0){l=f.value,u=!1;const m=l;r.push(m);const h=m.name;if(o[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);o[h]=d}}catch(m){n={error:m}}finally{try{!u&&!e&&(i=c.return)&&await i.call(c)}finally{if(n)throw n.error}}this.mcpTools=r,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),QS(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[i.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const r=await l.callTool({name:i.name,arguments:i.args},void 0,o);n.push({functionResponse:{name:i.name,response:r.isError?{error:r}:r}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function oM(t,e,n){const i=new BS;let l;n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data);const o=mE(l);Object.assign(i,o),e(i)}class aM{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i}async connect(e){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),r=uM(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${l}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let f=()=>{};const d=new Promise(T=>{f=T}),m=e.callbacks,h=function(){f({})},g=this.apiClient,S={onopen:h,onmessage:T=>{oM(g,m.onmessage,T)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(T){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(T){}},_=this.webSocketFactory.create(c,rM(r),S);_.connect(),await d;const M=ae(this.apiClient,e.model),v=yy({model:M}),y=Su({setup:v});return _.send(JSON.stringify(y)),new sM(_,this.apiClient)}}class sM{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=N1(e),i=vy(n);this.conn.send(JSON.stringify({clientContent:i}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=R1(e),i=Su(n);this.conn.send(JSON.stringify(i))}sendPlaybackControl(e){const n=Su({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Ii.PLAY)}pause(){this.sendPlaybackControl(Ii.PAUSE)}stop(){this.sendPlaybackControl(Ii.STOP)}resetContext(){this.sendPlaybackControl(Ii.RESET_CONTEXT)}close(){this.conn.close()}}function rM(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function uM(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cM="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function fM(t,e,n){const i=new GS;let l;n.data instanceof Blob?l=await n.data.text():n.data instanceof ArrayBuffer?l=new TextDecoder().decode(n.data):l=n.data;const o=JSON.parse(l);if(t.isVertexAI()){const r=lE(o);Object.assign(i,r)}else{const r=iE(o);Object.assign(i,r)}e(i)}class dM{constructor(e,n,i){this.apiClient=e,this.auth=n,this.webSocketFactory=i,this.music=new aM(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,i,l,o,r,u;const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let d;const m=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&xy(e.config.tools)&&Ey(m);const h=gM(m);if(this.apiClient.isVertexAI())d=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h);else{const b=this.apiClient.getApiKey();let k="BidiGenerateContent",P="key";b!=null&&b.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),k="BidiGenerateContentConstrained",P="access_token"),d=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${k}?${P}=${b}`}let g=()=>{};const S=new Promise(b=>{g=b}),_=e.callbacks,M=function(){var b;(b=_==null?void 0:_.onopen)===null||b===void 0||b.call(_),g({})},v=this.apiClient,y={onopen:M,onmessage:b=>{fM(v,_.onmessage,b)},onerror:(n=_==null?void 0:_.onerror)!==null&&n!==void 0?n:function(b){},onclose:(i=_==null?void 0:_.onclose)!==null&&i!==void 0?i:function(b){}},T=this.webSocketFactory.create(d,pM(h),y);T.connect(),await S;let C=ae(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const b=this.apiClient.getProject(),k=this.apiClient.getLocation();C=`projects/${b}/locations/${k}/`+C}let x={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Wa.AUDIO]}:e.config.responseModalities=[Wa.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const D=(u=(r=e.config)===null||r===void 0?void 0:r.tools)!==null&&u!==void 0?u:[],N=[];for(const b of D)if(this.isCallableTool(b)){const k=b;N.push(await k.tool())}else N.push(b);N.length>0&&(e.config.tools=N);const E={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?x=S1(this.apiClient,E):x=T1(this.apiClient,E),delete x.config,T.send(JSON.stringify(x)),new hM(T,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const mM={turnComplete:!0};class hM{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=vt(n.turns),e.isVertexAI()?i=i.map(l=>yl(l)):i=i.map(l=>Ss(l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const o of i){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(cM)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},mM),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:M1(e)}:n={realtimeInput:A1(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function pM(t){const e={};return t.forEach((n,i)=>{e[i]=n}),e}function gM(t){const e=new Headers;for(const[n,i]of Object.entries(t))e.append(n,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Gm=10;function Bm(t){var e,n,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const r of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ha(r)){l=!0;break}if(!l)return!0;const o=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function ha(t){return"callTool"in t&&typeof t.callTool=="function"}function zm(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yM extends fi{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var i,l,o,r,u;const c=await this.processParamsForMcpUsage(n);if(!nM(n)||Bm(n.config))return await this.generateContentInternal(c);if(iM(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let f,d;const m=vt(c.contents),h=(o=(l=(i=c.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&o!==void 0?o:Gm;let g=0;for(;g<h&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const S=f.candidates[0].content,_=[];for(const M of(u=(r=n.config)===null||r===void 0?void 0:r.tools)!==null&&u!==void 0?u:[])if(ha(M)){const y=await M.callTool(f.functionCalls);_.push(...y)}g++,d={role:"user",parts:_},c.contents=vt(c.contents),c.contents.push(S),c.contents.push(d),zm(c.config)&&(m.push(S),m.push(d))}return zm(c.config)&&(f.automaticFunctionCallingHistory=m),f},this.generateContentStream=async n=>{if(Bm(n.config)){const i=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(i)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var l;let o;const r=[];if(i!=null&&i.generatedImages)for(const c of i.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((l=c==null?void 0:c.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:r.push(c);let u;return o?u={generatedImages:r,positivePromptSafetyAttributes:o}:u={generatedImages:r},u}),this.list=async n=>{var i;const r={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!r.config.queryBase){if(!((i=r.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");r.config.filter="labels.tune-type:*"}return new bo(ai.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(r),r)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const l={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(l)}}async processParamsForMcpUsage(e){var n,i,l;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const r=await Promise.all(o.map(async c=>ha(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:r})};if(u.config.tools=r,e.config&&e.config.tools&&xy(e.config.tools)){const c=(l=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),Ey(f),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return u}async initAfcToolsMap(e){var n,i,l;const o=new Map;for(const r of(i=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if(ha(r)){const u=r,c=await u.tool();for(const f of(l=c.functionDeclarations)!==null&&l!==void 0?l:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,u)}}return o}async processAfcStream(e){var n,i,l;const o=(l=(i=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:Gm;let r=!1,u=0;const c=await this.initAfcToolsMap(e);return function(f,d,m){var h,g;return Fi(this,arguments,function*(){for(var S,_,M,v;u<o;){r&&(u++,r=!1);const x=yield pe(f.processParamsForMcpUsage(m)),D=yield pe(f.generateContentStreamInternal(x)),N=[],E=[];try{for(var y=!0,T=(_=void 0,Xl(D)),C;C=yield pe(T.next()),S=C.done,!S;y=!0){v=C.value,y=!1;const b=v;if(yield yield pe(b),b.candidates&&(!((h=b.candidates[0])===null||h===void 0)&&h.content)){E.push(b.candidates[0].content);for(const k of(g=b.candidates[0].content.parts)!==null&&g!==void 0?g:[])if(u<o&&k.functionCall){if(!k.functionCall.name)throw new Error("Function call name was not returned by the model.");if(d.has(k.functionCall.name)){const P=yield pe(d.get(k.functionCall.name).callTool([k.functionCall]));N.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${d.keys()}, mising tool: ${k.functionCall.name}`)}}}}catch(b){_={error:b}}finally{try{!y&&!S&&(M=T.return)&&(yield pe(M.call(T)))}finally{if(_)throw _.error}}if(N.length>0){r=!0;const b=new Nl;b.candidates=[{content:{role:"user",parts:N}}],yield yield pe(b);const k=[];k.push(...E),k.push({role:"user",parts:N});const P=vt(m.contents).concat(k);m.contents=P}else break}})}(this,c,e)}async generateContentInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Im(this.apiClient,e);return u=V("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=Vm(d),h=new Nl;return Object.assign(h,m),h})}else{const f=Um(this.apiClient,e);return u=V("{model}:generateContent",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=Lm(d),h=new Nl;return Object.assign(h,m),h})}}async generateContentStreamInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=Im(this.apiClient,e);return u=V("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),r.then(function(m){return Fi(this,arguments,function*(){var h,g,S,_;try{for(var M=!0,v=Xl(m),y;y=yield pe(v.next()),h=y.done,!h;M=!0){_=y.value,M=!1;const C=Vm(yield pe(_.json())),x=new Nl;Object.assign(x,C),yield yield pe(x)}}catch(T){g={error:T}}finally{try{!M&&!h&&(S=v.return)&&(yield pe(S.call(v)))}finally{if(g)throw g.error}}})})}else{const f=Um(this.apiClient,e);return u=V("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),r.then(function(m){return Fi(this,arguments,function*(){var h,g,S,_;try{for(var M=!0,v=Xl(m),y;y=yield pe(v.next()),h=y.done,!h;M=!0){_=y.value,M=!1;const C=Lm(yield pe(_.json())),x=new Nl;Object.assign(x,C),yield yield pe(x)}}catch(T){g={error:T}}finally{try{!M&&!h&&(S=v.return)&&(yield pe(S.call(v)))}finally{if(g)throw g.error}}})})}}async embedContent(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=AA(this.apiClient,e);return u=V("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=D2(d),h=new dm;return Object.assign(h,m),h})}else{const f=qE(this.apiClient,e);return u=V("{model}:batchEmbedContents",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=a2(d),h=new dm;return Object.assign(h,m),h})}}async generateImagesInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=NA(this.apiClient,e);return u=V("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=k2(d),h=new mm;return Object.assign(h,m),h})}else{const f=BE(this.apiClient,e);return u=V("{model}:predict",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=u2(d),h=new mm;return Object.assign(h,m),h})}}async editImageInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=IA(this.apiClient,e);return o=V("{model}:predict",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=U2(c),d=new US;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=VA(this.apiClient,e);return o=V("{model}:predict",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=I2(c),d=new IS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=PA(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>_u(d))}else{const f=zE(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>Cu(d))}}async listInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=GA(this.apiClient,e);return u=V("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=q2(d),h=new hm;return Object.assign(h,m),h})}else{const f=OE(this.apiClient,e);return u=V("{models_url}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=f2(d),h=new hm;return Object.assign(h,m),h})}}async update(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=zA(this.apiClient,e);return u=V("{model}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>_u(d))}else{const f=YE(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>Cu(d))}}async delete(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=HA(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(()=>{const d=G2(),m=new pm;return Object.assign(m,d),m})}else{const f=JE(this.apiClient,e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(()=>{const d=d2(),m=new pm;return Object.assign(m,d),m})}}async countTokens(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=FA(this.apiClient,e);return u=V("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=B2(d),h=new gm;return Object.assign(h,m),h})}else{const f=$E(this.apiClient,e);return u=V("{model}:countTokens",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=m2(d),h=new gm;return Object.assign(h,m),h})}}async computeTokens(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=YA(this.apiClient,e);return o=V("{model}:computeTokens",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>{const f=z2(c),d=new LS;return Object.assign(d,f),d})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=$A(this.apiClient,e);return u=V("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Y2(d))}else{const f=QE(this.apiClient,e);return u=V("{model}:predictLongRunning",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>y2(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vM(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["_url","operationName"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function TM(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["_url","operationName"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function SM(t){const e={},n=a(t,["operationName"]);n!=null&&s(e,["operationName"],n);const i=a(t,["resourceName"]);i!=null&&s(e,["_url","resourceName"],i);const l=a(t,["config"]);return l!=null&&s(e,["config"],l),e}function CM(t){const e={},n=a(t,["video","uri"]);n!=null&&s(e,["uri"],n);const i=a(t,["video","encodedVideo"]);i!=null&&s(e,["videoBytes"],on(i));const l=a(t,["encoding"]);return l!=null&&s(e,["mimeType"],l),e}function _M(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],CM(n)),e}function xM(t){const e={},n=a(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>_M(r))),s(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function EM(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);o!=null&&s(e,["error"],o);const r=a(t,["response","generateVideoResponse"]);return r!=null&&s(e,["response"],xM(r)),e}function AM(t){const e={},n=a(t,["gcsUri"]);n!=null&&s(e,["uri"],n);const i=a(t,["bytesBase64Encoded"]);i!=null&&s(e,["videoBytes"],on(i));const l=a(t,["mimeType"]);return l!=null&&s(e,["mimeType"],l),e}function MM(t){const e={},n=a(t,["_self"]);return n!=null&&s(e,["video"],AM(n)),e}function NM(t){const e={},n=a(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(r=>MM(r))),s(e,["generatedVideos"],o)}const i=a(t,["raiMediaFilteredCount"]);i!=null&&s(e,["raiMediaFilteredCount"],i);const l=a(t,["raiMediaFilteredReasons"]);return l!=null&&s(e,["raiMediaFilteredReasons"],l),e}function Hm(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);o!=null&&s(e,["error"],o);const r=a(t,["response"]);return r!=null&&s(e,["response"],NM(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class RM extends fi{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,i=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let o;return i&&"httpOptions"in i&&(o=i.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:n.name,config:i})}async getVideosOperationInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=TM(e);return u=V("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Hm(d))}else{const f=vM(e);return u=V("{operationName}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>EM(d))}}async fetchPredictVideosOperationInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=SM(e);return o=V("{resourceName}:fetchPredictOperation",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>Hm(c))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bM(t){const e={},n=a(t,["voiceName"]);return n!=null&&s(e,["voiceName"],n),e}function Ay(t){const e={},n=a(t,["prebuiltVoiceConfig"]);return n!=null&&s(e,["prebuiltVoiceConfig"],bM(n)),e}function DM(t){const e={},n=a(t,["speaker"]);n!=null&&s(e,["speaker"],n);const i=a(t,["voiceConfig"]);return i!=null&&s(e,["voiceConfig"],Ay(i)),e}function wM(t){const e={},n=a(t,["speakerVoiceConfigs"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>DM(l))),s(e,["speakerVoiceConfigs"],i)}return e}function kM(t){const e={},n=a(t,["voiceConfig"]);n!=null&&s(e,["voiceConfig"],Ay(n));const i=a(t,["multiSpeakerVoiceConfig"]);i!=null&&s(e,["multiSpeakerVoiceConfig"],wM(i));const l=a(t,["languageCode"]);return l!=null&&s(e,["languageCode"],l),e}function UM(t){const e={},n=a(t,["fps"]);n!=null&&s(e,["fps"],n);const i=a(t,["endOffset"]);i!=null&&s(e,["endOffset"],i);const l=a(t,["startOffset"]);return l!=null&&s(e,["startOffset"],l),e}function IM(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["data"]);n!=null&&s(e,["data"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function LM(t){const e={};if(a(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=a(t,["fileUri"]);n!=null&&s(e,["fileUri"],n);const i=a(t,["mimeType"]);return i!=null&&s(e,["mimeType"],i),e}function VM(t){const e={},n=a(t,["videoMetadata"]);n!=null&&s(e,["videoMetadata"],UM(n));const i=a(t,["thought"]);i!=null&&s(e,["thought"],i);const l=a(t,["inlineData"]);l!=null&&s(e,["inlineData"],IM(l));const o=a(t,["fileData"]);o!=null&&s(e,["fileData"],LM(o));const r=a(t,["thoughtSignature"]);r!=null&&s(e,["thoughtSignature"],r);const u=a(t,["codeExecutionResult"]);u!=null&&s(e,["codeExecutionResult"],u);const c=a(t,["executableCode"]);c!=null&&s(e,["executableCode"],c);const f=a(t,["functionCall"]);f!=null&&s(e,["functionCall"],f);const d=a(t,["functionResponse"]);d!=null&&s(e,["functionResponse"],d);const m=a(t,["text"]);return m!=null&&s(e,["text"],m),e}function PM(t){const e={},n=a(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>VM(o))),s(e,["parts"],l)}const i=a(t,["role"]);return i!=null&&s(e,["role"],i),e}function qM(t){const e={},n=a(t,["behavior"]);n!=null&&s(e,["behavior"],n);const i=a(t,["description"]);i!=null&&s(e,["description"],i);const l=a(t,["name"]);l!=null&&s(e,["name"],l);const o=a(t,["parameters"]);o!=null&&s(e,["parameters"],o);const r=a(t,["parametersJsonSchema"]);r!=null&&s(e,["parametersJsonSchema"],r);const u=a(t,["response"]);u!=null&&s(e,["response"],u);const c=a(t,["responseJsonSchema"]);return c!=null&&s(e,["responseJsonSchema"],c),e}function GM(t){const e={},n=a(t,["startTime"]);n!=null&&s(e,["startTime"],n);const i=a(t,["endTime"]);return i!=null&&s(e,["endTime"],i),e}function BM(t){const e={},n=a(t,["timeRangeFilter"]);return n!=null&&s(e,["timeRangeFilter"],GM(n)),e}function zM(t){const e={},n=a(t,["mode"]);n!=null&&s(e,["mode"],n);const i=a(t,["dynamicThreshold"]);return i!=null&&s(e,["dynamicThreshold"],i),e}function HM(t){const e={},n=a(t,["dynamicRetrievalConfig"]);return n!=null&&s(e,["dynamicRetrievalConfig"],zM(n)),e}function OM(){return{}}function FM(t){const e={},n=a(t,["functionDeclarations"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(f=>qM(f))),s(e,["functionDeclarations"],c)}if(a(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=a(t,["googleSearch"]);i!=null&&s(e,["googleSearch"],BM(i));const l=a(t,["googleSearchRetrieval"]);if(l!=null&&s(e,["googleSearchRetrieval"],HM(l)),a(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(a(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");a(t,["urlContext"])!=null&&s(e,["urlContext"],OM());const r=a(t,["codeExecution"]);r!=null&&s(e,["codeExecution"],r);const u=a(t,["computerUse"]);return u!=null&&s(e,["computerUse"],u),e}function YM(t){const e={},n=a(t,["handle"]);if(n!=null&&s(e,["handle"],n),a(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Om(){return{}}function JM(t){const e={},n=a(t,["disabled"]);n!=null&&s(e,["disabled"],n);const i=a(t,["startOfSpeechSensitivity"]);i!=null&&s(e,["startOfSpeechSensitivity"],i);const l=a(t,["endOfSpeechSensitivity"]);l!=null&&s(e,["endOfSpeechSensitivity"],l);const o=a(t,["prefixPaddingMs"]);o!=null&&s(e,["prefixPaddingMs"],o);const r=a(t,["silenceDurationMs"]);return r!=null&&s(e,["silenceDurationMs"],r),e}function ZM(t){const e={},n=a(t,["automaticActivityDetection"]);n!=null&&s(e,["automaticActivityDetection"],JM(n));const i=a(t,["activityHandling"]);i!=null&&s(e,["activityHandling"],i);const l=a(t,["turnCoverage"]);return l!=null&&s(e,["turnCoverage"],l),e}function $M(t){const e={},n=a(t,["targetTokens"]);return n!=null&&s(e,["targetTokens"],n),e}function XM(t){const e={},n=a(t,["triggerTokens"]);n!=null&&s(e,["triggerTokens"],n);const i=a(t,["slidingWindow"]);return i!=null&&s(e,["slidingWindow"],$M(i)),e}function KM(t){const e={},n=a(t,["proactiveAudio"]);return n!=null&&s(e,["proactiveAudio"],n),e}function QM(t,e){const n={},i=a(t,["generationConfig"]);e!==void 0&&i!=null&&s(e,["setup","generationConfig"],i);const l=a(t,["responseModalities"]);e!==void 0&&l!=null&&s(e,["setup","generationConfig","responseModalities"],l);const o=a(t,["temperature"]);e!==void 0&&o!=null&&s(e,["setup","generationConfig","temperature"],o);const r=a(t,["topP"]);e!==void 0&&r!=null&&s(e,["setup","generationConfig","topP"],r);const u=a(t,["topK"]);e!==void 0&&u!=null&&s(e,["setup","generationConfig","topK"],u);const c=a(t,["maxOutputTokens"]);e!==void 0&&c!=null&&s(e,["setup","generationConfig","maxOutputTokens"],c);const f=a(t,["mediaResolution"]);e!==void 0&&f!=null&&s(e,["setup","generationConfig","mediaResolution"],f);const d=a(t,["seed"]);e!==void 0&&d!=null&&s(e,["setup","generationConfig","seed"],d);const m=a(t,["speechConfig"]);e!==void 0&&m!=null&&s(e,["setup","generationConfig","speechConfig"],kM(Mc(m)));const h=a(t,["enableAffectiveDialog"]);e!==void 0&&h!=null&&s(e,["setup","generationConfig","enableAffectiveDialog"],h);const g=a(t,["systemInstruction"]);e!==void 0&&g!=null&&s(e,["setup","systemInstruction"],PM(Oe(g)));const S=a(t,["tools"]);if(e!==void 0&&S!=null){let x=pl(S);Array.isArray(x)&&(x=x.map(D=>FM(hl(D)))),s(e,["setup","tools"],x)}const _=a(t,["sessionResumption"]);e!==void 0&&_!=null&&s(e,["setup","sessionResumption"],YM(_));const M=a(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&s(e,["setup","inputAudioTranscription"],Om());const v=a(t,["outputAudioTranscription"]);e!==void 0&&v!=null&&s(e,["setup","outputAudioTranscription"],Om());const y=a(t,["realtimeInputConfig"]);e!==void 0&&y!=null&&s(e,["setup","realtimeInputConfig"],ZM(y));const T=a(t,["contextWindowCompression"]);e!==void 0&&T!=null&&s(e,["setup","contextWindowCompression"],XM(T));const C=a(t,["proactivity"]);return e!==void 0&&C!=null&&s(e,["setup","proactivity"],KM(C)),n}function WM(t,e){const n={},i=a(e,["model"]);i!=null&&s(n,["setup","model"],ae(t,i));const l=a(e,["config"]);return l!=null&&s(n,["config"],QM(l,n)),n}function jM(t,e,n){const i={},l=a(e,["expireTime"]);n!==void 0&&l!=null&&s(n,["expireTime"],l);const o=a(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&s(n,["newSessionExpireTime"],o);const r=a(e,["uses"]);n!==void 0&&r!=null&&s(n,["uses"],r);const u=a(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&s(n,["bidiGenerateContentSetup"],WM(t,u));const c=a(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&s(n,["fieldMask"],c),i}function eN(t,e){const n={},i=a(e,["config"]);return i!=null&&s(n,["config"],jM(t,i,n)),n}function tN(t){const e={},n=a(t,["name"]);return n!=null&&s(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nN(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const i=t[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const l=Object.keys(i).map(o=>`${n}.${o}`);e.push(...l)}else e.push(n)}return e.join(",")}function iN(t,e){let n=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const o=i.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const l=t.fieldMask;if(n){const o=nN(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const r=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];l.length>0&&(u=l.map(f=>r.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?t.fieldMask=l.join(","):delete t.fieldMask;return t}class lN extends fi{constructor(e){super(),this.apiClient=e}async create(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=eN(this.apiClient,e);o=V("auth_tokens",u._url),r=u._query,delete u.config,delete u._url,delete u._query;const c=iN(u,e.config);return l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>tN(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oN(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function aN(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const o=a(t,["filter"]);return e!==void 0&&o!=null&&s(e,["_query","filter"],o),n}function sN(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],aN(n,e)),e}function rN(t){const e={},n=a(t,["textInput"]);n!=null&&s(e,["textInput"],n);const i=a(t,["output"]);return i!=null&&s(e,["output"],i),e}function uN(t){const e={};if(a(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(a(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const n=a(t,["examples"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>rN(l))),s(e,["examples","examples"],i)}return e}function cN(t,e){const n={};if(a(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=a(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&s(e,["displayName"],i),a(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=a(t,["epochCount"]);e!==void 0&&l!=null&&s(e,["tuningTask","hyperparameters","epochCount"],l);const o=a(t,["learningRateMultiplier"]);if(o!=null&&s(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),a(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(a(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const r=a(t,["batchSize"]);e!==void 0&&r!=null&&s(e,["tuningTask","hyperparameters","batchSize"],r);const u=a(t,["learningRate"]);return e!==void 0&&u!=null&&s(e,["tuningTask","hyperparameters","learningRate"],u),n}function fN(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["trainingDataset"]);i!=null&&s(e,["tuningTask","trainingData"],uN(i));const l=a(t,["config"]);return l!=null&&s(e,["config"],cN(l,e)),e}function dN(t){const e={},n=a(t,["name"]);n!=null&&s(e,["_url","name"],n);const i=a(t,["config"]);return i!=null&&s(e,["config"],i),e}function mN(t,e){const n={},i=a(t,["pageSize"]);e!==void 0&&i!=null&&s(e,["_query","pageSize"],i);const l=a(t,["pageToken"]);e!==void 0&&l!=null&&s(e,["_query","pageToken"],l);const o=a(t,["filter"]);return e!==void 0&&o!=null&&s(e,["_query","filter"],o),n}function hN(t){const e={},n=a(t,["config"]);return n!=null&&s(e,["config"],mN(n,e)),e}function pN(t,e){const n={},i=a(t,["gcsUri"]);e!==void 0&&i!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],i);const l=a(t,["vertexDatasetResource"]);if(e!==void 0&&l!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],l),a(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function gN(t,e){const n={},i=a(t,["gcsUri"]);i!=null&&s(n,["validationDatasetUri"],i);const l=a(t,["vertexDatasetResource"]);return e!==void 0&&l!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],l),n}function yN(t,e){const n={},i=a(t,["validationDataset"]);e!==void 0&&i!=null&&s(e,["supervisedTuningSpec"],gN(i,n));const l=a(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&s(e,["tunedModelDisplayName"],l);const o=a(t,["description"]);e!==void 0&&o!=null&&s(e,["description"],o);const r=a(t,["epochCount"]);e!==void 0&&r!=null&&s(e,["supervisedTuningSpec","hyperParameters","epochCount"],r);const u=a(t,["learningRateMultiplier"]);e!==void 0&&u!=null&&s(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const c=a(t,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&s(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const f=a(t,["adapterSize"]);if(e!==void 0&&f!=null&&s(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f),a(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(a(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function vN(t){const e={},n=a(t,["baseModel"]);n!=null&&s(e,["baseModel"],n);const i=a(t,["trainingDataset"]);i!=null&&s(e,["supervisedTuningSpec","trainingDatasetUri"],pN(i,e));const l=a(t,["config"]);return l!=null&&s(e,["config"],yN(l,e)),e}function TN(t){const e={},n=a(t,["name"]);n!=null&&s(e,["model"],n);const i=a(t,["name"]);return i!=null&&s(e,["endpoint"],i),e}function My(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["state"]);i!=null&&s(e,["state"],iy(i));const l=a(t,["createTime"]);l!=null&&s(e,["createTime"],l);const o=a(t,["tuningTask","startTime"]);o!=null&&s(e,["startTime"],o);const r=a(t,["tuningTask","completeTime"]);r!=null&&s(e,["endTime"],r);const u=a(t,["updateTime"]);u!=null&&s(e,["updateTime"],u);const c=a(t,["description"]);c!=null&&s(e,["description"],c);const f=a(t,["baseModel"]);f!=null&&s(e,["baseModel"],f);const d=a(t,["_self"]);d!=null&&s(e,["tunedModel"],TN(d));const m=a(t,["distillationSpec"]);m!=null&&s(e,["distillationSpec"],m);const h=a(t,["experiment"]);h!=null&&s(e,["experiment"],h);const g=a(t,["labels"]);g!=null&&s(e,["labels"],g);const S=a(t,["pipelineJob"]);S!=null&&s(e,["pipelineJob"],S);const _=a(t,["satisfiesPzi"]);_!=null&&s(e,["satisfiesPzi"],_);const M=a(t,["satisfiesPzs"]);M!=null&&s(e,["satisfiesPzs"],M);const v=a(t,["serviceAccount"]);v!=null&&s(e,["serviceAccount"],v);const y=a(t,["tunedModelDisplayName"]);return y!=null&&s(e,["tunedModelDisplayName"],y),e}function SN(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["tunedModels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>My(o))),s(e,["tuningJobs"],l)}return e}function CN(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["metadata"]);i!=null&&s(e,["metadata"],i);const l=a(t,["done"]);l!=null&&s(e,["done"],l);const o=a(t,["error"]);return o!=null&&s(e,["error"],o),e}function _N(t){const e={},n=a(t,["checkpointId"]);n!=null&&s(e,["checkpointId"],n);const i=a(t,["epoch"]);i!=null&&s(e,["epoch"],i);const l=a(t,["step"]);l!=null&&s(e,["step"],l);const o=a(t,["endpoint"]);return o!=null&&s(e,["endpoint"],o),e}function xN(t){const e={},n=a(t,["model"]);n!=null&&s(e,["model"],n);const i=a(t,["endpoint"]);i!=null&&s(e,["endpoint"],i);const l=a(t,["checkpoints"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>_N(r))),s(e,["checkpoints"],o)}return e}function Eu(t){const e={},n=a(t,["name"]);n!=null&&s(e,["name"],n);const i=a(t,["state"]);i!=null&&s(e,["state"],iy(i));const l=a(t,["createTime"]);l!=null&&s(e,["createTime"],l);const o=a(t,["startTime"]);o!=null&&s(e,["startTime"],o);const r=a(t,["endTime"]);r!=null&&s(e,["endTime"],r);const u=a(t,["updateTime"]);u!=null&&s(e,["updateTime"],u);const c=a(t,["error"]);c!=null&&s(e,["error"],c);const f=a(t,["description"]);f!=null&&s(e,["description"],f);const d=a(t,["baseModel"]);d!=null&&s(e,["baseModel"],d);const m=a(t,["tunedModel"]);m!=null&&s(e,["tunedModel"],xN(m));const h=a(t,["supervisedTuningSpec"]);h!=null&&s(e,["supervisedTuningSpec"],h);const g=a(t,["tuningDataStats"]);g!=null&&s(e,["tuningDataStats"],g);const S=a(t,["encryptionSpec"]);S!=null&&s(e,["encryptionSpec"],S);const _=a(t,["partnerModelTuningSpec"]);_!=null&&s(e,["partnerModelTuningSpec"],_);const M=a(t,["distillationSpec"]);M!=null&&s(e,["distillationSpec"],M);const v=a(t,["experiment"]);v!=null&&s(e,["experiment"],v);const y=a(t,["labels"]);y!=null&&s(e,["labels"],y);const T=a(t,["pipelineJob"]);T!=null&&s(e,["pipelineJob"],T);const C=a(t,["satisfiesPzi"]);C!=null&&s(e,["satisfiesPzi"],C);const x=a(t,["satisfiesPzs"]);x!=null&&s(e,["satisfiesPzs"],x);const D=a(t,["serviceAccount"]);D!=null&&s(e,["serviceAccount"],D);const N=a(t,["tunedModelDisplayName"]);return N!=null&&s(e,["tunedModelDisplayName"],N),e}function EN(t){const e={},n=a(t,["nextPageToken"]);n!=null&&s(e,["nextPageToken"],n);const i=a(t,["tuningJobs"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(o=>Eu(o))),s(e,["tuningJobs"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class AN extends fi{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new bo(ai.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const i=await this.tuneMldevInternal(n);let l="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?l=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(l=i.name.split("/operations/")[0]),{name:l,state:hu.JOB_STATE_QUEUED}}}}async getInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=dN(e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>Eu(d))}else{const f=oN(e);return u=V("{name}",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>My(d))}}async listInternal(e){var n,i,l,o;let r,u="",c={};if(this.apiClient.isVertexAI()){const f=hN(e);return u=V("tuningJobs",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),r.then(d=>{const m=EN(d),h=new ym;return Object.assign(h,m),h})}else{const f=sN(e);return u=V("tunedModels",f._url),c=f._query,delete f.config,delete f._url,delete f._query,r=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),r.then(d=>{const m=SN(d),h=new ym;return Object.assign(h,m),h})}}async tuneInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI()){const u=vN(e);return o=V("tuningJobs",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>Eu(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,i;let l,o="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=fN(e);return o=V("tunedModels",u._url),r=u._query,delete u.config,delete u._url,delete u._query,l=this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(c=>c.json()),l.then(c=>CN(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class MN{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const NN=1024*1024*8,RN=3,bN=1e3,DN=2,rr="x-goog-upload-status";async function wN(t,e,n){var i,l,o;let r=0,u=0,c=new pu(new Response),f="upload";for(r=t.size;u<r;){const m=Math.min(NN,r-u),h=t.slice(u,u+m);u+m>=r&&(f+=", finalize");let g=0,S=bN;for(;g<RN&&(c=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":String(u),"Content-Length":String(m)}}}),!(!((i=c==null?void 0:c.headers)===null||i===void 0)&&i[rr]));)g++,await UN(S),S=S*DN;if(u+=m,((l=c==null?void 0:c.headers)===null||l===void 0?void 0:l[rr])!=="active")break;if(r<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const d=await(c==null?void 0:c.json());if(((o=c==null?void 0:c.headers)===null||o===void 0?void 0:o[rr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function kN(t){return{size:t.size,type:t.type}}function UN(t){return new Promise(e=>setTimeout(e,t))}class IN{async upload(e,n,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await wN(e,n,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kN(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LN{create(e,n,i){return new VN(e,n,i)}}class VN{constructor(e,n,i){this.url=e,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fm="x-goog-api-key";class PN{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Fm)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Fm,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qN="gl-node/";class GN{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const i=kS(e,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion;const l=new PN(this.apiKey);this.apiClient=new j2({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:qN+"web",uploader:new IN,downloader:new MN}),this.models=new yM(this.apiClient),this.live=new dM(this.apiClient,l,new LN),this.batches=new a_(this.apiClient),this.chats=new cx(this.models,this.apiClient),this.caches=new sx(this.apiClient),this.files=new xx(this.apiClient),this.operations=new RM(this.apiClient),this.authTokens=new lN(this.apiClient),this.tunings=new AN(this.apiClient)}}const Ny="gemini-2.5-flash-preview-04-17",BN=`
{
  "salespersonEvaluation": {
    "strengths": ["สร้างความสัมพันธ์ได้ดี", "มีความกระตือรือร้นในการนำเสนอ"],
    "areasForImprovement": ["ควรนำเสนอข้อมูลทางเทคนิคให้แม่นยำขึ้น", "เทคนิคการปิดการขายยังไม่เฉียบคม"],
    "communicationStyle": "เป็นมิตรและเข้าถึงง่าย",
    "productKnowledgeScore": 7,
    "closingSkillScore": 6,
    "overallPerformanceScore": 75
  },
  "customerEvaluation": {
    "customerProfile": "ลูกค้าเก่า เคยซื้อสินค้า X เมื่อ 6 เดือนก่อน เป็นผู้ใช้จริงแต่ไม่มีอำนาจตัดสินใจ",
    "interestLevel": 8,
    "painPointsIdentified": ["สินค้าปัจจุบันทำงานช้า", "ต้องการลดต้นทุนการดำเนินงาน"],
    "decisionMakingFactors": ["ราคา", "ความง่ายในการใช้งาน", "บริการหลังการขาย"],
    "purchasingBehavior": {
      "summary": "ลูกค้าเคยซื้อสินค้า 'Product A' 1 ชิ้น และ 'Product B' 2 ชิ้น ในปีที่แล้ว รวมยอดซื้อ 15,000 บาท",
      "buyingFrequency": "ประมาณทุกๆ 6 เดือน",
      "typicalPurchaseVolume": "ซื้อครั้งละ 1-2 รายการ",
      "priceSensitivity": "ค่อนข้างอ่อนไหวต่อราคา ตอบสนองต่อโปรโมชั่นส่วนลด"
    },
    "customerSentiment": "มีความสนใจแต่กังวลเรื่องงบประมาณ"
  },
  "situationalEvaluation": {
    "callSentiment": "เชิงบวกเป็นส่วนใหญ่ มีความกังวลช่วงท้าย",
    "currentSalesStage": "การนำเสนอโซลูชัน",
    "keyTopicsDiscussed": ["ฟีเจอร์ใหม่ของ Product C", "เปรียบเทียบกับคู่แข่ง", "ราคาและโปรโมชั่น"],
    "unresolvedQuestions": ["ต้องการใบเสนอราคาอย่างเป็นทางการ", "ใครคือผู้มีอำนาจอนุมัติสุดท้าย"],
    "callOutcomeSummary": "ลูกค้าร้องขอใบเสนอราคาและจะนำไปปรึกษาทีม แม้ลูกค้าจะสนใจสินค้ามาก แต่ได้แจ้งว่าไม่มีงบประมาณสำหรับโครงการนี้ในปีนี้ ทำให้โอกาสปิดการขายทันทีต่ำมาก",
    "closingProbability": 5,
    "positiveSignals": ["ลูกค้าถามถึงขั้นตอนการสั่งซื้อ", "แสดงความสนใจในฟีเจอร์ X อย่างชัดเจน"],
    "negativeSignals": ["ลูกค้ากล่าวถึงงบประมาณที่จำกัดหลายครั้ง", "ยืนยันว่าไม่มีงบประมาณในปีนี้"]
  },
  "strategicRecommendations": {
    "nextBestAction": "ส่งอีเมลสรุปการสนทนาพร้อมใบเสนอราคา และข้อมูลสำหรับของบประมาณในปีถัดไป",
    "talkingPoints": ["เน้นย้ำเรื่องการลดต้นทุนจากการใช้ผลิตภัณฑ์ใหม่", "เสนอ case study ของลูกค้าที่คล้ายกัน"],
    "suggestedOffer": "ส่วนลดพิเศษสำหรับการสั่งซื้อล่วงหน้าสำหรับงบประมาณปีหน้า",
    "potentialUpsellOpportunities": ["เสนอแพ็กเกจบริการดูแลรักษารายปี", "ผลิตภัณฑ์เสริม Y ที่ทำงานร่วมกันได้ดี"],
    "detailedStrategy": [
      {
        "recommendation": "ส่งอีเมลสรุปและใบเสนอราคา",
        "reasoning": "เพื่อรักษาโมเมนตัมและให้ข้อมูลที่เป็นลายลักษณ์อักษรสำหรับให้ลูกค้าไปปรึกษาทีมและวางแผนงบประมาณ",
        "successProbability": 90
      },
      {
        "recommendation": "โทรติดตามผลในอีก 3 เดือนเพื่อสอบถามความคืบหน้าเรื่องงบประมาณ",
        "reasoning": "เพื่อรักษาความสัมพันธ์และแสดงความใส่ใจ เตรียมพร้อมสำหรับโอกาสในอนาคต",
        "successProbability": 60
      }
    ]
  },
  "transcribedText": [
    { "speaker": "ผู้ขาย", "utterance": "สวัสดีครับคุณลูกค้า มีอะไรให้ช่วยไหมครับ", "timestamp": "00:00:02.100" },
    { "speaker": "ลูกค้า", "utterance": "สนใจสอบถามเกี่ยวกับโปรโมชั่นล่าสุดครับ", "timestamp": "00:00:05.500" }
  ]
}`,zN=t=>t?`
ส่วนที่ 2: คำใบ้เกี่ยวกับพนักงานขาย (Salesperson Hint)
ข้อมูลระบบระบุว่าพนักงานขายในสายนี้คือ:
- ชื่อ: ${t.name}
- เบอร์โทรศัพท์: ${t.phone}

โปรดใช้ข้อมูลนี้เป็น "คำใบ้ที่สำคัญ" เพื่อช่วยในการยืนยันและระบุบทบาทของผู้พูดในการสนทนาให้ถูกต้อง
`:"",HN=t=>t&&t.trim()!==""?`
ส่วนที่ 3: ข้อมูลผลิตภัณฑ์ (Product Context)
ใช้รายการด้านล่างนี้เพื่อช่วยในการระบุชื่อผลิตภัณฑ์ที่อาจถูกกล่าวถึงในการสนทนา:
${t}
`:"",ON=t=>t&&t.trim()!=="[]"&&t.trim()!==""?`
ส่วนที่ 4: ประวัติการซื้อของลูกค้า (Customer Purchase History)
นี่คือประวัติการซื้อของลูกค้าที่อยู่ในสาย โปรดใช้ข้อมูลนี้เพื่อทำความเข้าใจความสัมพันธ์ของลูกค้ากับบริษัทและปรับการวิเคราะห์ของคุณ:
${t}
`:"",Ry=(t,e,n)=>{const i=e?JSON.stringify(e,null,2):null;return`
คุณคือสุดยอดโค้ชการขายและนักวิเคราะห์ข้อมูลผู้เชี่ยวชาญ ภารกิจของคุณคือวิเคราะห์การสนทนาการขายอย่างละเอียดเพื่อเพิ่มประสิทธิภาพและโอกาสในการปิดการขาย

**ขั้นตอนการทำงาน (สำคัญมาก):**
1.  **ระบุบทบาทผู้พูด:** งานแรกและสำคัญที่สุดของคุณคือการระบุว่าใครคือ "ผู้ขาย" และใครคือ "ลูกค้า" โดยอิงตามเนื้อหาการสนทนาและคำใบ้ที่ให้มา (ถ้ามี) จากนั้น **ต้อง** แก้ไขป้ายกำกับผู้พูดในผลลัพธ์ \`transcribedText\` ให้เป็น "ผู้ขาย" หรือ "ลูกค้า" ให้ถูกต้องเสมอ
2.  **วิเคราะห์เชิงลึก:** หลังจากระบุบทบาทแล้ว ให้ทำการวิเคราะห์การสนทนาตามหัวข้อต่างๆ

คุณจะได้รับข้อมูลสูงสุด 4 ส่วนเพื่อใช้ในการวิเคราะห์:
1.  **บทสนทนา (จากข้อความหรือไฟล์เสียง):** เนื้อหาหลักของการสนทนา
${zN(n)}
${HN(t)}
${ON(i)}

วิเคราะห์ข้อมูลทั้งหมดที่ได้รับอย่างละเอียด และทำการประเมินใน 4 หัวข้อหลัก:
1.  **ประเมินพนักงานขาย (Salesperson Evaluation):** วิเคราะห์ประสิทธิภาพของพนักงานขายในด้านต่างๆ
2.  **ประเมินลูกค้า (Customer Evaluation):** ทำความเข้าใจโปรไฟล์ ความต้องการ และความรู้สึกของลูกค้า
3.  **ประเมินสถานการณ์ (Situational Evaluation):** สรุปภาพรวม, บรรยากาศ, และระบุสัญญาณเชิงบวกและลบที่สำคัญจากการสนทนา
4.  **กลยุทธ์และคำแนะนำ (Strategic Recommendations):** เสนอแนะกลยุทธ์ที่เป็นรูปธรรมและวัดผลได้เพื่อนำไปสู่ความสำเร็จ

ข้อกำหนดในการตอบ:
- **ต้องตอบเป็นภาษาไทยเท่านั้น** ในทุกๆ field ของ JSON ห้ามใช้ภาษาอังกฤษโดยเด็ดขาด
- **ระบุบทบาทให้ถูกต้อง:** ใน \`transcribedText\`, ค่า \`speaker\` ต้องเป็น "ผู้ขาย" หรือ "ลูกค้า" เท่านั้น ห้ามใช้ค่าอื่นเช่น "Speaker 1" หรือ "Speaker 2"
- **วิเคราะห์พฤติกรรมการซื้อ:** จากข้อมูลประวัติการซื้อ (ถ้ามี) ให้วิเคราะห์และสรุปพฤติกรรมการซื้อของลูกค้าใน field \`purchasingBehavior\` โดยต้องมีข้อมูล: \`summary\`, \`buyingFrequency\`, \`typicalPurchaseVolume\`, และ \`priceSensitivity\`
- **ความสอดคล้องของข้อมูล (สำคัญมาก):** ผลการวิเคราะห์ในทุกส่วนต้องมีความสมเหตุสมผลและสอดคล้องกัน ตัวอย่างเช่น หาก "ระดับความสนใจของลูกค้า" (interestLevel) สูง แต่ "โอกาสในการปิดการขาย" (closingProbability) กลับต่ำมาก (เช่น 0-10%) คุณต้องอธิบายเหตุผลที่ขัดแย้งกันนี้ให้ชัดเจนในส่วน "สรุปผลลัพธ์การโทร" (callOutcomeSummary) เช่น 'แม้ลูกค้าสนใจ แต่ยืนยันว่าไม่มีงบประมาณสำหรับปีนี้ ทำให้โอกาสปิดการขายเป็น 0%'
- **จัดรูปแบบการตอบกลับทั้งหมดให้เป็นออบเจ็กต์ JSON ที่ถูกต้องเพียงออบเจ็กต์เดียว** และครอบด้วยบล็อกโค้ด Markdown \`\`\`json ... \`\`\` เสมอ
- โครงสร้างของ JSON ต้องเป็นไปตามตัวอย่างนี้ทุกประการ (แทนที่ค่าตัวอย่างด้วยผลการวิเคราะห์ของคุณ):

${BN}
`},FN=(t,e,n,i)=>`
${Ry(e,n,i)}

--- BEGIN TRANSCRIPT ---
${t}
--- END TRANSCRIPT ---
`,YN=(t,e,n)=>`
${Ry(t,e,n)}

โปรดเริ่มจากการถอดเสียงไฟล์เสียงที่แนบมาเป็นภาษาไทย และใส่ผลลัพธ์ใน field "transcribedText" ของ JSON ตามโครงสร้างที่กำหนด จากนั้นจึงทำการวิเคราะห์ทั้งหมด
`,JN=t=>new Promise((e,n)=>{const i=new FileReader;i.readAsDataURL(t),i.onload=()=>{const l=i.result.split(",")[1];if(!l){n(new Error("Failed to extract base64 data from file."));return}e(l)},i.onerror=l=>n(l)}),by=t=>{let e=t.trim();const n=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,i=e.match(n);i&&i[2]&&(e=i[2].trim());try{const l=JSON.parse(e),{salespersonEvaluation:o,customerEvaluation:r,situationalEvaluation:u,strategicRecommendations:c}=l;return o&&(Array.isArray(o.strengths)||(o.strengths=[]),Array.isArray(o.areasForImprovement)||(o.areasForImprovement=[])),r&&(Array.isArray(r.painPointsIdentified)||(r.painPointsIdentified=[]),Array.isArray(r.decisionMakingFactors)||(r.decisionMakingFactors=[])),u&&(Array.isArray(u.keyTopicsDiscussed)||(u.keyTopicsDiscussed=[]),Array.isArray(u.unresolvedQuestions)||(u.unresolvedQuestions=[]),Array.isArray(u.positiveSignals)||(u.positiveSignals=[]),Array.isArray(u.negativeSignals)||(u.negativeSignals=[])),c&&(Array.isArray(c.talkingPoints)||(c.talkingPoints=[]),Array.isArray(c.potentialUpsellOpportunities)||(c.potentialUpsellOpportunities=[]),Array.isArray(c.detailedStrategy)||(c.detailedStrategy=[])),l.transcribedText&&!Array.isArray(l.transcribedText)&&(l.transcribedText=[]),l}catch(l){throw console.error("Failed to parse JSON response:",l),console.error("Raw response text:",t),new Error(`Failed to parse AI response. Expected JSON but received: ${t.substring(0,1e3)}...`)}},Dy=()=>{const t="AIzaSyCpH-19BDl9C-6Eyvgl54Vz8-KVe0ShDHQ";return new GN({apiKey:t})},wy=(t,e)=>{var n;if((n=t.promptFeedback)!=null&&n.blockReason){const{blockReason:i,blockReasonMessage:l}=t.promptFeedback,o=`The AI response was blocked. Reason: ${i}. ${l||"No additional details provided."}`;throw console.error(`Gemini API content blocked for ${e} analysis.`,t.promptFeedback),new Error(o)}else throw console.error(`Gemini API returned an empty text response for ${e} analysis without a specific block reason.`),new Error("Received an empty response from the AI. This could be due to a temporary issue or a content policy violation.")},ZN=async(t,e,n,i)=>{const l=Dy(),o=FN(t,e,n,i);try{const r=await l.models.generateContent({model:Ny,contents:o,config:{temperature:.5,maxOutputTokens:8192}});return r.text||wy(r,"text"),by(r.text)}catch(r){throw console.error("Error calling Gemini API for text analysis:",r),r instanceof Error?new Error(`Gemini API error: ${r.message}`):new Error("An unknown error occurred while contacting the Gemini API.")}},$N=async(t,e,n,i)=>{const l=Dy();try{const o=await JN(t),r={inlineData:{mimeType:t.type||"audio/mpeg",data:o}},u={text:YN(e,n,i)},c=await l.models.generateContent({model:Ny,contents:[{parts:[r,u]}],config:{temperature:.5,maxOutputTokens:8192}});return c.text||wy(c,"audio"),by(c.text)}catch(o){throw console.error("Error calling Gemini API for audio analysis:",o),o instanceof Error?new Error(`Gemini API error: ${o.message}`):new Error("An unknown error occurred while contacting the Gemini API.")}},XN=/^myrecordings_(\d{8})_(\d{6})_(in|out)_([^_]+)_([^_.]+)\.(WAV|MP3|M4A|OGG|FLAC)$/i,Ym=t=>{let e=t.replace(/%2B/g,"");return e.startsWith("66")?"0"+e.substring(2):e},KN=t=>{const e=t.match(XN);if(!e)return null;const[,n,i,l,o,r]=e,u=n.substring(0,4),c=n.substring(4,6),f=n.substring(6,8),d=i.substring(0,2),m=i.substring(2,4),h=i.substring(4,6);return{date:`${u}-${c}-${f}`,time:`${d}:${m}:${h}`,callType:l.toLowerCase()==="out"?"โทรออก":"โทรเข้า",sourcePhone:Ym(o),destinationPhone:Ym(r),originalFilename:t}},QN=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.95-4.243-1.591 1.591M5.25 12H3m4.243-4.95L6 6.209M12 12a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0Z"})}),WN=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})}),jN=({theme:t,toggleTheme:e})=>p.jsx("button",{onClick:e,className:`p-2 rounded-full transition-all duration-300
                 text-slate-500 hover:text-slate-900 hover:bg-slate-200/70
                 dark:text-slate-400 dark:hover:text-slate-100 dark:hover:bg-white/10`,"aria-label":`Switch to ${t==="dark"?"light":"dark"} mode`,children:t==="dark"?p.jsx(QN,{className:"h-6 w-6"}):p.jsx(WN,{className:"h-6 w-6"})}),eR=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"48px",height:"48px",...t,children:[p.jsx("path",{fill:"#4285F4",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),p.jsx("path",{fill:"#34A853",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571l5.657,5.657C42.822,35.419,44,31.891,44,28C44,22.659,43.862,21.35,43.611,20.083z"}),p.jsx("path",{fill:"#FBBC05",d:"M19.913,38.221c-1.856-1.405-3.295-3.334-4.087-5.571L10.169,38.31C13.438,42.946,18.4,46,24,46c5.6,0,10.562-3.054,13.831-7.69l-5.657-5.657C30.651,34.469,27.428,36,24,36C22.618,36,21.284,35.539,20.12,34.738L19.913,38.221z"}),p.jsx("path",{fill:"#EA4335",d:"M24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C18.4,4,13.438,7.054,10.169,11.69l5.657,5.657C16.618,14.461,19.841,12,24,12z"})]}),tR=({isLoggedIn:t,userProfile:e,onLogin:n,onLogout:i,isGapiReady:l})=>t&&e?p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("img",{src:e.imageUrl,alt:e.name,className:"h-8 w-8 rounded-full border-2 border-slate-300 dark:border-slate-600",title:`Logged in as ${e.name} (${e.email})`}),p.jsx("button",{onClick:i,className:"text-xs text-slate-500 hover:text-slate-800 dark:text-slate-400 dark:hover:text-slate-100 transition-colors",children:"Logout"})]}):p.jsxs("button",{onClick:n,disabled:!l,className:`flex items-center gap-2 px-3 py-1.5 rounded-lg transition-all duration-300 text-sm
                       text-slate-600 bg-white/80 border border-slate-300 hover:bg-slate-200
                       dark:text-slate-300 dark:bg-white/10 dark:border-white/20 dark:hover:bg-white/20
                       disabled:opacity-50 disabled:cursor-wait`,"aria-label":"Login with Google",children:[p.jsx(eR,{className:"h-4 w-4"}),l?"Login":"Loading..."]}),Jm=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})}),nR=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",...t,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12.56 0c1.153 0 2.243.096 3.222.261m3.478-.397L11.25 4.125M4.772 5.79L2.25 3m0 0a2.25 2.25 0 0 1 2.25-2.25h15A2.25 2.25 0 0 1 21.75 3m-19.5 0v.243a2.25 2.25 0 0 0 .167.807L4.772 5.79m14.456 0H4.772"})}),iR=({customer:t})=>p.jsx("div",{className:"bg-white/50 dark:bg-black/20 backdrop-blur-xl p-6 rounded-2xl shadow-lg border border-slate-200 dark:border-white/10",children:p.jsxs("div",{className:"flex flex-col sm:flex-row items-start gap-6",children:[p.jsx(ou,{className:"h-16 w-16 text-sky-500 dark:text-sky-400 shrink-0"}),p.jsxs("div",{className:"flex-grow",children:[p.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-slate-100",children:t.name}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:t.phone}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-500 mt-1",children:t.address})]}),p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-1 gap-4 text-right w-full sm:w-auto mt-4 sm:mt-0",children:[p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"ยอดรวม"}),p.jsxs("p",{className:"text-xl font-bold text-green-600 dark:text-green-400",children:[t.totalSpent.toLocaleString("th-TH")," บาท"]})]}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"จำนวนครั้งที่สั่ง"}),p.jsx("p",{className:"text-xl font-bold text-sky-600 dark:text-sky-400",children:t.orderCount})]})]})]})}),lR=({records:t,dateFilter:e})=>{const n=B.useMemo(()=>{const i=new Date;return i.setHours(0,0,0,0),i.setDate(i.getDate()-90),i},[]);return p.jsxs("div",{children:[p.jsxs("h4",{className:"text-xl font-semibold mb-4 flex items-center text-slate-700 dark:text-slate-300",children:[p.jsx(Jg,{className:"h-6 w-6 mr-3"})," ประวัติการสั่งซื้อ"]}),p.jsx("div",{className:"overflow-x-auto bg-white/50 dark:bg-black/20 backdrop-blur-xl rounded-2xl shadow-lg border border-slate-200 dark:border-white/10",children:p.jsxs("table",{className:"w-full text-sm text-left",children:[p.jsx("thead",{className:"bg-slate-200/60 dark:bg-white/5 text-slate-700 dark:text-slate-300",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-3 font-semibold",children:"วันที่ขาย"}),p.jsx("th",{className:"px-4 py-3 font-semibold",children:"สินค้า"}),p.jsx("th",{className:"px-4 py-3 font-semibold text-right",children:"จำนวน"}),p.jsx("th",{className:"px-4 py-3 font-semibold text-right",children:"ราคา"}),p.jsx("th",{className:"px-4 py-3 font-semibold",children:"พนักงานขาย"})]})}),p.jsx("tbody",{className:"divide-y divide-slate-200/80 dark:divide-white/10 text-slate-800 dark:text-slate-300",children:t.length>0?t.map((i,l)=>{var u;const r=`transition-colors duration-150 ${e==="all"&&i.วันที่ขาย>=n?"bg-sky-100/60 dark:bg-sky-500/10 hover:bg-sky-200/60 dark:hover:bg-sky-500/20":"hover:bg-slate-200/40 dark:hover:bg-white/5"}`;return p.jsxs("tr",{className:r,children:[p.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:i.วันที่ขาย.toLocaleDateString("th-TH",{day:"2-digit",month:"2-digit",year:"numeric"})}),p.jsx("td",{className:"px-4 py-3",children:i.สินค้า||"-"}),p.jsx("td",{className:"px-4 py-3 text-right",children:i.จำนวน??"-"}),p.jsx("td",{className:"px-4 py-3 text-right",children:((u=i.ราคา)==null?void 0:u.toLocaleString("th-TH"))??"-"}),p.jsx("td",{className:"px-4 py-3",children:i.พนักงานขาย||"-"})]},l)}):p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:"text-center py-8 text-slate-500 dark:text-slate-400",children:"ไม่พบข้อมูลการซื้อในระยะเวลาที่เลือก"})})})]})})]})},oR=({allRecords:t,isLoading:e,error:n})=>{const[i,l]=B.useState(""),[o,r]=B.useState(null),[u,c]=B.useState(null),[f,d]=B.useState("all"),m=B.useMemo(()=>{if(!t)return[];const v=new Map;return t.forEach(y=>{if(y.เบอร์โทร){const T=y.เบอร์โทร;v.has(T)||v.set(T,{records:[]}),v.get(T).records.push(y)}}),Array.from(v.entries()).map(([y,T])=>{const x=T.records.sort((E,b)=>b.วันที่ขาย.getTime()-E.วันที่ขาย.getTime())[0],D=T.records.reduce((E,b)=>E+(b.ราคา||0),0),N=new Set(T.records.map(E=>E.วันที่ขาย.toDateString()));return{phone:y,name:x.ชื่อผู้รับ||x["ชื่อ Facebook"]||"Unknown",facebookName:x["ชื่อ Facebook"],address:`${x.ที่อยู่||""} ${x.ตำบล||""} ${x.อำเภอ||""} ${x.จังหวัด||""} ${x.รหัสไปรษณีย์||""}`.trim()||"ไม่มีข้อมูลที่อยู่",totalSpent:D,orderCount:N.size}})},[t]),h=v=>{l(v.target.value),u&&c(null),r(null)},g=B.useCallback(()=>{if(!i.trim()){r([]);return}const v=i.toLowerCase(),y=m.filter(T=>T.phone.includes(i.replace(/\D/g,""))||T.name.toLowerCase().includes(v)||(T.facebookName||"").toLowerCase().includes(v));y.length===1?(c(y[0]),r(null)):(c(null),r(y))},[i,m]),S=v=>{c(v),r(null),l(v.name)},_=()=>{l(""),r(null),c(null)},M=B.useMemo(()=>{if(!u||!t)return[];const v=t.filter(y=>y.เบอร์โทร===u.phone).sort((y,T)=>T.วันที่ขาย.getTime()-y.วันที่ขาย.getTime());if(f==="3months"){const y=new Date;return y.setHours(0,0,0,0),y.setDate(y.getDate()-90),v.filter(T=>{const C=T.วันที่ขาย;return new Date(C.getFullYear(),C.getMonth(),C.getDate())>=y})}return v},[u,t,f]);return p.jsxs("main",{className:"container mx-auto mt-4 mb-8 p-4 sm:p-6 lg:p-8 w-full max-w-5xl bg-slate-100/80 dark:bg-black/20 backdrop-blur-2xl shadow-2xl rounded-3xl border border-slate-200 dark:border-white/10 relative",children:[e&&p.jsx(Zg,{}),n&&p.jsx(au,{message:n}),!e&&!n&&t&&p.jsxs("div",{className:"animate-fadeIn space-y-6",children:[p.jsxs("div",{className:"p-4 bg-slate-200/30 dark:bg-black/10 rounded-2xl space-y-4 border border-slate-300/50 dark:border-white/10",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch gap-3",children:[p.jsxs("div",{className:"relative flex-grow",children:[p.jsx(Jm,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400 pointer-events-none"}),p.jsx("input",{type:"text",value:i,onChange:h,onKeyDown:v=>v.key==="Enter"&&g(),placeholder:"ค้นหาด้วยชื่อ, ชื่อ Facebook, หรือเบอร์โทรศัพท์...",className:"w-full pl-12 pr-4 py-3 bg-white/80 dark:bg-black/30 border-2 border-slate-300 dark:border-white/10 rounded-xl focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-lg text-slate-900 dark:text-slate-200 placeholder-slate-400 dark:placeholder-slate-500 backdrop-blur-sm",autoComplete:"off"})]}),p.jsxs("button",{onClick:g,disabled:!i.trim(),className:"w-full sm:w-auto px-6 py-3 bg-sky-600 hover:bg-sky-500 text-white font-semibold rounded-xl transition-colors duration-150 disabled:opacity-50 flex items-center justify-center gap-2",children:[p.jsx(Jm,{className:"h-5 w-5"}),"ค้นหา"]}),p.jsx("button",{onClick:_,className:"w-full sm:w-auto px-4 py-3 bg-slate-200 hover:bg-slate-300 dark:bg-white/10 dark:hover:bg-white/20 text-slate-600 dark:text-slate-300 font-semibold rounded-xl transition-colors duration-150 flex items-center justify-center gap-2",title:"ล้างข้อมูล",children:p.jsx(nR,{className:"h-5 w-5"})})]}),p.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-3 pt-2",children:[p.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-400",children:"แสดงผล:"}),p.jsxs("div",{className:"flex bg-slate-200/50 dark:bg-black/20 p-1 rounded-xl gap-2",children:[p.jsx("button",{onClick:()=>d("all"),className:`px-4 py-1.5 font-semibold text-xs rounded-lg transition-all duration-200 ${f==="all"?"bg-white dark:bg-slate-700 shadow text-sky-600 dark:text-white":"text-slate-500 hover:bg-slate-200/60 dark:text-slate-400 dark:hover:bg-white/10"}`,children:"ดูข้อมูลทั้งหมด"}),p.jsx("button",{onClick:()=>d("3months"),className:`px-4 py-1.5 font-semibold text-xs rounded-lg transition-all duration-200 ${f==="3months"?"bg-white dark:bg-slate-700 shadow text-sky-600 dark:text-white":"text-slate-500 hover:bg-slate-200/60 dark:text-slate-400 dark:hover:bg-white/10"}`,children:"ดูย้อนหลัง 3 เดือน"})]})]})]}),p.jsxs("div",{className:"mt-6",children:[u&&p.jsxs("div",{className:"animate-fadeIn space-y-6",children:[p.jsx(iR,{customer:u}),p.jsx(lR,{records:M,dateFilter:f})]}),o&&o.length>1&&!u&&p.jsxs("div",{className:"animate-fadeIn",children:[p.jsxs("h3",{className:"text-lg font-semibold mb-4 text-slate-700 dark:text-slate-200",children:["พบผลลัพธ์ ",o.length," รายการ กรุณาเลือก:"]}),p.jsx("ul",{className:"space-y-3 max-h-[50vh] overflow-y-auto pr-2",children:o.map(v=>p.jsxs("li",{onClick:()=>S(v),className:"p-4 bg-white/50 dark:bg-black/20 backdrop-blur-xl rounded-lg shadow-md border border-slate-200 dark:border-white/10 cursor-pointer hover:border-sky-500 hover:bg-sky-50 dark:hover:bg-sky-500/10 transition-all",children:[p.jsx("p",{className:"font-semibold text-slate-800 dark:text-slate-200",children:v.name}),p.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:v.phone})]},v.phone))})]}),o&&o.length===0&&p.jsx("div",{className:"text-center py-10 text-slate-500 dark:text-slate-400",children:p.jsxs("p",{children:['ไม่พบข้อมูลลูกค้าที่ตรงกับ "',i,'"']})})]})]}),p.jsx("style",{dangerouslySetInnerHTML:{__html:`
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .animate-fadeIn { animation: fadeIn 0.5s ease-out forwards; }
      `}})]})},aR=({message:t="กำลังเตรียมข้อมูล..."})=>p.jsx("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-slate-100 dark:bg-slate-900 transition-opacity duration-300 ease-in-out",children:p.jsxs("div",{className:"flex flex-col items-center justify-center p-6 text-center",children:[p.jsxs("svg",{className:"animate-spin h-16 w-16 text-sky-500 mb-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),p.jsx("h2",{className:"text-2xl font-semibold text-slate-700 dark:text-slate-200",children:t}),p.jsx("p",{className:"mt-2 text-slate-500 dark:text-slate-400",children:"กรุณารอสักครู่ ระบบกำลังโหลดข้อมูลจากฐานข้อมูล"})]})}),sR="https://media.githubusercontent.com/media/PonuoM/Search-V4/main/sales_data.xlsx",rR=lr==null?void 0:lr.version,uR=new Date().toLocaleString("th-TH",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:"Asia/Bangkok"}),cR=t=>{if(!t)return null;if(t instanceof Date&&!isNaN(t.getTime()))return t;if(typeof t=="string"){const e=t.trim(),n=e.split("/");if(n.length===3){const l=parseInt(n[0],10),o=parseInt(n[1],10),r=parseInt(n[2],10);if(!isNaN(l)&&!isNaN(o)&&!isNaN(r)&&r>1e3){const u=new Date(r,o-1,l);if(u&&u.getFullYear()===r&&u.getMonth()===o-1&&u.getDate()===l)return u}}const i=new Date(e);return isNaN(i.getTime())?null:i}if(typeof t=="number"&&t>0){const e=new Date((t-25569)*86400*1e3);return isNaN(e.getTime())?null:e}return null},ur=t=>{if(t==null)return;if(typeof t=="number")return t;const e=Number(String(t).replace(/,/g,""));return isNaN(e)?void 0:e},fR=(t,e,n)=>{const i=cR(t[e]);if(!i)return null;const l=t[n],o=l!=null&&String(l).trim()!==""?String(l).replace(/\D/g,""):void 0;return{วันที่ขาย:i,เบอร์โทร:o,ลำดับ:ur(t.ลำดับ),ช่องทางขาย:t.ช่องทางขาย?String(t.ช่องทางขาย):void 0,ชำระเงิน:t.ชำระเงิน?String(t.ชำระเงิน):void 0,"ชื่อ Facebook":t["ชื่อ Facebook"]?String(t["ชื่อ Facebook"]):void 0,พนักงานขาย:t.พนักงานขาย?String(t.พนักงานขาย):void 0,สินค้า:t.สินค้า?String(t.สินค้า):void 0,จำนวน:ur(t.จำนวน),ราคา:ur(t.ราคา),ชื่อผู้รับ:t.ชื่อผู้รับ?String(t.ชื่อผู้รับ):void 0,ที่อยู่:t.ที่อยู่?String(t.ที่อยู่):void 0,ตำบล:t.ตำบล?String(t.ตำบล):void 0,อำเภอ:t.อำเภอ?String(t.อำเภอ):void 0,จังหวัด:t.จังหวัด?String(t.จังหวัด):void 0,รหัสไปรษณีย์:t.รหัสไปรษณีย์?String(t.รหัสไปรษณีย์):void 0}},dR=()=>{const[t,e]=B.useState(null),[n,i]=B.useState(!1),[l,o]=B.useState(null),[r,u]=B.useState(We.TEXT),[c,f]=B.useState(""),[d,m]=B.useState(null),[h,g]=B.useState(null),[S,_]=B.useState(null),[M,v]=B.useState(null),[y,T]=B.useState("dark"),[C,x]=B.useState("analyzer"),[D,N]=B.useState("กำลังเตรียมข้อมูล..."),[E,b]=B.useState(""),k=E==="1234",[P,se]=B.useState(!1),[Fe,de]=B.useState(null),[W]=B.useState("1o8FmE0gUcS5J-SEnlceIYA86oY4aSJXMk4mY7dhEWpY"),[w,O]=B.useState(!1),[q,ie]=B.useState(null),[me,an]=B.useState(null),[_t,sn]=B.useState(null),[xt,rn]=B.useState(null),[Dc,wc]=B.useState(!0),[_s,kc]=B.useState(null);B.useEffect(()=>{(async()=>{N("กำลังโหลดข้อมูลหลัก...");try{const Z=`${sR}?t=${new Date().getTime()}`,xe=await fetch(Z);if(!xe.ok)throw new Error(`ไม่สามารถดาวน์โหลดไฟล์ข้อมูลได้ (HTTP ${xe.status})`);const tt=await xe.arrayBuffer(),un=Ic.read(tt,{type:"buffer",cellDates:!0}),cn=un.SheetNames[0],Be=un.Sheets[cn],he=Ic.utils.sheet_to_json(Be,{raw:!1,defval:null}).map(Gt=>fR(Gt,"วันที่ขาย","เบอร์โทร")).filter(Gt=>Gt!==null);sn(he)}catch(Z){console.error("Error fetching GitHub data:",Z),kc(`ไม่สามารถโหลดข้อมูลจาก GitHub: ${Z instanceof Error?Z.message:"Unknown error"}`),sn([])}})()},[]),B.useEffect(()=>{(async()=>{if(P&&W){N("กำลังโหลดข้อมูล Real-time...");try{const{salesData:Z,contextData:xe}=await HT(W);rn(Z),ie(xe)}catch(Z){console.error("Error fetching Google Sheet data:",Z),kc(xe=>`${xe?xe+`
`:""}ไม่สามารถโหลดข้อมูลจาก Google Sheet: ${Z instanceof Error?Z.message:"Unknown error"}`),rn([]),ie(null)}}})()},[P,W]),B.useEffect(()=>{if(_t===null)return;N("กำลังรวมข้อมูล...");const ee=new Map,Z=Be=>`${Be.เบอร์โทร||"no-phone"}_${Be.วันที่ขาย.toISOString().split("T")[0]}_${Be.สินค้า||""}_${Be.ราคา||0}`;(_t||[]).forEach(Be=>{ee.set(Z(Be),Be)}),(xt||[]).forEach(Be=>{ee.set(Z(Be),Be)});const xe=Array.from(ee.values()).sort((Be,vl)=>vl.วันที่ขาย.getTime()-Be.วันที่ขาย.getTime());an(xe),_t!==null&&(!!!W||!P||xt!==null)&&wc(!1)},[_t,xt,W,P]),B.useEffect(()=>{const ee=()=>{yn.client.init({apiKey:"AIzaSyATZFV65oVONu6OYBvGRMHFETe673Q2A8w",clientId:"53047523110-uglvdak33tf38glmj73egrn1g9f4c6cb.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/spreadsheets",discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"]}).then(()=>{O(!0);const Z=yn.auth2.getAuthInstance();if(Z&&Z.isSignedIn.get()){se(!0);const tt=Z.currentUser.get().getBasicProfile();de({name:tt.getName(),email:tt.getEmail(),imageUrl:tt.getImageUrl()})}}).catch(Z=>{console.error("Error initializing GAPI client",Z);let xe="Could not initialize Google services.";if(typeof Z=="object"&&Z!==null&&"details"in Z&&typeof Z.details=="string"){const tt=Z.details;(tt.includes("invalid")||tt.includes("not a valid origin"))&&(xe=`เกิดข้อผิดพลาดในการกำหนดค่า Google: URL (${window.location.origin}) อาจไม่ได้ลงทะเบียนเป็น 'Authorized JavaScript origins' ใน Google Cloud Project ของคุณ`)}o(xe),O(!1)})};yn.load("client:auth2",ee)},[]);const Uy=B.useCallback(async()=>{try{const ee=yn.auth2.getAuthInstance();if(ee){const Z=await ee.signIn();se(!0);const xe=Z.getBasicProfile();de({name:xe.getName(),email:xe.getEmail(),imageUrl:xe.getImageUrl()})}}catch(ee){ee.error!=="popup_closed_by_user"&&console.error("Login error:",ee)}},[]),Iy=B.useCallback(async()=>{try{const ee=yn.auth2.getAuthInstance();ee&&(await ee.signOut(),se(!1),de(null),rn(null),ie(null))}catch(ee){console.error("Logout error:",ee)}},[]);B.useEffect(()=>{y==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[y]);const Ly=()=>{T(ee=>ee==="dark"?"light":"dark")},Vy=B.useCallback(async()=>{i(!0),o(null),e(null);try{let ee=null,Z=null;const xe=(q==null?void 0:q.productContext)??null,tt=(q==null?void 0:q.salespersons)??null;r===We.AUDIO&&d&&(Z=KN(d.name)),g(Z);let un=null;if(Z&&tt&&tt.length>0){const he=Z.callType==="โทรออก"?Z.sourcePhone:Z.destinationPhone;if(he){const Gt=tt.find(Uc=>Uc.phone&&Uc.phone.replace(/\D/g,"")===he.replace(/\D/g,""));Gt&&(un=Gt)}}_(un);let cn=null;if(Z&&me){const he=Z.callType==="โทรออก"?Z.destinationPhone:Z.sourcePhone;he&&(cn=me.filter(Gt=>Gt.เบอร์โทร&&Gt.เบอร์โทร.replace(/\D/g,"")===he.replace(/\D/g,"")))}const Be=cn?cn.map(he=>({phone:he.เบอร์โทร,product:he.สินค้า,price:he.ราคา,date:he.วันที่ขาย.toLocaleDateString("th-TH",{day:"2-digit",month:"2-digit",year:"numeric"}),recipientName:he.ชื่อผู้รับ,address:[he.ที่อยู่,he.ตำบล,he.อำเภอ].filter(Boolean).join(" ").trim(),province:he.จังหวัด,quantity:he.จำนวน})):null;v(Be);const vl=cn?cn.map(he=>({date:he.วันที่ขาย.toISOString().split("T")[0],product:he.สินค้า,quantity:he.จำนวน,price:he.ราคา,recipientName:he.ชื่อผู้รับ,phone:he.เบอร์โทร})):null;if(r===We.TEXT){if(!c.trim())throw new Error("Please paste a transcript.");ee=await ZN(c,xe,vl,un)}else if(r===We.AUDIO){if(!d)throw new Error("Please upload an audio file.");ee=await $N(d,xe,vl,un)}if(ee)e(ee);else throw new Error("Analysis failed to produce a result.")}catch(ee){console.error("Analysis error:",ee),o(ee instanceof Error?`Analysis failed: ${ee.message}`:"An unknown error occurred during analysis.")}finally{i(!1)}},[r,c,d,q,me]);if(B.useEffect(()=>{(r===We.TEXT||!d)&&(g(null),_(null))},[r,d]),Dc)return p.jsx(aR,{message:D});const Py=()=>{switch(C){case"analyzer":return k?p.jsxs("main",{className:"container mx-auto mt-4 mb-8 p-4 sm:p-6 lg:p-8 w-full max-w-5xl bg-slate-100/80 dark:bg-black/20 backdrop-blur-2xl shadow-2xl rounded-3xl border border-slate-200 dark:border-white/10 relative",children:[p.jsx(GT,{onAnalyze:Vy,isLoading:n,currentInputMode:r,setCurrentInputMode:u,transcriptText:c,setTranscriptText:f,audioFile:d,setAudioFile:m,isDataConnected:!0}),n&&p.jsx(Zg,{}),l&&p.jsx(au,{message:l}),_s&&p.jsx(au,{message:_s}),t&&!n&&!l&&p.jsx(XT,{result:t,callMetadata:h,salespersonName:(S==null?void 0:S.name)??null,relevantHistory:M,isLoggedIn:P,googleSheetId:W})]}):p.jsx("main",{className:"container mx-auto mt-4 mb-8 flex items-center justify-center p-4 sm:p-6 lg:p-8 w-full max-w-5xl",children:p.jsxs("div",{className:"w-full max-w-sm p-8 bg-white/50 dark:bg-black/20 backdrop-blur-xl rounded-2xl shadow-xl border border-slate-200 dark:border-white/10 text-center",children:[p.jsx(Ya,{className:"h-12 w-12 text-sky-500 dark:text-sky-400 mx-auto mb-4"}),p.jsx("h2",{className:"text-2xl font-bold mb-2",children:"ต้องการการเข้าถึง"}),p.jsx("p",{className:"text-slate-600 dark:text-slate-400 mb-6",children:"กรุณาใส่รหัสผ่านเพื่อใช้งาน AI Analyzer"}),p.jsx("input",{type:"password",value:E,onChange:ee=>b(ee.target.value),placeholder:"••••••••",className:"w-full px-4 py-2.5 bg-white/50 dark:bg-black/20 border-2 border-slate-300 dark:border-white/10 rounded-lg focus:ring-2 focus:ring-sky-500 focus:border-sky-500 text-center text-lg tracking-widest",autoFocus:!0})]})});case"history":return p.jsx(oR,{allRecords:me,isLoading:Dc,error:_s});default:return null}};return p.jsxs("div",{className:"min-h-screen text-slate-800 dark:text-slate-200 flex flex-col items-center p-4 selection:bg-sky-500 selection:text-white transition-colors duration-300",children:[p.jsxs("div",{className:"fixed top-4 right-4 z-50 flex items-center gap-2",children:[p.jsx(tR,{isLoggedIn:P,userProfile:Fe,onLogin:Uy,onLogout:Iy,isGapiReady:w}),p.jsx(jN,{theme:y,toggleTheme:Ly})]}),p.jsx(qT,{activePage:C,setActivePage:x}),Py(),p.jsxs("footer",{className:"text-center py-4 text-slate-500 dark:text-slate-400 text-sm",children:[p.jsx("p",{children:"Powered by Thanu Suriwong"}),p.jsxs("p",{children:["© ",new Date().getFullYear()," Customer Service. All rights reserved."]}),p.jsxs("p",{className:"mt-1",children:["อัปเดตล่าสุด: ",uR," • เวอร์ชัน ",rR]})]})]})},ky=document.getElementById("root");if(!ky)throw new Error("Could not find root element to mount to");const mR=Fg.createRoot(ky);mR.render(p.jsx(i0.StrictMode,{children:p.jsx(dR,{})}));
